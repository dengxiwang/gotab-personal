import{aJ as e,z as s,e as r,aP as n,bn as t}from"./main-Drts11_7.js";import{r as i,a as c}from"./mediaQueryUtil-DPPPwwPM.js";const a=["xxl","xl","lg","md","sm","xs"],o=(e,s)=>{if(s)for(const r of a)if(e[r]&&void 0!==(null==s?void 0:s[r]))return s[r]},l=()=>{const[,r]=e(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const s=e,r=[].concat(a).reverse();return r.forEach(((e,n)=>{const t=e.toUpperCase(),i=`screen${t}Min`,c=`screen${t}`;if(!(s[i]<=s[c]))throw new Error(`${i}<=${c} fails : !(${s[i]}<=${s[c]})`);if(n<r.length-1){const e=`screen${t}Max`;if(!(s[c]<=s[e]))throw new Error(`${c}<=${e} fails : !(${s[c]}<=${s[e]})`);const i=`screen${r[n+1].toUpperCase()}Min`;if(!(s[e]<=s[i]))throw new Error(`${e}<=${i} fails : !(${s[e]}<=${s[i]})`)}})),e})(r));return s.useMemo((()=>{const e=new Map;let s=-1,r={};return{responsiveMap:n,matchHandlers:{},dispatch:s=>(r=s,e.forEach((e=>e(r))),e.size>=1),subscribe(n){return e.size||this.register(),s+=1,e.set(s,n),n(r),s},unsubscribe(s){e.delete(s),e.size||this.unregister()},register(){Object.entries(n).forEach((([e,s])=>{const n=({matches:s})=>{this.dispatch(Object.assign(Object.assign({},r),{[e]:s}))},t=window.matchMedia(s);c(t,n),this.matchHandlers[s]={mql:t,listener:n},n(t)}))},unregister(){Object.values(n).forEach((e=>{const s=this.matchHandlers[e];i(null==s?void 0:s.mql,null==s?void 0:s.listener)})),e.clear()}}}),[r])};function h(e=!0,s={}){const i=r.useRef(s),c=n(),a=l();return t((()=>{const s=a.subscribe((s=>{i.current=s,e&&c()}));return()=>a.unsubscribe(s)}),[]),i.current}export{o as m,a as r,h as u};
