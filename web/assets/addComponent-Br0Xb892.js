import{e,x as t,ab as s,j as o,ao as i,E as a,b$ as r,ac as l,B as m,H as p,a0 as n,ak as d,al as c,aa as j,a9 as x}from"./requestIdleCallbackPolyfill-BoNiFUcB.js";import{b as u}from"./index-Drysno5M.js";import{c as g}from"./sortableJsUtils-ULR2nlhr.js";import{c as h}from"./homePage-EcEl6swg.js";import"./iconBase-CtOf60lZ.js";import"./main-UtFjy664.js";import"./fullSpin-CVWdFtpk.js";import"./index-Dy0ZQ-9_.js";import"./myDrawer2-A1LUIXqT.js";import"./handleButton-Cyndz12c.js";import"./myModal-DyqEcV-i.js";import"./submitForInclusion-CEkuxdBT.js";import"./index-ws_nZKVV.js";import"./row-DfwvfXqV.js";import"./useBreakpoint-uadnSQd6.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./index-D8QKTSMb.js";import"./getAllowClear-CmTZZq-n.js";import"./Input-C7MCIp29.js";import"./TextArea-BIpFRF6O.js";import"./index-Cn_j1pD5.js";import"./Overflow-Czf6qX4S.js";import"./CloudUploadOutlined-CCMmKKZV.js";import"./ColorPicker-CqYzWV1g.js";import"./index-Sm55AIPm.js";import"./index-D3-WxobM.js";import"./assets-CmvcfQKP.js";import"./index-f5jrm4o3.js";import"./MailOutlined-CDrHGAZ9.js";import"./index-B1-yPQsO.js";import"./LeftOutlined-D9Sp279J.js";import"./PlusOutlined-XkZjxMLS.js";import"./SearchOutlined-QVHF1tA_.js";import"./useFresh-BHMdf25h.js";import"./spinLoading-Cs0HX0yv.js";import"./LikeFilled-RkpBHFam.js";import"./index-BdYAwYNh.js";import"./QuestionCircleOutlined-CZk_-n1F.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-Ck9uRid3.js";import"./styleChecker-MbCMrSTe.js";import"./sortable.esm-BbtDOPOV.js";import"./addRecommendAppForm-CxOtSyyb.js";import"./UserOutlined-DTLJiztK.js";import"./markdownContent-BvAxzp63.js";import"./index-BgL6SJFT.js";const b={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gridAutoRows:"150px",gap:"24px"},y=e=>{const a=t.c(9),{targetCategory:r}=e,{token:l}=s.useToken();let m,p,n,d;return a[0]!==r?(m=h.map(((e,t)=>o.jsx(k,{item:e,targetCategory:r},t))),a[0]=r,a[1]=m):m=a[1],a[2]!==m?(p=o.jsx("div",{style:b,children:m}),a[2]=m,a[3]=p):p=a[3],a[4]!==l.colorTextDisabled?(n=o.jsx(i,{className:"text-xs m-0 pt-6",style:{color:l.colorTextDisabled},children:"到达底部"}),a[4]=l.colorTextDisabled,a[5]=n):n=a[5],a[6]!==p||a[7]!==n?(d=o.jsxs("div",{className:"max-w-[640px] m-auto",children:[p,n]}),a[6]=p,a[7]=n,a[8]=d):d=a[8],d};y.displayName="AddComponent";const f=e.memo(y),k=e.memo((t=>{const{item:i,targetCategory:h}=t,b=a(),{token:y}=s.useToken(),f=r("(prefers-color-scheme: dark)"),k=l((e=>e.wallpaperTheme.themeMode)),C=e.useCallback((e=>"auto"===e?f?"hover:bg-white hover:bg-opacity-15":"hover:bg-black hover:bg-opacity-10":"light"===e?"hover:bg-black hover:bg-opacity-10":"hover:bg-white hover:bg-opacity-15"),[f]);return o.jsxs("div",{className:`flex flex-col rounded-md p-3 cursor-pointer ${C(k)} transition-main`,style:{backgroundColor:y.colorBgContainerDisabled},onClick:()=>{p.info("请点击右下角进行添加")},children:[o.jsx("div",{className:"flex-1 flex-center",children:o.jsx("img",{src:i.imgPreview,className:"h-full max-h-[72px] rounded-2xl i-shadow",alt:i.label,loading:"lazy"})}),o.jsxs("div",{className:"flex items-center h-[20px]",children:[o.jsx("span",{className:"flex-1 font-semibold line-clamp-1",children:i.label}),o.jsx(m,{onClick:e=>{e.stopPropagation(),e.preventDefault(),(e=>{try{const t=n.getState().card.defaultCardSize,s={id:d(),type:e.type,label:e.label,size:("newAddCard"===e.type||"bookmark"===e.type||"history"===e.type||"settings"===e.type)&&t||e.size},o=n.getState().home.showFreeDrag,i=n.getState().swiper.showSwiper;if(o&&!i){const t=n.getState().appData.freeDragListData,o=c(t).concat(s);b(j(o)),p.success(`【${e.label}】已添加至自由拖拽区域`)}else{const t=n.getState().appData.listData,o=g(c(t),h,s);b(x(o)),p.success(`【${e.label}】添加完成`)}}catch(t){p.error("添加组件时出错，请稍后再试")}})(i)},type:"link",className:"flex-0",icon:o.jsx(u,{className:"text-2xl"})})]})]})}));export{f as default};
