import{x as e,e as t,j as r,B as i,ao as s,a8 as o,ax as l,ah as n,af as a,a0 as m,ag as d,aj as c}from"./requestIdleCallbackPolyfill-BoNiFUcB.js";import{u as p}from"./useFresh-BHMdf25h.js";import{r as j}from"./transformData-BgNyRms4.js";import{M as h,R as x}from"./myTable-BybW5Lsz.js";import{A as f}from"./addRecommendAppForm-CxOtSyyb.js";import{C as u}from"./contentLayout-Dpu8Yknl.js";import{F as y}from"./index-ws_nZKVV.js";import{I as k}from"./index-D8QKTSMb.js";import{R as w,a as g}from"./SearchOutlined-QVHF1tA_.js";import{T as b}from"./index-f5jrm4o3.js";import{R as _}from"./SortAscendingOutlined-CEgE12vd.js";import{I as C}from"./index-B1-yPQsO.js";import{R as S}from"./UserOutlined-DTLJiztK.js";import{P as O}from"./main-UtFjy664.js";import"./MailOutlined-CDrHGAZ9.js";import"./Overflow-Czf6qX4S.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-Cn_j1pD5.js";import"./getAllowClear-CmTZZq-n.js";import"./Input-C7MCIp29.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-DB94RllH.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-DX2dMTF-.js";import"./styleChecker-MbCMrSTe.js";import"./AlipayOutlined-CxMv-XIE.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-jAFEZtM_.js";import"./index-BdYAwYNh.js";import"./useBreakpoint-uadnSQd6.js";import"./index-Dy0ZQ-9_.js";import"./ColorPicker-CqYzWV1g.js";import"./index-Sm55AIPm.js";import"./index-D3-WxobM.js";import"./CloudUploadOutlined-CCMmKKZV.js";import"./row-DfwvfXqV.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./TextArea-BIpFRF6O.js";import"./SortAscendingOutlined-8bEGxkuH.js";import"./LeftOutlined-D9Sp279J.js";function A(){const a=e.c(47),{key:m,refresh:d}=p(),[c]=y.useForm();let x;a[0]===Symbol.for("react.memo_cache_sentinel")?(x={},a[0]=x):x=a[0];const[b,_]=t.useState(x);let C,S,O,A,L,U,z,B,P,K;a[1]===Symbol.for("react.memo_cache_sentinel")?(C={title:"应用标题",key:"title",width:160,fixed:"left"},S={title:"状态",key:"status",width:120,render:T},O={title:"排序",key:"sort",width:80,render:R},A={title:"应用描述",key:"description",width:460},L={title:"图标",key:"icon",width:100,render:v},U={title:"链接",key:"link",width:120,render:N},z={title:"标签",width:120,render:F},B={title:"推荐人",key:"username",width:160,render:I},P={type:"time",title:"推荐时间",key:"createdTime",width:200},a[1]=C,a[2]=S,a[3]=O,a[4]=A,a[5]=L,a[6]=U,a[7]=z,a[8]=B,a[9]=P):(C=a[1],S=a[2],O=a[3],A=a[4],L=a[5],U=a[6],z=a[7],B=a[8],P=a[9]),a[10]!==d?(K=[C,S,O,A,L,U,z,B,P,{title:"操作",fixed:"right",width:120,render:(e,t)=>r.jsx(M,{record:t,refresh:d})}],a[10]=d,a[11]=K):K=a[11];const Q=K;let V,q,D,E,G,H,J,W,X,Y,$,Z,ee,te,re,ie,se;return a[12]!==c?(V=()=>{const e=c.getFieldsValue();e[Math.random()]=!0,_(j(e))},a[12]=c,a[13]=V):V=a[13],a[14]===Symbol.for("react.memo_cache_sentinel")?(q={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridTemplateRows:"32px"},a[14]=q):q=a[14],a[15]===Symbol.for("react.memo_cache_sentinel")?(D=r.jsx(y.Item,{name:"title",children:r.jsx(k,{placeholder:"标题"})}),a[15]=D):D=a[15],a[16]===Symbol.for("react.memo_cache_sentinel")?(E=r.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:q,children:[D,r.jsx(y.Item,{name:"link",children:r.jsx(k,{placeholder:"链接"})})]}),a[16]=E):E=a[16],a[17]!==c?(G=()=>{c.submit()},a[17]=c,a[18]=G):G=a[18],a[19]===Symbol.for("react.memo_cache_sentinel")?(H=r.jsx(w,{}),a[19]=H):H=a[19],a[20]!==G?(J=r.jsx(i,{type:"primary",onClick:G,icon:H,children:"查询"}),a[20]=G,a[21]=J):J=a[21],a[22]!==c?(W=()=>{c.resetFields();const e={};e[Math.random()]=!0,_(e)},a[22]=c,a[23]=W):W=a[23],a[24]===Symbol.for("react.memo_cache_sentinel")?(X=r.jsx(g,{}),a[24]=X):X=a[24],a[25]!==W?(Y=r.jsx(i,{onClick:W,icon:X,children:"重置"}),a[25]=W,a[26]=Y):Y=a[26],a[27]!==J||a[28]!==Y?($=r.jsxs("div",{className:"flex flex-wrap gap-3",children:[J,Y]}),a[27]=J,a[28]=Y,a[29]=$):$=a[29],a[30]!==c||a[31]!==V||a[32]!==$?(Z=r.jsxs(y,{className:"w-full",form:c,onFinish:V,children:[E,$]}),a[30]=c,a[31]=V,a[32]=$,a[33]=Z):Z=a[33],a[34]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(s,{className:"my-3"}),a[34]=ee):ee=a[34],a[35]!==d?(te=r.jsx("div",{className:"mb-3",children:r.jsx(i,{type:"primary",onClick:()=>{o.show(l,{title:"新增推荐",children:r.jsx(f,{refresh:d})})},children:"新增推荐"})}),a[35]=d,a[36]=te):te=a[36],a[37]!==b?(re={searchParams:b},a[37]=b,a[38]=re):re=a[38],a[39]!==Q||a[40]!==m||a[41]!==re?(ie=r.jsx(h,{columns:Q,getListUrl:n.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:m,params:re}),a[39]=Q,a[40]=m,a[41]=re,a[42]=ie):ie=a[42],a[43]!==Z||a[44]!==te||a[45]!==ie?(se=r.jsxs(u,{children:[Z,ee,te,ie]}),a[43]=Z,a[44]=te,a[45]=ie,a[46]=se):se=a[46],se}function I(e){return r.jsx(b,{color:e?"geekblue":"red",bordered:!1,icon:r.jsx(S,{}),children:e||"已注销"})}function F(e,t){return r.jsx(b,{color:t.tagColor,children:t.tagText||"-"})}function N(e){return r.jsx(i,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function v(e,t){return e?r.jsx(C,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}function R(e){return r.jsx(b,{color:"gold",icon:r.jsx(_,{}),children:e||"-"})}function T(e){return r.jsx(b,{color:0===e?"blue":1===e?"green":"red",children:0===e?"待审核":1===e?"正常":"被驳回"})}const M=t.memo((s=>{const p=e.c(26),{record:j,refresh:h}=s;let f;p[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],p[0]=f):f=p[0];const[u,y]=t.useState(f);let k;p[1]!==j||p[2]!==h?(k=function(){a(1,y);const e=m.getState().user.token;setTimeout((()=>{d({url:n.deleteRecommendApp,token:e,data:{id:j.id}}).then((e=>{200===e.code&&h()})).finally((()=>{c(1,y)}))}),500)},p[1]=j,p[2]=h,p[3]=k):k=p[3];const w=k;let g,b,_,C,S,A,I,F,N;return p[4]===Symbol.for("react.memo_cache_sentinel")?(g={width:"44px"},p[4]=g):g=p[4],p[5]!==j||p[6]!==h?(b=()=>{o.show(l,{title:"编辑推荐",children:r.jsx(L,{editItem:j,refresh:h})})},p[5]=j,p[6]=h,p[7]=b):b=p[7],p[8]!==u[0]?(_=u[0]?r.jsx(x,{}):"编辑",p[8]=u[0],p[9]=_):_=p[9],p[10]!==u[0]||p[11]!==b||p[12]!==_?(C=r.jsx(i,{type:"link",size:"small",disabled:u[0],style:g,onClick:b,children:_}),p[10]=u[0],p[11]=b,p[12]=_,p[13]=C):C=p[13],p[14]===Symbol.for("react.memo_cache_sentinel")?(S={width:"44px"},p[14]=S):S=p[14],p[15]!==u[1]?(A=u[1]?r.jsx(x,{}):"删除",p[15]=u[1],p[16]=A):A=p[16],p[17]!==u[1]||p[18]!==A?(I=r.jsx(i,{danger:!0,type:"link",size:"small",disabled:u[1],style:S,children:A}),p[17]=u[1],p[18]=A,p[19]=I):I=p[19],p[20]!==w||p[21]!==I?(F=r.jsx(O,{title:"是否确认删除该推荐？",onConfirm:w,children:I}),p[20]=w,p[21]=I,p[22]=F):F=p[22],p[23]!==C||p[24]!==F?(N=r.jsxs("div",{className:"flex flex-wrap",children:[C,F]}),p[23]=C,p[24]=F,p[25]=N):N=p[25],N})),L=t=>{const i=e.c(3),{editItem:s,refresh:o}=t;let l;return i[0]!==s||i[1]!==o?(l=r.jsx(r.Fragment,{children:r.jsx(f,{editItem:s,refresh:o,type:"edit"})}),i[0]=s,i[1]=o,i[2]=l):l=i[2],l};export{A as default};
