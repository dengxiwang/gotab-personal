import{c as e,j as t,r as i,B as r,F as s,o,a as l,l as n,n as a,v as m,Y as c}from"./requestIdleCallbackPolyfill-CPe9lTcM.js";import{u as d}from"./useFresh-B4NNdaER.js";import{M as p,R as j}from"./myTable-DqOepQDp.js";import{C as u}from"./contentLayout-DS5K_zbp.js";import{R as h}from"./ReloadOutlined-DHWWlXFT.js";import{I as f}from"./index-H5vT6yOi.js";import{T as y}from"./index-BhwolGP3.js";import{R as x}from"./UserOutlined-khYKPFdf.js";import"./MailOutlined-BWjHQnOt.js";import"./Overflow-DzHFI1dW.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DrLdoldb.js";import"./getAllowClear-C7x5Ty1a.js";import"./Input-eJls-qed.js";import"./transformData-CKPSW77P.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-BimJI-5s.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-BMDWT7zy.js";import"./styleChecker-CS8iJfqg.js";import"./AlipayOutlined-kRmwWEYR.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-CQXTZWaW.js";import"./index-BdbaD8Fj.js";import"./useBreakpoint-DNPDEdTQ.js";import"./index-BEfeEYtU.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-D9Sp279J.js";function k(){const i=e.c(20),{key:l,refresh:n}=d();let a,m,c,j,f,y,x,k;i[0]===Symbol.for("react.memo_cache_sentinel")?(a={title:"应用标题",key:"title",width:160,fixed:"left"},m={title:"应用描述",key:"description",width:460},c={title:"图标",key:"icon",width:100,render:_},j={title:"链接",key:"link",width:120,render:g},f={title:"标签",width:120,render:w},y={title:"提交人",key:"username",width:160,render:b},x={type:"time",title:"提交时间",key:"createdTime",width:200},i[0]=a,i[1]=m,i[2]=c,i[3]=j,i[4]=f,i[5]=y,i[6]=x):(a=i[0],m=i[1],c=i[2],j=i[3],f=i[4],y=i[5],x=i[6]),i[7]!==n?(k=[a,m,c,j,f,y,x,{title:"操作",fixed:"right",width:180,render:(e,i)=>t.jsx(C,{record:i,refresh:n})}],i[7]=n,i[8]=k):k=i[8];const S=k;let O,A,R,v,T,z;return i[9]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(h,{}),i[9]=O):O=i[9],i[10]!==n?(A=t.jsx(r,{type:"primary",icon:O,onClick:()=>{n()},children:"刷新列表"}),i[10]=n,i[11]=A):A=i[11],i[12]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(s,{className:"my-3"}),i[12]=R):R=i[12],i[13]===Symbol.for("react.memo_cache_sentinel")?(v={searchParams:{status:0}},i[13]=v):v=i[13],i[14]!==S||i[15]!==l?(T=t.jsx(p,{columns:S,getListUrl:o.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:l,params:v}),i[14]=S,i[15]=l,i[16]=T):T=i[16],i[17]!==T||i[18]!==A?(z=t.jsxs(u,{children:[A,R,T]}),i[17]=T,i[18]=A,i[19]=z):z=i[19],z}function b(e){return t.jsx(y,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(x,{}),children:e||"已注销"})}function w(e,i){return t.jsx(y,{color:i.tagColor,children:i.tagText||"-"})}function g(e){return t.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function _(e,i){return e?t.jsx(f,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:i.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}const C=i.memo((s=>{const d=e.c(42),{record:p,refresh:u}=s;let h;d[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],d[0]=h):h=d[0];const[f,y]=i.useState(h);let x;d[1]!==p||d[2]!==u?(x=function(){const e=l.getState().user.token;n(0,y),setTimeout((()=>{a({url:o.approveRecommendApp,token:e,data:{id:p.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(0,y)}))}),500)},d[1]=p,d[2]=u,d[3]=x):x=d[3];const k=x;let b;d[4]!==p||d[5]!==u?(b=function(e,t){n(t,y);const i=l.getState().user.token;setTimeout((()=>{a({url:"reject"===e?o.rejectRecommendApp:o.deleteRecommendApp,token:i,data:{id:p.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(t,y)}))}),500)},d[4]=p,d[5]=u,d[6]=b):b=d[6];const w=b;let g,_,C,S,O;d[7]===Symbol.for("react.memo_cache_sentinel")?(g={width:"44px"},d[7]=g):g=d[7],d[8]!==f[0]?(_=f[0]?t.jsx(j,{}):"通过",d[8]=f[0],d[9]=_):_=d[9],d[10]!==f[0]||d[11]!==_?(C=t.jsx(r,{type:"link",size:"small",disabled:f[0],style:g,children:_}),d[10]=f[0],d[11]=_,d[12]=C):C=d[12],d[13]!==k||d[14]!==C?(S=t.jsx(c,{title:"是否确认审核通过？",onConfirm:k,children:C}),d[13]=k,d[14]=C,d[15]=S):S=d[15],d[16]!==w?(O=()=>{w("reject",1)},d[16]=w,d[17]=O):O=d[17];const A=f[1]||f[2];let R,v,T,z,L;d[18]===Symbol.for("react.memo_cache_sentinel")?(R={width:"44px"},d[18]=R):R=d[18],d[19]!==f[1]?(v=f[1]?t.jsx(j,{}):"驳回",d[19]=f[1],d[20]=v):v=d[20],d[21]!==v||d[22]!==A?(T=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:A,style:R,children:v}),d[21]=v,d[22]=A,d[23]=T):T=d[23],d[24]!==T||d[25]!==O?(z=t.jsx(c,{title:"是否确认驳回申请",onConfirm:O,children:T}),d[24]=T,d[25]=O,d[26]=z):z=d[26],d[27]!==w?(L=()=>{w("delete",2)},d[27]=w,d[28]=L):L=d[28];const M=f[1]||f[2];let N,B,I,P,U;return d[29]===Symbol.for("react.memo_cache_sentinel")?(N={width:"44px"},d[29]=N):N=d[29],d[30]!==f[2]?(B=f[2]?t.jsx(j,{}):"删除",d[30]=f[2],d[31]=B):B=d[31],d[32]!==M||d[33]!==B?(I=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:M,style:N,children:B}),d[32]=M,d[33]=B,d[34]=I):I=d[34],d[35]!==L||d[36]!==I?(P=t.jsx(c,{title:"是否确认删除该申请？",onConfirm:L,children:I}),d[35]=L,d[36]=I,d[37]=P):P=d[37],d[38]!==z||d[39]!==P||d[40]!==S?(U=t.jsxs("div",{className:"flex flex-wrap",children:[S,z,P]}),d[38]=z,d[39]=P,d[40]=S,d[41]=U):U=d[41],U}));export{k as default};
