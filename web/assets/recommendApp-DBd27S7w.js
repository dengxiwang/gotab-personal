import{x as e,j as t,e as i,B as r,ao as s,ah as o,a0 as n,af as l,ag as a,aj as m}from"./main-RpejCBsR.js";import{u as c}from"./useFresh-CPnGAo4P.js";import{M as d,R as p}from"./myTable-CRFfBxBV.js";import{C as j}from"./contentLayout-CYjexQz9.js";import{R as u}from"./ReloadOutlined-COIWZ7Ds.js";import{I as h}from"./index-D5IqMKmB.js";import{T as f}from"./index-mJdixdnj.js";import{R as y}from"./UserOutlined-BSR-I-QH.js";import{P as x}from"./main-Bz7X3OC0.js";import"./MailOutlined-DYvhoNUM.js";import"./Overflow-BCh9wkGD.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DEv9k294.js";import"./getAllowClear-BYRQBlOI.js";import"./Input-B4rSyk4X.js";import"./transformData-hq2czZI8.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-BEJwuBNw.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-DhcLARst.js";import"./styleChecker-65ImXUxL.js";import"./AlipayOutlined-7zTy6hzu.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-nJJZPdRt.js";import"./useBreakpoint-DfVTHTv0.js";import"./index-BOGE8Tfq.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-D9Sp279J.js";function k(){const i=e.c(20),{key:n,refresh:l}=c();let a,m,p,h,f,y,x,k;i[0]===Symbol.for("react.memo_cache_sentinel")?(a={title:"应用标题",key:"title",width:160,fixed:"left"},m={title:"应用描述",key:"description",width:460},p={title:"图标",key:"icon",width:100,render:b},h={title:"链接",key:"link",width:120,render:_},f={title:"标签",width:120,render:g},y={title:"提交人",key:"username",width:160,render:w},x={type:"time",title:"提交时间",key:"createdTime",width:200},i[0]=a,i[1]=m,i[2]=p,i[3]=h,i[4]=f,i[5]=y,i[6]=x):(a=i[0],m=i[1],p=i[2],h=i[3],f=i[4],y=i[5],x=i[6]),i[7]!==l?(k=[a,m,p,h,f,y,x,{title:"操作",fixed:"right",width:180,render:(e,i)=>t.jsx(C,{record:i,refresh:l})}],i[7]=l,i[8]=k):k=i[8];const S=k;let O,R,A,T,v,z;return i[9]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(u,{}),i[9]=O):O=i[9],i[10]!==l?(R=t.jsx(r,{type:"primary",icon:O,onClick:()=>{l()},children:"刷新列表"}),i[10]=l,i[11]=R):R=i[11],i[12]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(s,{className:"my-3"}),i[12]=A):A=i[12],i[13]===Symbol.for("react.memo_cache_sentinel")?(T={searchParams:{status:0}},i[13]=T):T=i[13],i[14]!==S||i[15]!==n?(v=t.jsx(d,{columns:S,getListUrl:o.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:n,params:T}),i[14]=S,i[15]=n,i[16]=v):v=i[16],i[17]!==v||i[18]!==R?(z=t.jsxs(j,{children:[R,A,v]}),i[17]=v,i[18]=R,i[19]=z):z=i[19],z}function w(e){return t.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(y,{}),children:e||"已注销"})}function g(e,i){return t.jsx(f,{color:i.tagColor,children:i.tagText||"-"})}function _(e){return t.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function b(e,i){return e?t.jsx(h,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:i.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}const C=i.memo((s=>{const c=e.c(42),{record:d,refresh:j}=s;let u;c[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],c[0]=u):u=c[0];const[h,f]=i.useState(u);let y;c[1]!==d||c[2]!==j?(y=function(){const e=n.getState().user.token;l(0,f),setTimeout((()=>{a({url:o.approveRecommendApp,token:e,data:{id:d.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(0,f)}))}),500)},c[1]=d,c[2]=j,c[3]=y):y=c[3];const k=y;let w;c[4]!==d||c[5]!==j?(w=function(e,t){l(t,f);const i=n.getState().user.token;setTimeout((()=>{a({url:"reject"===e?o.rejectRecommendApp:o.deleteRecommendApp,token:i,data:{id:d.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(t,f)}))}),500)},c[4]=d,c[5]=j,c[6]=w):w=c[6];const g=w;let _,b,C,S,O;c[7]===Symbol.for("react.memo_cache_sentinel")?(_={width:"44px"},c[7]=_):_=c[7],c[8]!==h[0]?(b=h[0]?t.jsx(p,{}):"通过",c[8]=h[0],c[9]=b):b=c[9],c[10]!==h[0]||c[11]!==b?(C=t.jsx(r,{type:"link",size:"small",disabled:h[0],style:_,children:b}),c[10]=h[0],c[11]=b,c[12]=C):C=c[12],c[13]!==k||c[14]!==C?(S=t.jsx(x,{title:"是否确认审核通过？",onConfirm:k,children:C}),c[13]=k,c[14]=C,c[15]=S):S=c[15],c[16]!==g?(O=()=>{g("reject",1)},c[16]=g,c[17]=O):O=c[17];const R=h[1]||h[2];let A,T,v,z,M;c[18]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},c[18]=A):A=c[18],c[19]!==h[1]?(T=h[1]?t.jsx(p,{}):"驳回",c[19]=h[1],c[20]=T):T=c[20],c[21]!==T||c[22]!==R?(v=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:R,style:A,children:T}),c[21]=T,c[22]=R,c[23]=v):v=c[23],c[24]!==v||c[25]!==O?(z=t.jsx(x,{title:"是否确认驳回申请",onConfirm:O,children:v}),c[24]=v,c[25]=O,c[26]=z):z=c[26],c[27]!==g?(M=()=>{g("delete",2)},c[27]=g,c[28]=M):M=c[28];const N=h[1]||h[2];let L,U,B,D,I;return c[29]===Symbol.for("react.memo_cache_sentinel")?(L={width:"44px"},c[29]=L):L=c[29],c[30]!==h[2]?(U=h[2]?t.jsx(p,{}):"删除",c[30]=h[2],c[31]=U):U=c[31],c[32]!==N||c[33]!==U?(B=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:N,style:L,children:U}),c[32]=N,c[33]=U,c[34]=B):B=c[34],c[35]!==M||c[36]!==B?(D=t.jsx(x,{title:"是否确认删除该申请？",onConfirm:M,children:B}),c[35]=M,c[36]=B,c[37]=D):D=c[37],c[38]!==z||c[39]!==D||c[40]!==S?(I=t.jsxs("div",{className:"flex flex-wrap",children:[S,z,D]}),c[38]=z,c[39]=D,c[40]=S,c[41]=I):I=c[41],I}));export{k as default};
