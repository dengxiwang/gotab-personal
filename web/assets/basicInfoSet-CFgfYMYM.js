import{x as e,e as r,j as s,B as t,af as a,a0 as l,au as o,aj as n,av as i,H as m,ag as c,w as u,ao as f,ah as d}from"./main-RpejCBsR.js";import{T as p}from"./TextArea-BWCilDY2.js";import{C as j}from"./contentLayout-CYjexQz9.js";import{F as x}from"./index-NJy1tlp1.js";import{I as h}from"./index-DJ4Q4UDS.js";import{S as _}from"./index-BOGE8Tfq.js";import{R as w}from"./QuestionCircleOutlined-Bb3cuZKo.js";import"./getAllowClear-BYRQBlOI.js";import"./row-BVZ81Qgs.js";import"./useBreakpoint-DfVTHTv0.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./Input-B4rSyk4X.js";function b(){const b=e.c(22),[y]=x.useForm();let g;b[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],b[0]=g):g=b[0];const[S,C]=r.useState(g);let I;b[1]!==y?(I=function(){a(0,C);const e=l.getState().user.token;o({url:d.getInfoConfig,token:e}).then((e=>{y.setFieldsValue(e.data)})).finally((()=>{n(0,C)}))},b[1]=y,b[2]=I):I=b[2];const v=I;let N,q,F;b[3]!==v?(N=()=>{v()},b[3]=v,b[4]=N):N=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(q=[],b[5]=q):q=b[5],r.useEffect(N,q),b[6]===Symbol.for("react.memo_cache_sentinel")?(F=function(e){if(e.server_url&&!i(e.server_url))return void m.error("后台服务地址必须以http或https开头");a(1,C);const r=l.getState().user.token;c({url:d.updateInfoConfig,token:r,data:e}).finally((()=>{n(1,C)}))},b[6]=F):F=b[6];const k=F;let A,Q,R,T,B,E,H,O,z,D;return b[7]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(u,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(w,{className:"mr-1"}),"更新网页的标题、描述等项目基础信息，别的信息可以自行更改项目文件，达到更改目的！或联系作者：dengxiwang@aliyun.com"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),b[7]=A):A=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(Q={flex:"120px"},b[8]=Q):Q=b[8],b[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(x.Item,{label:"网站标题",required:!0,name:"web_title",rules:[{required:!0}],children:s.jsx(h,{placeholder:"网站标题",allowClear:!0})}),b[9]=R):R=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(T=[{required:!0}],b[10]=T):T=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(x.Item,{label:"网站描述",required:!0,name:"web_description",rules:T,children:s.jsx(p,{autoSize:{minRows:3,maxRows:3},allowClear:!0,placeholder:"网站描述，head头部中的description信息"})}),B=s.jsx(f,{}),b[11]=B,b[12]=E):(B=b[11],E=b[12]),b[13]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(x.Item,{label:"后台服务地址",required:!0,name:"server_url",rules:[{required:!0}],children:s.jsx(h,{allowClear:!0,placeholder:"后台服务地址，如：https://web.gotab.cn"})}),b[13]=H):H=b[13],b[14]!==S[1]?(O=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(t,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:S[1],children:"保存配置"})}),b[14]=S[1],b[15]=O):O=b[15],b[16]!==y||b[17]!==O?(z=s.jsxs(x,{form:y,className:"w-full",labelCol:Q,onFinish:k,children:[R,E,B,H,O]}),b[16]=y,b[17]=O,b[18]=z):z=b[18],b[19]!==S[0]||b[20]!==z?(D=s.jsxs(j,{children:[A,s.jsx("div",{className:"w-full",children:s.jsx(_,{spinning:S[0],children:z})})]}),b[19]=S[0],b[20]=z,b[21]=D):D=b[21],D}export{b as default};
