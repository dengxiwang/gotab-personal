import{x as e,ab as t,e as o,j as s,B as a,ad as i,au as r,ah as l,az as n,aj as c,cx as m,af as d,b6 as p}from"./main-RpejCBsR.js";import{L as x,E as h}from"./index-DEv9k294.js";import{F as f}from"./fullSpin-BicYYbAL.js";import{T as u}from"./index-mJdixdnj.js";import{R as j,a as g}from"./addRecommendAppForm-DhU_hEuG.js";import"./Overflow-BCh9wkGD.js";import"./getAllowClear-BYRQBlOI.js";import"./Input-B4rSyk4X.js";import"./index-BOGE8Tfq.js";import"./index-NJy1tlp1.js";import"./row-BVZ81Qgs.js";import"./useBreakpoint-DfVTHTv0.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./index-DJ4Q4UDS.js";import"./TextArea-BWCilDY2.js";import"./ColorPicker-BRy5u_Zp.js";import"./main-Bz7X3OC0.js";import"./index-HdtN0ZR6.js";import"./index-CYaJ7OIr.js";import"./CloudUploadOutlined-CEPisIME.js";function y(){const p=e.c(17),{token:y}=t.useToken(),v=o.useRef(null),[S,w]=o.useState();let _;p[0]===Symbol.for("react.memo_cache_sentinel")?(_=[],p[0]=_):_=p[0];const[C,k]=o.useState(_);let N;p[1]===Symbol.for("react.memo_cache_sentinel")?(N=[],p[1]=N):N=p[1];const[T,E]=o.useState(N);let A;p[2]!==C?(A=function(){r({url:l.getRecommendAppList}).then((e=>{200===e.code&&e.data&&(n(e.data,C)||o.startTransition((()=>{k((t=>t.concat(e.data)))})))})).finally((()=>{c(1,E)}))},p[2]=C,p[3]=A):A=p[3];const B=A;let L;p[4]!==C?(L=function(){if(!globalThis.siteConfig.server_url||"https://web.gotab.cn"===m(globalThis.siteConfig.server_url,"https://"))return;d(0,E);const e="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";r({url:e+"api/recommendApp"}).then((e=>{200===e.code&&e.data&&(n(e.data,C)||o.startTransition((()=>{k((t=>(e.data.forEach(b),e.data.concat(t))))})))})).finally((()=>{c(0,E)}))},p[4]=C,p[5]=L):L=p[5];const R=L;let z,F,H,I;return p[6]!==B||p[7]!==R?(z=()=>{var e;w(null==(e=v.current)?void 0:e.clientHeight),d(1,E),B(),R()},p[6]=B,p[7]=R,p[8]=z):z=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(F=[],p[9]=F):F=p[9],o.useLayoutEffect(z,F),p[10]===Symbol.for("react.memo_cache_sentinel")?(H={height:"calc(100% + 16px)"},p[10]=H):H=p[10],p[11]!==S||p[12]!==T[0]||p[13]!==T[1]||p[14]!==C||p[15]!==y?(I=s.jsx("div",{ref:v,style:H,children:T[0]||T[1]?s.jsx(f,{}):C.length>0?s.jsx(x,{data:C,height:S,itemHeight:88,itemKey:"id",styles:{verticalScrollBar:{display:"none"}},children:e=>s.jsx("div",{className:"h-[88px] pb-3",children:s.jsxs(a,{href:e.link,target:"_blank",style:{background:e.background,borderColor:y.colorBorderSecondary},type:"text",className:"border h-[76px] rounded-md p-3 flex items-center gap-3 cursor-pointer",icon:e.icon?s.jsx("div",{style:{height:"42px",width:"42px",background:e.iconBackground},className:"flex-center rounded-[10px] overflow-hidden",children:s.jsx("img",{src:i(e.icon),alt:"",style:{maxWidth:"42px",maxHeight:"42px"}})}):s.jsx(g,{className:"flex-center",style:{height:"42px",width:"42px",fontSize:"20px",color:y.colorPrimary}}),children:[s.jsxs("div",{className:"flex-1 font-medium flex flex-col items-start",children:[s.jsxs("div",{className:"text-sm mb-[4px] flex items-center flex-wrap",children:[e.tagText&&s.jsx(u,{color:null==e?void 0:e.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.75},children:e.tagText}),s.jsx("h1",{style:{color:null==e?void 0:e.fontColor},children:e.title})]}),s.jsx("div",{className:"line-clamp-2 text-xs m-0 opacity-50 whitespace-break-spaces text-left",style:{color:null==e?void 0:e.fontColor},children:null==e?void 0:e.description})]}),s.jsx(j,{className:"opacity-50",style:{color:null==e?void 0:e.fontColor}})]})},e.id)}):s.jsx(s.Fragment,{children:s.jsx(h,{image:h.PRESENTED_IMAGE_SIMPLE})})}),p[11]=S,p[12]=T[0],p[13]=T[1],p[14]=C,p[15]=y,p[16]=I):I=p[16],I}function b(e){e.icon=p(e.icon)}export{y as default};
