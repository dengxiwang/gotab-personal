import{c as e,r as t,O as l,j as o,aJ as a,a as c,aK as s,t as n,o as r,aL as i}from"./requestIdleCallbackPolyfill-BGR8pJ99.js";import{G as m}from"./iconBase-BFgDohiO.js";import{H as d,a as x}from"./index-BpVDyGjp.js";import{R as h,C as g}from"./row-DKSNmqnj.js";import{T as u}from"./index-MgJcVHpA.js";import"./useBreakpoint-BdjsHwRh.js";import"./mediaQueryUtil-DPPPwwPM.js";function f(e){return m({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"},child:[]}]})(e)}function p(e){return m({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}const b=t=>{const l=e.c(20),{label:a,value:c,icon:r,color:i,loading:m}=t,{token:d}=n.useToken();let x,h;l[0]!==d.colorBgContainer?(x={background:d.colorBgContainer},l[0]=d.colorBgContainer,l[1]=x):x=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(h={rows:2},l[2]=h):h=l[2];const g=`p-3 rounded-full ${i} text-white`;let u,f;l[3]!==r||l[4]!==g?(u=o.jsx("div",{className:g,children:r}),l[3]=r,l[4]=g,l[5]=u):u=l[5],l[6]!==a?(f=o.jsx("p",{className:"text-gray-500 text-sm font-semibold",children:a}),l[6]=a,l[7]=f):f=l[7];const p="number"==typeof c?c:c??0;let b,j,y,_;return l[8]!==p?(b=o.jsx("p",{className:"text-xl font-bold h-7",children:p}),l[8]=p,l[9]=b):b=l[9],l[10]!==f||l[11]!==b?(j=o.jsxs("div",{className:"ml-4 flex flex-col gap-1",children:[f,b]}),l[10]=f,l[11]=b,l[12]=j):j=l[12],l[13]!==m||l[14]!==u||l[15]!==j?(y=o.jsxs(s,{title:!1,className:"h-[52px]",paragraph:h,loading:m,children:[u,j]}),l[13]=m,l[14]=u,l[15]=j,l[16]=y):y=l[16],l[17]!==x||l[18]!==y?(_=o.jsx("div",{className:"rounded-lg shadow-md p-6 flex items-center",style:x,children:y}),l[17]=x,l[18]=y,l[19]=_):_=l[19],_},j=t=>{const l=e.c(32),{item:a}=t,{token:c}=n.useToken();let s,r,m,d,x,h,g,f,p,b,j,y,_;return l[0]!==c.colorBgContainer?(s={height:"100px",background:c.colorBgContainer},l[0]=c.colorBgContainer,l[1]=s):s=l[1],l[2]!==a.link?(r=()=>{window.open(a.link,"_blank")},l[2]=a.link,l[3]=r):r=l[3],l[4]!==a.iconBackground?(m={background:a.iconBackground},l[4]=a.iconBackground,l[5]=m):m=l[5],l[6]!==a.icon?(d=i(a.icon),l[6]=a.icon,l[7]=d):d=l[7],l[8]===Symbol.for("react.memo_cache_sentinel")?(x={width:"100%"},l[8]=x):x=l[8],l[9]!==d?(h=o.jsx("img",{src:d,style:x}),l[9]=d,l[10]=h):h=l[10],l[11]!==m||l[12]!==h?(g=o.jsx("div",{className:"w-16 h-16 ml-3 rounded-2xl overflow-visible flex-center",style:m,children:h}),l[11]=m,l[12]=h,l[13]=g):g=l[13],l[14]!==a.tagColor||l[15]!==a.tagText?(f=a?.tagText&&o.jsx(u,{color:a?.tagColor,className:"m-0 origin-left mr-2",style:{zoom:.8},children:a?.tagText}),l[14]=a.tagColor,l[15]=a.tagText,l[16]=f):f=l[16],l[17]!==a.title?(p=o.jsx("p",{className:"text-base font-semibold line-clamp-1",children:a.title}),l[17]=a.title,l[18]=p):p=l[18],l[19]!==f||l[20]!==p?(b=o.jsxs("div",{className:"text-sm mb-[4px] flex items-center",children:[f,p]}),l[19]=f,l[20]=p,l[21]=b):b=l[21],l[22]!==a.description?(j=o.jsx("p",{className:"text-gray-500 line-clamp-2 font-medium",children:a.description}),l[22]=a.description,l[23]=j):j=l[23],l[24]!==j||l[25]!==b?(y=o.jsxs("div",{className:"flex flex-col gap-1 flex-1",children:[b,j]}),l[24]=j,l[25]=b,l[26]=y):y=l[26],l[27]!==s||l[28]!==r||l[29]!==y||l[30]!==g?(_=o.jsxs("div",{style:s,className:"cursor-pointer rounded-lg p-3 shadow-md flex items-center gap-x-6",onClick:r,children:[g,y]}),l[27]=s,l[28]=r,l[29]=y,l[30]=g,l[31]=_):_=l[31],_};function y(){const n=e.c(34),[i,m]=t.useState(null),[u,j]=t.useState(!0),[y,w]=t.useState(null),[S,v]=t.useState(!0);let N;n[0]===Symbol.for("react.memo_cache_sentinel")?(N=[{icon:"https://www.rainyun.com/img/logo.d193755d.png",link:a,title:"高性价比云服务器",description:"雨云成立于2018年，是具有自主知识产权的国产云计算服务提供商。雨云为广大用户提供简单易用、便宜实惠、可信赖的云产品。"}],n[0]=N):N=n[0];const C=N;let B;n[1]===Symbol.for("react.memo_cache_sentinel")?(B=function(){const e=c.getState().user.token;l({url:r.getDashboardStats,token:e}).then(e=>{m(e.data),j(!1)}).catch(e=>{j(!1)})},n[1]=B):B=n[1];const z=B;let T;n[2]===Symbol.for("react.memo_cache_sentinel")?(T=[],n[2]=T):T=n[2],t.useLayoutEffect(()=>{l({url:Q+"api/recommendApp",catchMsg:!1}).then(e=>{e.data&&w(e.data)}).finally(()=>{v(!1)}),z()},T);const L=i?.total_users;let M,A;n[3]===Symbol.for("react.memo_cache_sentinel")?(M=o.jsx(d,{size:24}),n[3]=M):M=n[3],n[4]!==L?(A={label:"总用户数",value:L,icon:M,color:"bg-blue-500"},n[4]=L,n[5]=A):A=n[5];const H=i?.new_users_today;let W,q;n[6]===Symbol.for("react.memo_cache_sentinel")?(W=o.jsx(x,{size:24}),n[6]=W):W=n[6],n[7]!==H?(q={label:"今日新增用户",value:H,icon:W,color:"bg-green-500"},n[7]=H,n[8]=q):q=n[8];const D=i?.total_websites;let E,G;n[9]===Symbol.for("react.memo_cache_sentinel")?(E=o.jsx(f,{size:24}),n[9]=E):E=n[9],n[10]!==D?(G={label:"网站总数",value:D,icon:E,color:"bg-purple-500"},n[10]=D,n[11]=G):G=n[11];const I=i?.total_user_shares;let J,K,O;n[12]===Symbol.for("react.memo_cache_sentinel")?(J=o.jsx(p,{size:24}),n[12]=J):J=n[12],n[13]!==I?(K={label:"用户分享页",value:I,icon:J,color:"bg-yellow-500"},n[13]=I,n[14]=K):K=n[14],n[15]!==G||n[16]!==K||n[17]!==A||n[18]!==q?(O=[A,q,G,K],n[15]=G,n[16]=K,n[17]=A,n[18]=q,n[19]=O):O=n[19];const P=O,Q="https://web.gotab.cn".endsWith("/")?"https://web.gotab.cn":"https://web.gotab.cn/";let R,U,$,F;n[20]===Symbol.for("react.memo_cache_sentinel")?(R=o.jsx("h1",{className:"text-lg font-bold mb-3 ml-1",children:"数据概览"}),n[20]=R):R=n[20],n[21]===Symbol.for("react.memo_cache_sentinel")?(U=[12,12],n[21]=U):U=n[21],n[22]!==u||n[23]!==P?($=o.jsx(h,{gutter:U,children:P.map((e,t)=>o.jsx(g,{xs:{flex:"100%"},md:{flex:"50%"},lg:{flex:"50%"},xl:{flex:"25%"},children:o.jsx(b,{...e,loading:u})},t))}),n[22]=u,n[23]=P,n[24]=$):$=n[24],n[25]===Symbol.for("react.memo_cache_sentinel")?(F=o.jsx("h1",{className:"text-lg font-bold my-3 ml-1",children:"🔥 每日宝藏"}),n[25]=F):F=n[25];const V=S||u;let X,Y,Z;return n[26]!==y?(X=y?.length>0?y?.map(k):C.map(_),n[26]=y,n[27]=X):X=n[27],n[28]!==V||n[29]!==X?(Y=o.jsx("div",{className:"flex flex-col w-full gap-3",children:o.jsx(s,{loading:V,className:"p-3",children:X})}),n[28]=V,n[29]=X,n[30]=Y):Y=n[30],n[31]!==$||n[32]!==Y?(Z=o.jsxs("main",{className:"p-3 overflow-scroll",children:[R,$,F,Y]}),n[31]=$,n[32]=Y,n[33]=Z):Z=n[33],Z}function _(e,t){return o.jsx(j,{item:e},t)}function k(e,t){return o.jsx(j,{item:e},t)}export{y as default};
