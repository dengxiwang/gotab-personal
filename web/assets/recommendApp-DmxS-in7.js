import{x as e,j as t,e as i,B as r,ao as s,ah as o,a0 as n,af as l,ag as a,aj as m}from"./main-CD0zUXTL.js";import{u as c}from"./useFresh-C0ydC2D3.js";import{M as d,R as p}from"./myTable-ZSYYS2U8.js";import{C as j}from"./contentLayout-BsKw27WM.js";import{R as u}from"./ReloadOutlined-CuRssTQQ.js";import{I as h}from"./index-Bn4721qN.js";import{T as f}from"./index-DRF0O40K.js";import{R as y}from"./UserOutlined-BiCaaNud.js";import{P as x}from"./main-j5iLq8Sk.js";import"./MailOutlined-Cl2XolnV.js";import"./Overflow-Dth-jHIb.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-BxI9IZHD.js";import"./getAllowClear-CZO_kcqc.js";import"./Input-DAmAjPDT.js";import"./transformData-BQH7chON.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-FkshC0iu.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-Cl-JmkYn.js";import"./styleChecker-D6YSF6t4.js";import"./AlipayOutlined-C8qbQhus.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-Cuy2s8Sf.js";import"./useBreakpoint-BfXG9374.js";import"./index-CYN5EPmR.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-D9Sp279J.js";function k(){const i=e.c(20),{key:n,refresh:l}=c();let a,m,p,h,f,y,x,k;i[0]===Symbol.for("react.memo_cache_sentinel")?(a={title:"应用标题",key:"title",width:160,fixed:"left"},m={title:"应用描述",key:"description",width:460},p={title:"图标",key:"icon",width:100,render:b},h={title:"链接",key:"link",width:120,render:_},f={title:"标签",width:120,render:g},y={title:"提交人",key:"username",width:160,render:w},x={type:"time",title:"提交时间",key:"createdTime",width:200},i[0]=a,i[1]=m,i[2]=p,i[3]=h,i[4]=f,i[5]=y,i[6]=x):(a=i[0],m=i[1],p=i[2],h=i[3],f=i[4],y=i[5],x=i[6]),i[7]!==l?(k=[a,m,p,h,f,y,x,{title:"操作",fixed:"right",width:180,render:(e,i)=>t.jsx(C,{record:i,refresh:l})}],i[7]=l,i[8]=k):k=i[8];const S=k;let A,O,R,T,v,z;return i[9]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(u,{}),i[9]=A):A=i[9],i[10]!==l?(O=t.jsx(r,{type:"primary",icon:A,onClick:()=>{l()},children:"刷新列表"}),i[10]=l,i[11]=O):O=i[11],i[12]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(s,{className:"my-3"}),i[12]=R):R=i[12],i[13]===Symbol.for("react.memo_cache_sentinel")?(T={searchParams:{status:0}},i[13]=T):T=i[13],i[14]!==S||i[15]!==n?(v=t.jsx(d,{columns:S,getListUrl:o.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:n,params:T}),i[14]=S,i[15]=n,i[16]=v):v=i[16],i[17]!==v||i[18]!==O?(z=t.jsxs(j,{children:[O,R,v]}),i[17]=v,i[18]=O,i[19]=z):z=i[19],z}function w(e){return t.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(y,{}),children:e||"已注销"})}function g(e,i){return t.jsx(f,{color:i.tagColor,children:i.tagText||"-"})}function _(e){return t.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function b(e,i){return e?t.jsx(h,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:i.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}const C=i.memo((s=>{const c=e.c(42),{record:d,refresh:j}=s;let u;c[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],c[0]=u):u=c[0];const[h,f]=i.useState(u);let y;c[1]!==d||c[2]!==j?(y=function(){const e=n.getState().user.token;l(0,f),setTimeout((()=>{a({url:o.approveRecommendApp,token:e,data:{id:d.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(0,f)}))}),500)},c[1]=d,c[2]=j,c[3]=y):y=c[3];const k=y;let w;c[4]!==d||c[5]!==j?(w=function(e,t){l(t,f);const i=n.getState().user.token;setTimeout((()=>{a({url:"reject"===e?o.rejectRecommendApp:o.deleteRecommendApp,token:i,data:{id:d.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(t,f)}))}),500)},c[4]=d,c[5]=j,c[6]=w):w=c[6];const g=w;let _,b,C,S,A;c[7]===Symbol.for("react.memo_cache_sentinel")?(_={width:"44px"},c[7]=_):_=c[7],c[8]!==h[0]?(b=h[0]?t.jsx(p,{}):"通过",c[8]=h[0],c[9]=b):b=c[9],c[10]!==h[0]||c[11]!==b?(C=t.jsx(r,{type:"link",size:"small",disabled:h[0],style:_,children:b}),c[10]=h[0],c[11]=b,c[12]=C):C=c[12],c[13]!==k||c[14]!==C?(S=t.jsx(x,{title:"是否确认审核通过？",onConfirm:k,children:C}),c[13]=k,c[14]=C,c[15]=S):S=c[15],c[16]!==g?(A=()=>{g("reject",1)},c[16]=g,c[17]=A):A=c[17];const O=h[1]||h[2];let R,T,v,z,L;c[18]===Symbol.for("react.memo_cache_sentinel")?(R={width:"44px"},c[18]=R):R=c[18],c[19]!==h[1]?(T=h[1]?t.jsx(p,{}):"驳回",c[19]=h[1],c[20]=T):T=c[20],c[21]!==T||c[22]!==O?(v=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:O,style:R,children:T}),c[21]=T,c[22]=O,c[23]=v):v=c[23],c[24]!==v||c[25]!==A?(z=t.jsx(x,{title:"是否确认驳回申请",onConfirm:A,children:v}),c[24]=v,c[25]=A,c[26]=z):z=c[26],c[27]!==g?(L=()=>{g("delete",2)},c[27]=g,c[28]=L):L=c[28];const M=h[1]||h[2];let N,B,I,K,U;return c[29]===Symbol.for("react.memo_cache_sentinel")?(N={width:"44px"},c[29]=N):N=c[29],c[30]!==h[2]?(B=h[2]?t.jsx(p,{}):"删除",c[30]=h[2],c[31]=B):B=c[31],c[32]!==M||c[33]!==B?(I=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:M,style:N,children:B}),c[32]=M,c[33]=B,c[34]=I):I=c[34],c[35]!==L||c[36]!==I?(K=t.jsx(x,{title:"是否确认删除该申请？",onConfirm:L,children:I}),c[35]=L,c[36]=I,c[37]=K):K=c[37],c[38]!==z||c[39]!==K||c[40]!==S?(U=t.jsxs("div",{className:"flex flex-wrap",children:[S,z,K]}),c[38]=z,c[39]=K,c[40]=S,c[41]=U):U=c[41],U}));export{k as default};
