import{c as e,j as t,r as i,B as s,Q as r,F as l,o,l as n,a,n as d,v as m,Y as c}from"./requestIdleCallbackPolyfill-CPe9lTcM.js";import{u as j}from"./useFresh-B4NNdaER.js";import{M as u,R as p}from"./myTable-DqOepQDp.js";import{C as f}from"./contentLayout-DS5K_zbp.js";import{R as x}from"./ReloadOutlined-DHWWlXFT.js";import{R as y}from"./QuestionCircleOutlined-CSI0LspI.js";import{T as h}from"./index-BhwolGP3.js";import{R as _}from"./UserOutlined-khYKPFdf.js";import"./index-H5vT6yOi.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-BWjHQnOt.js";import"./Overflow-DzHFI1dW.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DrLdoldb.js";import"./getAllowClear-C7x5Ty1a.js";import"./Input-eJls-qed.js";import"./transformData-CKPSW77P.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-BimJI-5s.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-BMDWT7zy.js";import"./styleChecker-CS8iJfqg.js";import"./AlipayOutlined-kRmwWEYR.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-CQXTZWaW.js";import"./index-BdbaD8Fj.js";import"./useBreakpoint-DNPDEdTQ.js";import"./index-BEfeEYtU.js";import"./ReloadOutlined-B00s2TmV.js";import"./QuestionCircleOutlined-DSm95oJP.js";function k(){const i=e.c(16),{key:n,refresh:a}=j();let d,m,c,p;i[0]===Symbol.for("react.memo_cache_sentinel")?(d={title:"用户名",key:"username",width:160,fixed:"left",render:g},m={title:"状态",key:"deleted_at",width:80,render:b},c={type:"time",title:"更新时间",key:"updated_at",width:200},i[0]=d,i[1]=m,i[2]=c):(d=i[0],m=i[1],c=i[2]),i[3]!==a?(p=[d,m,c,{title:"操作",fixed:"right",width:120,render:(e,i)=>t.jsx(O,{record:i,refresh:a})}],i[3]=a,i[4]=p):p=i[4];const h=p;let _,k,w,C,S,D;return i[5]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(x,{}),i[5]=_):_=i[5],i[6]!==a?(k=t.jsx(s,{type:"primary",icon:_,onClick:()=>{a()},children:"刷新列表"}),i[6]=a,i[7]=k):k=i[7],i[8]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(r,{type:"warning",description:t.jsxs(t.Fragment,{children:[t.jsx(y,{className:"mr-1"}),"默认数据为最新的启用数据，且数据会随着管理员在主页设置默认主页数据而更新！管理员保存新的默认数据后，所有先前启用数据均会禁用！"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),C=t.jsx(l,{className:"my-3"}),i[8]=w,i[9]=C):(w=i[8],C=i[9]),i[10]!==h||i[11]!==n?(S=t.jsx(u,{columns:h,getListUrl:o.getDefaultDataList,dataKey:"data.list",tableKey:n}),i[10]=h,i[11]=n,i[12]=S):S=i[12],i[13]!==k||i[14]!==S?(D=t.jsxs(f,{children:[k,w,C,S]}),i[13]=k,i[14]=S,i[15]=D):D=i[15],D}function b(e){return t.jsx(h,{color:e?"red":"green",children:e?"禁用":"启用"})}function g(e){return t.jsx(h,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(_,{}),children:e||"已注销"})}const O=i.memo((r=>{const l=e.c(33),{record:j,refresh:u}=r;let f;l[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],l[0]=f):f=l[0];const[x,y]=i.useState(f);let h;l[1]!==j.id||l[2]!==u?(h=function(){n(0,y);const e=a.getState().user.token;setTimeout((()=>{d({url:o.enableDefaultData,token:e,data:{id:j.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(0,y)}))}),500)},l[1]=j.id,l[2]=u,l[3]=h):h=l[3];const _=h;let k;l[4]!==j.id||l[5]!==u?(k=function(){n(0,y);const e=a.getState().user.token;setTimeout((()=>{d({url:o.disableDefaultData,token:e,data:{id:j.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(0,y)}))}),500)},l[4]=j.id,l[5]=u,l[6]=k):k=l[6];const b=k;let g;l[7]!==j.id||l[8]!==u?(g=function(){n(1,y);const e=a.getState().user.token;setTimeout((()=>{d({url:o.deleteDefaultData,token:e,data:{id:j.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(1,y)}))}),500)},l[7]=j.id,l[8]=u,l[9]=g):g=l[9];const O=g,w=j.deleted_at?"是否确认恢复？":"是否确认禁用？",C=j.deleted_at?_:b;let S,D,R,Q,T,L,M,N,v;return l[10]===Symbol.for("react.memo_cache_sentinel")?(S={width:"44px"},l[10]=S):S=l[10],l[11]!==x[0]||l[12]!==j.deleted_at?(D=x[0]?t.jsx(p,{}):j.deleted_at?"恢复":"禁用",l[11]=x[0],l[12]=j.deleted_at,l[13]=D):D=l[13],l[14]!==x[0]||l[15]!==D?(R=t.jsx(s,{type:"link",size:"small",disabled:x[0],style:S,children:D}),l[14]=x[0],l[15]=D,l[16]=R):R=l[16],l[17]!==w||l[18]!==C||l[19]!==R?(Q=t.jsx(c,{title:w,onConfirm:C,children:R}),l[17]=w,l[18]=C,l[19]=R,l[20]=Q):Q=l[20],l[21]===Symbol.for("react.memo_cache_sentinel")?(T={width:"44px"},l[21]=T):T=l[21],l[22]!==x[1]?(L=x[1]?t.jsx(p,{}):"删除",l[22]=x[1],l[23]=L):L=l[23],l[24]!==x[1]||l[25]!==L?(M=t.jsx(s,{danger:!0,type:"link",size:"small",disabled:x[1],style:T,children:L}),l[24]=x[1],l[25]=L,l[26]=M):M=l[26],l[27]!==O||l[28]!==M?(N=t.jsx(c,{title:"是否确认删除？",onConfirm:O,children:M}),l[27]=O,l[28]=M,l[29]=N):N=l[29],l[30]!==N||l[31]!==Q?(v=t.jsxs("div",{className:"flex flex-wrap",children:[Q,N]}),l[30]=N,l[31]=Q,l[32]=v):v=l[32],v}));export{k as default};
