import{x as e,j as t,e as s,B as i,ao as r,ah as o,aC as n,af as l,a0 as a,ag as m,aj as c}from"./main-CD0zUXTL.js";import{T as d}from"./index-XW6SjtyU.js";import{u as p}from"./useFresh-C0ydC2D3.js";import{M as j,R as u}from"./myTable-ZSYYS2U8.js";import{C as f}from"./contentLayout-BsKw27WM.js";import{R as y}from"./ReloadOutlined-CuRssTQQ.js";import{T as h}from"./index-DRF0O40K.js";import{P as x}from"./main-FlqzP-we.js";import"./iconBase-Csl-8KPx.js";import"./index-Bn4721qN.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-Cl2XolnV.js";import"./Overflow-Dth-jHIb.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-BxI9IZHD.js";import"./getAllowClear-CZO_kcqc.js";import"./Input-DAmAjPDT.js";import"./transformData-BQH7chON.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-FkshC0iu.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-Cl-JmkYn.js";import"./styleChecker-D6YSF6t4.js";import"./AlipayOutlined-C8qbQhus.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-Cuy2s8Sf.js";import"./useBreakpoint-BfXG9374.js";import"./index-CYN5EPmR.js";import"./ReloadOutlined-B00s2TmV.js";function k(){const s=e.c(20),{key:n,refresh:l}=p();let a,m,c,d,u,h,x,k;s[0]===Symbol.for("react.memo_cache_sentinel")?(a={title:"用户名",key:"username",width:160,fixed:"left"},m={title:"昵称",key:"nickname",width:160},c={type:"sex",title:"性别",key:"sex",width:60},d={title:"邮箱",key:"email",width:200,render:b},u={title:"手机号",key:"phone",width:160,render:_},h={title:"申请称号",key:"appellation",width:200,render:w},x={type:"time",title:"注册时间",key:"createdTime",width:200},s[0]=a,s[1]=m,s[2]=c,s[3]=d,s[4]=u,s[5]=h,s[6]=x):(a=s[0],m=s[1],c=s[2],d=s[3],u=s[4],h=s[5],x=s[6]),s[7]!==l?(k=[a,m,c,d,u,h,x,{title:"操作",fixed:"right",width:120,render:(e,s)=>t.jsx(C,{record:s,refresh:l})}],s[7]=l,s[8]=k):k=s[8];const g=k;let S,A,O,I,T,v;return s[9]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(y,{}),s[9]=S):S=s[9],s[10]!==l?(A=t.jsx(i,{type:"primary",icon:S,onClick:()=>{l()},children:"刷新列表"}),s[10]=l,s[11]=A):A=s[11],s[12]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(r,{className:"my-3"}),s[12]=O):O=s[12],s[13]===Symbol.for("react.memo_cache_sentinel")?(I={searchParams:{status:0}},s[13]=I):I=s[13],s[14]!==g||s[15]!==n?(T=t.jsx(j,{columns:g,getListUrl:o.getAwaitingApprovalUserAppellationList,dataKey:"data.list",rowKey:"userId",tableKey:n,params:I}),s[14]=g,s[15]=n,s[16]=T):T=s[16],s[17]!==T||s[18]!==A?(v=t.jsxs(f,{children:[A,O,T]}),s[17]=T,s[18]=A,s[19]=v):v=s[19],v}function w(e){return t.jsx(h,{className:"flex items-center gap-1 w-fit",icon:t.jsx(d,{}),children:e||"-"})}function _(e){return t.jsx(i,{type:"text",size:"small",onClick:()=>{n(e,!0)},children:e||"-"})}function b(e){return t.jsx(i,{type:"text",size:"small",onClick:()=>{n(e,!0)},children:e||"-"})}const C=s.memo((r=>{const n=e.c(28),{record:d,refresh:p}=r;let j;n[0]===Symbol.for("react.memo_cache_sentinel")?(j=[],n[0]=j):j=n[0];const[f,y]=s.useState(j);let h;n[1]!==d||n[2]!==p?(h=function(){l(0,y);const e=a.getState().user.token;setTimeout((()=>{m({url:o.approveUserAppellation,token:e,data:{userId:d.userId}}).then((e=>{200===e.code&&p()})).finally((()=>{c(0,y)}))}),500)},n[1]=d,n[2]=p,n[3]=h):h=n[3];const k=h;let w;n[4]!==d||n[5]!==p?(w=function(){l(1,y);const e=a.getState().user.token;setTimeout((()=>{m({url:o.rejectUserAppellation,token:e,data:{userId:d.userId}}).then((e=>{200===e.code&&p()})).finally((()=>{c(1,y)}))}),500)},n[4]=d,n[5]=p,n[6]=w):w=n[6];const _=w;let b,C,g,S,A,O,I,T,v;return n[7]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},n[7]=b):b=n[7],n[8]!==f[0]?(C=f[0]?t.jsx(u,{}):"通过",n[8]=f[0],n[9]=C):C=n[9],n[10]!==f[0]||n[11]!==C?(g=t.jsx(i,{type:"link",size:"small",disabled:f[0],style:b,children:C}),n[10]=f[0],n[11]=C,n[12]=g):g=n[12],n[13]!==k||n[14]!==g?(S=t.jsx(x,{title:"是否确认审核通过？",onConfirm:k,children:g}),n[13]=k,n[14]=g,n[15]=S):S=n[15],n[16]===Symbol.for("react.memo_cache_sentinel")?(A={width:"44px"},n[16]=A):A=n[16],n[17]!==f[1]?(O=f[1]?t.jsx(u,{}):"驳回",n[17]=f[1],n[18]=O):O=n[18],n[19]!==f[1]||n[20]!==O?(I=t.jsx(i,{danger:!0,type:"link",size:"small",disabled:f[1],style:A,children:O}),n[19]=f[1],n[20]=O,n[21]=I):I=n[21],n[22]!==_||n[23]!==I?(T=t.jsx(x,{title:"是否确认驳回申请？",onConfirm:_,children:I}),n[22]=_,n[23]=I,n[24]=T):T=n[24],n[25]!==T||n[26]!==S?(v=t.jsxs("div",{className:"flex flex-wrap",children:[S,T]}),n[25]=T,n[26]=S,n[27]=v):v=n[27],v}));export{k as default};
