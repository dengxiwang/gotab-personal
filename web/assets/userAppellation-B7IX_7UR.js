import{c as e,j as t,r as s,B as i,F as r,o,a4 as l,l as n,a,n as m,v as c,Y as d}from"./requestIdleCallbackPolyfill-CPe9lTcM.js";import{T as p}from"./index-CcRkhziG.js";import{u as j}from"./useFresh-B4NNdaER.js";import{M as u,R as y}from"./myTable-DqOepQDp.js";import{C as f}from"./contentLayout-DS5K_zbp.js";import{R as h}from"./ReloadOutlined-DHWWlXFT.js";import{T as x}from"./index-BhwolGP3.js";import"./iconBase-8XuLkquO.js";import"./index-H5vT6yOi.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-BWjHQnOt.js";import"./Overflow-DzHFI1dW.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DrLdoldb.js";import"./getAllowClear-C7x5Ty1a.js";import"./Input-eJls-qed.js";import"./transformData-CKPSW77P.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-BimJI-5s.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-BMDWT7zy.js";import"./styleChecker-CS8iJfqg.js";import"./AlipayOutlined-kRmwWEYR.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-CQXTZWaW.js";import"./index-BdbaD8Fj.js";import"./useBreakpoint-DNPDEdTQ.js";import"./index-BEfeEYtU.js";import"./ReloadOutlined-B00s2TmV.js";function k(){const s=e.c(20),{key:l,refresh:n}=j();let a,m,c,d,p,y,x,k;s[0]===Symbol.for("react.memo_cache_sentinel")?(a={title:"用户名",key:"username",width:160,fixed:"left"},m={title:"昵称",key:"nickname",width:160},c={type:"sex",title:"性别",key:"sex",width:60},d={title:"邮箱",key:"email",width:200,render:b},p={title:"手机号",key:"phone",width:160,render:_},y={title:"申请称号",key:"appellation",width:200,render:w},x={type:"time",title:"注册时间",key:"createdTime",width:200},s[0]=a,s[1]=m,s[2]=c,s[3]=d,s[4]=p,s[5]=y,s[6]=x):(a=s[0],m=s[1],c=s[2],d=s[3],p=s[4],y=s[5],x=s[6]),s[7]!==n?(k=[a,m,c,d,p,y,x,{title:"操作",fixed:"right",width:120,render:(e,s)=>t.jsx(C,{record:s,refresh:n})}],s[7]=n,s[8]=k):k=s[8];const g=k;let S,O,A,I,T,v;return s[9]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(h,{}),s[9]=S):S=s[9],s[10]!==n?(O=t.jsx(i,{type:"primary",icon:S,onClick:()=>{n()},children:"刷新列表"}),s[10]=n,s[11]=O):O=s[11],s[12]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(r,{className:"my-3"}),s[12]=A):A=s[12],s[13]===Symbol.for("react.memo_cache_sentinel")?(I={searchParams:{status:0}},s[13]=I):I=s[13],s[14]!==g||s[15]!==l?(T=t.jsx(u,{columns:g,getListUrl:o.getAwaitingApprovalUserAppellationList,dataKey:"data.list",rowKey:"userId",tableKey:l,params:I}),s[14]=g,s[15]=l,s[16]=T):T=s[16],s[17]!==T||s[18]!==O?(v=t.jsxs(f,{children:[O,A,T]}),s[17]=T,s[18]=O,s[19]=v):v=s[19],v}function w(e){return t.jsx(x,{className:"flex items-center gap-1 w-fit",icon:t.jsx(p,{}),children:e||"-"})}function _(e){return t.jsx(i,{type:"text",size:"small",onClick:()=>{l(e,!0)},children:e||"-"})}function b(e){return t.jsx(i,{type:"text",size:"small",onClick:()=>{l(e,!0)},children:e||"-"})}const C=s.memo((r=>{const l=e.c(28),{record:p,refresh:j}=r;let u;l[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],l[0]=u):u=l[0];const[f,h]=s.useState(u);let x;l[1]!==p||l[2]!==j?(x=function(){n(0,h);const e=a.getState().user.token;setTimeout((()=>{m({url:o.approveUserAppellation,token:e,data:{userId:p.userId}}).then((e=>{200===e.code&&j()})).finally((()=>{c(0,h)}))}),500)},l[1]=p,l[2]=j,l[3]=x):x=l[3];const k=x;let w;l[4]!==p||l[5]!==j?(w=function(){n(1,h);const e=a.getState().user.token;setTimeout((()=>{m({url:o.rejectUserAppellation,token:e,data:{userId:p.userId}}).then((e=>{200===e.code&&j()})).finally((()=>{c(1,h)}))}),500)},l[4]=p,l[5]=j,l[6]=w):w=l[6];const _=w;let b,C,g,S,O,A,I,T,v;return l[7]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},l[7]=b):b=l[7],l[8]!==f[0]?(C=f[0]?t.jsx(y,{}):"通过",l[8]=f[0],l[9]=C):C=l[9],l[10]!==f[0]||l[11]!==C?(g=t.jsx(i,{type:"link",size:"small",disabled:f[0],style:b,children:C}),l[10]=f[0],l[11]=C,l[12]=g):g=l[12],l[13]!==k||l[14]!==g?(S=t.jsx(d,{title:"是否确认审核通过？",onConfirm:k,children:g}),l[13]=k,l[14]=g,l[15]=S):S=l[15],l[16]===Symbol.for("react.memo_cache_sentinel")?(O={width:"44px"},l[16]=O):O=l[16],l[17]!==f[1]?(A=f[1]?t.jsx(y,{}):"驳回",l[17]=f[1],l[18]=A):A=l[18],l[19]!==f[1]||l[20]!==A?(I=t.jsx(i,{danger:!0,type:"link",size:"small",disabled:f[1],style:O,children:A}),l[19]=f[1],l[20]=A,l[21]=I):I=l[21],l[22]!==_||l[23]!==I?(T=t.jsx(d,{title:"是否确认驳回申请？",onConfirm:_,children:I}),l[22]=_,l[23]=I,l[24]=T):T=l[24],l[25]!==T||l[26]!==S?(v=t.jsxs("div",{className:"flex flex-wrap",children:[S,T]}),l[25]=T,l[26]=S,l[27]=v):v=l[27],v}));export{k as default};
