import{r as e,ba as t,bh as n,b7 as a,aj as o,b9 as r,b4 as s,b1 as l,aZ as i,b0 as c,a$ as d,ar as u,b6 as m,dF as p,af as f,dG as v,dH as b,aK as h,a7 as g,a8 as y,aa as x,ac as w,dI as C,bv as k,by as O,dJ as $,bj as S,ap as j,Z as E,cc as N,u as D,cd as I,h as M,aE as R,c3 as P,bT as z,j as B,c as H,a1 as L}from"./requestIdleCallbackPolyfill-wjnfvn2_.js";import{H as K}from"./handleButton-DNk9M2kU.js";var T=e.createContext(null),W=e.createContext({}),_=["prefixCls","className","containerRef"],U=function(s){var l=s.prefixCls,i=s.className,c=s.containerRef,d=t(s,_),u=e.useContext(W).panel,m=n(u,c);return e.createElement("div",a({className:o("".concat(l,"-content"),i),role:"dialog",ref:m},r(s,{aria:!0}),{"aria-modal":"true"},d))};function F(e){return"string"==typeof e&&String(Number(e))===e?(s(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var X={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function A(t,n){var s,m,p,f=t.prefixCls,v=t.open,b=t.placement,h=t.inline,g=t.push,y=t.forceRender,x=t.autoFocus,w=t.keyboard,C=t.classNames,k=t.rootClassName,O=t.rootStyle,$=t.zIndex,S=t.className,j=t.id,E=t.style,N=t.motion,D=t.width,I=t.height,M=t.children,R=t.mask,P=t.maskClosable,z=t.maskMotion,B=t.maskClassName,H=t.maskStyle,L=t.afterOpenChange,K=t.onClose,W=t.onMouseEnter,_=t.onMouseOver,A=t.onMouseLeave,Y=t.onClick,G=t.onKeyDown,q=t.onKeyUp,V=t.styles,Z=t.drawerRender,J=e.useRef(),Q=e.useRef(),ee=e.useRef();e.useImperativeHandle(n,(function(){return J.current}));e.useEffect((function(){var e;v&&x&&(null===(e=J.current)||void 0===e||e.focus({preventScroll:!0}))}),[v]);var te=e.useState(!1),ne=l(te,2),ae=ne[0],oe=ne[1],re=e.useContext(T),se=null!==(s=null!==(m=null===(p="boolean"==typeof g?g?{}:{distance:0}:g||{})||void 0===p?void 0:p.distance)&&void 0!==m?m:null==re?void 0:re.pushDistance)&&void 0!==s?s:180,le=e.useMemo((function(){return{pushDistance:se,push:function(){oe(!0)},pull:function(){oe(!1)}}}),[se]);e.useEffect((function(){var e,t;v?null==re||null===(e=re.push)||void 0===e||e.call(re):null==re||null===(t=re.pull)||void 0===t||t.call(re)}),[v]),e.useEffect((function(){return function(){var e;null==re||null===(e=re.pull)||void 0===e||e.call(re)}}),[]);var ie=e.createElement(i,a({key:"mask"},z,{visible:R&&v}),(function(t,n){var a=t.className,r=t.style;return e.createElement("div",{className:o("".concat(f,"-mask"),a,null==C?void 0:C.mask,B),style:c(c(c({},r),H),null==V?void 0:V.mask),onClick:P&&v?K:void 0,ref:n})})),ce="function"==typeof N?N(b):N,de={};if(ae&&se)switch(b){case"top":de.transform="translateY(".concat(se,"px)");break;case"bottom":de.transform="translateY(".concat(-se,"px)");break;case"left":de.transform="translateX(".concat(se,"px)");break;default:de.transform="translateX(".concat(-se,"px)")}"left"===b||"right"===b?de.width=F(D):de.height=F(I);var ue={onMouseEnter:W,onMouseOver:_,onMouseLeave:A,onClick:Y,onKeyDown:G,onKeyUp:q},me=e.createElement(i,a({key:"panel"},ce,{visible:v,forceRender:y,onVisibleChanged:function(e){null==L||L(e)},removeOnLeave:!1,leavedClassName:"".concat(f,"-content-wrapper-hidden")}),(function(n,s){var l=n.className,i=n.style,d=e.createElement(U,a({id:j,containerRef:s,prefixCls:f,className:o(S,null==C?void 0:C.content),style:c(c({},E),null==V?void 0:V.content)},r(t,{aria:!0}),ue),M);return e.createElement("div",a({className:o("".concat(f,"-content-wrapper"),null==C?void 0:C.wrapper,l),style:c(c(c({},de),i),null==V?void 0:V.wrapper)},r(t,{data:!0})),Z?Z(d):d)})),pe=c({},O);return $&&(pe.zIndex=$),e.createElement(T.Provider,{value:le},e.createElement("div",{className:o(f,"".concat(f,"-").concat(b),k,d(d({},"".concat(f,"-open"),v),"".concat(f,"-inline"),h)),style:pe,tabIndex:-1,ref:J,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case u.TAB:var a;if(t===u.TAB)if(n||document.activeElement!==ee.current){if(n&&document.activeElement===Q.current){var o;null===(o=ee.current)||void 0===o||o.focus({preventScroll:!0})}}else null===(a=Q.current)||void 0===a||a.focus({preventScroll:!0});break;case u.ESC:K&&w&&(e.stopPropagation(),K(e))}}},ie,e.createElement("div",{tabIndex:0,ref:Q,style:X,"aria-hidden":"true","data-sentinel":"start"}),me,e.createElement("div",{tabIndex:0,ref:ee,style:X,"aria-hidden":"true","data-sentinel":"end"})))}var Y=e.forwardRef(A),G=function(t){var n=t.open,a=void 0!==n&&n,o=t.prefixCls,r=void 0===o?"rc-drawer":o,s=t.placement,i=void 0===s?"right":s,d=t.autoFocus,u=void 0===d||d,f=t.keyboard,v=void 0===f||f,b=t.width,h=void 0===b?378:b,g=t.mask,y=void 0===g||g,x=t.maskClosable,w=void 0===x||x,C=t.getContainer,k=t.forceRender,O=t.afterOpenChange,$=t.destroyOnClose,S=t.onMouseEnter,j=t.onMouseOver,E=t.onMouseLeave,N=t.onClick,D=t.onKeyDown,I=t.onKeyUp,M=t.panelRef,R=e.useState(!1),P=l(R,2),z=P[0],B=P[1],H=e.useState(!1),L=l(H,2),K=L[0],T=L[1];m((function(){T(!0)}),[]);var _=!!K&&a,U=e.useRef(),F=e.useRef();m((function(){_&&(F.current=document.activeElement)}),[_]);var X=e.useMemo((function(){return{panel:M}}),[M]);if(!k&&!z&&!_&&$)return null;var A={onMouseEnter:S,onMouseOver:j,onMouseLeave:E,onClick:N,onKeyDown:D,onKeyUp:I},G=c(c({},t),{},{open:_,prefixCls:r,placement:i,autoFocus:u,keyboard:v,width:h,mask:y,maskClosable:w,inline:!1===C,afterOpenChange:function(e){var t,n;(B(e),null==O||O(e),e||!F.current||null!==(t=U.current)&&void 0!==t&&t.contains(F.current))||(null===(n=F.current)||void 0===n||n.focus({preventScroll:!0}))},ref:U},A);return e.createElement(W.Provider,{value:X},e.createElement(p,{open:_||k||z,autoDestroy:!1,getContainer:C,autoLock:y&&(_||z)},e.createElement(Y,G)))};const q=t=>{var n,a;const{prefixCls:r,title:s,footer:l,extra:i,loading:c,onClose:d,headerStyle:u,bodyStyle:m,footerStyle:p,children:g,classNames:y,styles:x}=t,w=f("drawer"),C=e.useCallback((t=>e.createElement("button",{type:"button",onClick:d,className:`${r}-close`},t)),[d]),[k,O]=v(b(t),b(w),{closable:!0,closeIconRender:C}),$=e.useMemo((()=>{var t,n;return s||k?e.createElement("div",{style:Object.assign(Object.assign(Object.assign({},null===(t=w.styles)||void 0===t?void 0:t.header),u),null==x?void 0:x.header),className:o(`${r}-header`,{[`${r}-header-close-only`]:k&&!s&&!i},null===(n=w.classNames)||void 0===n?void 0:n.header,null==y?void 0:y.header)},e.createElement("div",{className:`${r}-header-title`},O,s&&e.createElement("div",{className:`${r}-title`},s)),i&&e.createElement("div",{className:`${r}-extra`},i)):null}),[k,O,i,u,r,s]),S=e.useMemo((()=>{var t,n;if(!l)return null;const a=`${r}-footer`;return e.createElement("div",{className:o(a,null===(t=w.classNames)||void 0===t?void 0:t.footer,null==y?void 0:y.footer),style:Object.assign(Object.assign(Object.assign({},null===(n=w.styles)||void 0===n?void 0:n.footer),p),null==x?void 0:x.footer)},l)}),[l,p,r]);return e.createElement(e.Fragment,null,$,e.createElement("div",{className:o(`${r}-body`,null==y?void 0:y.body,null===(n=w.classNames)||void 0===n?void 0:n.body),style:Object.assign(Object.assign(Object.assign({},null===(a=w.styles)||void 0===a?void 0:a.body),m),null==x?void 0:x.body)},c?e.createElement(h,{active:!0,title:!1,paragraph:{rows:5},className:`${r}-body-skeleton`}):g),S)},V=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},Z=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),J=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},Z({opacity:e},{opacity:1})),Q=(e,t)=>[J(.7,t),Z({transform:V(e)},{transform:"none"})],ee=e=>{const{componentCls:t,motionDurationSlow:n}=e;return{[t]:{[`${t}-mask-motion`]:J(0,n),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce(((e,t)=>Object.assign(Object.assign({},e),{[`&-${t}`]:Q(t,n)})),{})}}},te=e=>{const{borderRadiusSM:t,componentCls:n,zIndexPopup:a,colorBgMask:o,colorBgElevated:r,motionDurationSlow:s,motionDurationMid:l,paddingXS:i,padding:c,paddingLG:d,fontSizeLG:u,lineHeightLG:m,lineWidth:p,lineType:f,colorSplit:v,marginXS:b,colorIcon:h,colorIconHover:g,colorBgTextHover:y,colorBgTextActive:C,colorText:k,fontWeightStrong:O,footerPaddingBlock:$,footerPaddingInline:S,calc:j}=e,E=`${n}-content-wrapper`;return{[n]:{position:"fixed",inset:0,zIndex:a,pointerEvents:"none",color:k,"&-pure":{position:"relative",background:r,display:"flex",flexDirection:"column",[`&${n}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${n}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${n}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${n}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${n}-mask`]:{position:"absolute",inset:0,zIndex:a,background:o,pointerEvents:"auto"},[E]:{position:"absolute",zIndex:a,maxWidth:"100vw",transition:`all ${s}`,"&-hidden":{display:"none"}},[`&-left > ${E}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${E}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${E}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${E}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${n}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:r,pointerEvents:"auto"},[`${n}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${x(c)} ${x(d)}`,fontSize:u,lineHeight:m,borderBottom:`${x(p)} ${f} ${v}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${n}-extra`]:{flex:"none"},[`${n}-close`]:Object.assign({display:"inline-flex",width:j(u).add(i).equal(),height:j(u).add(i).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",marginInlineEnd:b,color:h,fontWeight:O,fontSize:u,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${l}`,textRendering:"auto","&:hover":{color:g,backgroundColor:y,textDecoration:"none"},"&:active":{backgroundColor:C}},w(e)),[`${n}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:u,lineHeight:m},[`${n}-body`]:{flex:1,minWidth:0,minHeight:0,padding:d,overflow:"auto",[`${n}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${n}-footer`]:{flexShrink:0,padding:`${x($)} ${x(S)}`,borderTop:`${x(p)} ${f} ${v}`},"&-rtl":{direction:"rtl"}}}},ne=g("Drawer",(e=>{const t=y(e,{});return[te(t),ee(t)]}),(e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding})));var ae=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const oe={distance:180},re=t=>{const{rootClassName:n,width:a,height:r,size:s="default",mask:l=!0,push:i=oe,open:c,afterOpenChange:d,onClose:u,prefixCls:m,getContainer:p,style:v,className:b,visible:h,afterVisibleChange:g,maskStyle:y,drawerStyle:x,contentWrapperStyle:w,destroyOnClose:j,destroyOnHidden:E}=t,N=ae(t,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),{getPopupContainer:D,getPrefixCls:I,direction:M,className:R,style:P,classNames:z,styles:B}=f("drawer"),H=I("drawer",m),[L,K,T]=ne(H),W=void 0===p&&D?()=>D(document.body):p,_=o({"no-mask":!l,[`${H}-rtl`]:"rtl"===M},n,K,T),U=e.useMemo((()=>null!=a?a:"large"===s?736:378),[a,s]),F=e.useMemo((()=>null!=r?r:"large"===s?736:378),[r,s]),X={motionName:S(H,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},A=C(),[Y,V]=k("Drawer",N.zIndex),{classNames:Z={},styles:J={}}=N;return L(e.createElement(O,{form:!0,space:!0},e.createElement($.Provider,{value:V},e.createElement(G,Object.assign({prefixCls:H,onClose:u,maskMotion:X,motion:e=>({motionName:S(H,`panel-motion-${e}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500})},N,{classNames:{mask:o(Z.mask,z.mask),content:o(Z.content,z.content),wrapper:o(Z.wrapper,z.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},J.mask),y),B.mask),content:Object.assign(Object.assign(Object.assign({},J.content),x),B.content),wrapper:Object.assign(Object.assign(Object.assign({},J.wrapper),w),B.wrapper)},open:null!=c?c:h,mask:l,push:i,width:U,height:F,style:Object.assign(Object.assign({},P),v),className:o(R,b),rootClassName:_,getContainer:W,afterOpenChange:null!=d?d:g,panelRef:A,zIndex:Y,destroyOnClose:null!=E?E:j}),e.createElement(q,Object.assign({prefixCls:H},N,{onClose:u}))))))};re._InternalPanelDoNotUseOrYouWillBeFired=t=>{const{prefixCls:n,style:a,className:r,placement:s="right"}=t,l=ae(t,["prefixCls","style","className","placement"]),{getPrefixCls:i}=e.useContext(j),c=i("drawer",n),[d,u,m]=ne(c),p=o(c,`${c}-pure`,`${c}-${s}`,u,m,r);return d(e.createElement("div",{className:p,style:a},e.createElement(q,Object.assign({prefixCls:c},l))))};const se=E.create((t=>{const{title:n,children:a,width:o,maskBlur:r=!0,placement:s,backgroundOpacity:l,onClose:i,destroyOnClose:c=!0,onClosedUseTabListen:d=!0}=t,u=N(),m=D(),p=I(),f=M((e=>e.wallpaperTheme.themeMode)),v=M((e=>e.card.bgBackdropFilter));e.useEffect((()=>()=>{u.hide()}),[p.pathname,p.search]),R((()=>(u.visible&&m(P(!1)),()=>{d&&m(P(!0))})),[u.visible,d]);const b=z("(prefers-color-scheme: dark)"),h=e.useMemo((()=>({content:{background:"auto"===f?b?`rgba(25,25,25,${v&&l||1})`:v?`rgba(255,255,255,${l||1})`:l?"rgb(235, 235, 235)":"rgb(255,255,255)":"light"===f?v?`rgba(255,255,255,${l||1})`:l?"rgb(235, 235, 235)":"rgb(255,255,255)":`rgba(25,25,25,${v&&l||1})`},wrapper:{boxShadow:"none"}})),[f,b,l,v]);return B.jsx(re,{id:"my-drawer2",placement:s,width:o,title:B.jsx(le,{title:n,placement:s}),styles:h,open:u.visible,closeIcon:null,onClose:()=>{u.hide(),i&&i()},classNames:{mask:r&&v?"backdrop-blur-sm":""},destroyOnHidden:c,children:a},"my-drawer2")})),le=e.memo((e=>{const t=H.c(6),{title:n,placement:a}=e,o="flex justify-between gap-3 items-center "+("right"===a?"flex-row-reverse":"");let r,s,l;return t[0]!==n?(r=B.jsx("div",{className:"flex-1",children:n}),t[0]=n,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(s=B.jsx("div",{className:"my-handle-icon",children:B.jsx(K,{icon:B.jsx(L,{}),onClick:ie})}),t[2]=s):s=t[2],t[3]!==o||t[4]!==r?(l=B.jsxs("div",{className:o,children:[r,s]}),t[3]=o,t[4]=r,t[5]=l):l=t[5],l}));function ie(){E.hide(se)}export{re as D,se as M,G as a};
