import{x as e,e as t,j as r,B as s,ao as i,a8 as o,aw as l,ah as n,af as a,a0 as m,ag as c,aj as d}from"./main-RpejCBsR.js";import{u as p}from"./useFresh-CPnGAo4P.js";import{r as j}from"./transformData-hq2czZI8.js";import{M as h,R as x}from"./myTable-CRFfBxBV.js";import{A as f}from"./addRecommendAppForm-DhU_hEuG.js";import{C as u}from"./contentLayout-CYjexQz9.js";import{F as y}from"./index-NJy1tlp1.js";import{I as w}from"./index-DJ4Q4UDS.js";import{R as k,a as g}from"./SearchOutlined-B2JWdp69.js";import{T as _}from"./index-mJdixdnj.js";import{I as b}from"./index-D5IqMKmB.js";import{R as C}from"./UserOutlined-BSR-I-QH.js";import{P as S}from"./main-Bz7X3OC0.js";import"./MailOutlined-DYvhoNUM.js";import"./Overflow-BCh9wkGD.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DEv9k294.js";import"./getAllowClear-BYRQBlOI.js";import"./Input-B4rSyk4X.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-BEJwuBNw.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-DhcLARst.js";import"./styleChecker-65ImXUxL.js";import"./AlipayOutlined-7zTy6hzu.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-nJJZPdRt.js";import"./useBreakpoint-DfVTHTv0.js";import"./index-BOGE8Tfq.js";import"./ColorPicker-BRy5u_Zp.js";import"./index-HdtN0ZR6.js";import"./index-CYaJ7OIr.js";import"./CloudUploadOutlined-CEPisIME.js";import"./row-BVZ81Qgs.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./TextArea-BWCilDY2.js";import"./LeftOutlined-D9Sp279J.js";function O(){const a=e.c(46),{key:m,refresh:c}=p(),[d]=y.useForm();let x;a[0]===Symbol.for("react.memo_cache_sentinel")?(x={},a[0]=x):x=a[0];const[_,b]=t.useState(x);let C,S,O,v,M,U,z,L,B;a[1]===Symbol.for("react.memo_cache_sentinel")?(C={title:"应用标题",key:"title",width:160,fixed:"left"},S={title:"状态",key:"status",width:120,render:T},O={title:"应用描述",key:"description",width:460},v={title:"图标",key:"icon",width:100,render:N},M={title:"链接",key:"link",width:120,render:I},U={title:"标签",width:120,render:F},z={title:"推荐人",key:"username",width:160,render:A},L={type:"time",title:"推荐时间",key:"createdTime",width:200},a[1]=C,a[2]=S,a[3]=O,a[4]=v,a[5]=M,a[6]=U,a[7]=z,a[8]=L):(C=a[1],S=a[2],O=a[3],v=a[4],M=a[5],U=a[6],z=a[7],L=a[8]),a[9]!==c?(B=[C,S,O,v,M,U,z,L,{title:"操作",fixed:"right",width:120,render:(e,t)=>r.jsx(R,{record:t,refresh:c})}],a[9]=c,a[10]=B):B=a[10];const P=B;let Q,D,K,E,G,H,J,V,W,X,Y,Z,$,q,ee,te,re;return a[11]!==d?(Q=()=>{const e=d.getFieldsValue();e[Math.random()]=!0,b(j(e))},a[11]=d,a[12]=Q):Q=a[12],a[13]===Symbol.for("react.memo_cache_sentinel")?(D={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridTemplateRows:"32px"},a[13]=D):D=a[13],a[14]===Symbol.for("react.memo_cache_sentinel")?(K=r.jsx(y.Item,{name:"title",children:r.jsx(w,{placeholder:"标题"})}),a[14]=K):K=a[14],a[15]===Symbol.for("react.memo_cache_sentinel")?(E=r.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:D,children:[K,r.jsx(y.Item,{name:"link",children:r.jsx(w,{placeholder:"链接"})})]}),a[15]=E):E=a[15],a[16]!==d?(G=()=>{d.submit()},a[16]=d,a[17]=G):G=a[17],a[18]===Symbol.for("react.memo_cache_sentinel")?(H=r.jsx(k,{}),a[18]=H):H=a[18],a[19]!==G?(J=r.jsx(s,{type:"primary",onClick:G,icon:H,children:"查询"}),a[19]=G,a[20]=J):J=a[20],a[21]!==d?(V=()=>{d.resetFields();const e={};e[Math.random()]=!0,b(e)},a[21]=d,a[22]=V):V=a[22],a[23]===Symbol.for("react.memo_cache_sentinel")?(W=r.jsx(g,{}),a[23]=W):W=a[23],a[24]!==V?(X=r.jsx(s,{onClick:V,icon:W,children:"重置"}),a[24]=V,a[25]=X):X=a[25],a[26]!==J||a[27]!==X?(Y=r.jsxs("div",{className:"flex flex-wrap gap-3",children:[J,X]}),a[26]=J,a[27]=X,a[28]=Y):Y=a[28],a[29]!==d||a[30]!==Q||a[31]!==Y?(Z=r.jsxs(y,{className:"w-full",form:d,onFinish:Q,children:[E,Y]}),a[29]=d,a[30]=Q,a[31]=Y,a[32]=Z):Z=a[32],a[33]===Symbol.for("react.memo_cache_sentinel")?($=r.jsx(i,{className:"my-3"}),a[33]=$):$=a[33],a[34]!==c?(q=r.jsx("div",{className:"mb-3",children:r.jsx(s,{type:"primary",onClick:()=>{o.show(l,{title:"新增推荐",children:r.jsx(f,{refresh:c})})},children:"新增推荐"})}),a[34]=c,a[35]=q):q=a[35],a[36]!==_?(ee={searchParams:_},a[36]=_,a[37]=ee):ee=a[37],a[38]!==P||a[39]!==m||a[40]!==ee?(te=r.jsx(h,{columns:P,getListUrl:n.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:m,params:ee}),a[38]=P,a[39]=m,a[40]=ee,a[41]=te):te=a[41],a[42]!==Z||a[43]!==q||a[44]!==te?(re=r.jsxs(u,{children:[Z,$,q,te]}),a[42]=Z,a[43]=q,a[44]=te,a[45]=re):re=a[45],re}function A(e){return r.jsx(_,{color:e?"geekblue":"red",bordered:!1,icon:r.jsx(C,{}),children:e||"已注销"})}function F(e,t){return r.jsx(_,{color:t.tagColor,children:t.tagText||"-"})}function I(e){return r.jsx(s,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function N(e,t){return e?r.jsx(b,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}function T(e){return r.jsx(_,{color:0===e?"blue":1===e?"green":"red",children:0===e?"待审核":1===e?"正常":"被驳回"})}const R=t.memo((i=>{const p=e.c(26),{record:j,refresh:h}=i;let f;p[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],p[0]=f):f=p[0];const[u,y]=t.useState(f);let w;p[1]!==j||p[2]!==h?(w=function(){a(1,y);const e=m.getState().user.token;setTimeout((()=>{c({url:n.deleteRecommendApp,token:e,data:{id:j.id}}).then((e=>{200===e.code&&h()})).finally((()=>{d(1,y)}))}),500)},p[1]=j,p[2]=h,p[3]=w):w=p[3];const k=w;let g,_,b,C,O,A,F,I,N;return p[4]===Symbol.for("react.memo_cache_sentinel")?(g={width:"44px"},p[4]=g):g=p[4],p[5]!==j||p[6]!==h?(_=()=>{o.show(l,{title:"编辑推荐",children:r.jsx(v,{editItem:j,refresh:h})})},p[5]=j,p[6]=h,p[7]=_):_=p[7],p[8]!==u[0]?(b=u[0]?r.jsx(x,{}):"编辑",p[8]=u[0],p[9]=b):b=p[9],p[10]!==u[0]||p[11]!==_||p[12]!==b?(C=r.jsx(s,{type:"link",size:"small",disabled:u[0],style:g,onClick:_,children:b}),p[10]=u[0],p[11]=_,p[12]=b,p[13]=C):C=p[13],p[14]===Symbol.for("react.memo_cache_sentinel")?(O={width:"44px"},p[14]=O):O=p[14],p[15]!==u[1]?(A=u[1]?r.jsx(x,{}):"删除",p[15]=u[1],p[16]=A):A=p[16],p[17]!==u[1]||p[18]!==A?(F=r.jsx(s,{danger:!0,type:"link",size:"small",disabled:u[1],style:O,children:A}),p[17]=u[1],p[18]=A,p[19]=F):F=p[19],p[20]!==k||p[21]!==F?(I=r.jsx(S,{title:"是否确认删除该推荐？",onConfirm:k,children:F}),p[20]=k,p[21]=F,p[22]=I):I=p[22],p[23]!==C||p[24]!==I?(N=r.jsxs("div",{className:"flex flex-wrap",children:[C,I]}),p[23]=C,p[24]=I,p[25]=N):N=p[25],N})),v=t=>{const s=e.c(3),{editItem:i,refresh:o}=t;let l;return s[0]!==i||s[1]!==o?(l=r.jsx(r.Fragment,{children:r.jsx(f,{editItem:i,refresh:o,type:"edit"})}),s[0]=i,s[1]=o,s[2]=l):l=s[2],l};export{O as default};
