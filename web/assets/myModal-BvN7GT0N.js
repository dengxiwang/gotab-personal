import{$ as e,cd as o,u as s,ce as a,h as l,r,aF as t,c4 as i,bU as n,j as d,b$ as c,a2 as b}from"./requestIdleCallbackPolyfill-DuXR6Mmk.js";const h=e.create((e=>{const{title:h,children:g,footer:m=null,width:p,bodyStyle:u,contentStyle:f,style:k,centered:v=!0,backgroundOpacity:y,height:w,contentPaddingY:x=20,contentPaddingX:C=24,transition:$=!0,maskBlur:M=!0,overflowX:j="hidden",showMask:O=!0,showCloseIcon:T=!0,maskToClose:I=!0,onClose:P,destroyOnClose:B=!0,onClosedUseTabListen:F=!0}=e,H=o(),N=s(),S=a(),U=l((e=>e.wallpaperTheme.themeMode)),X=l((e=>e.card.bgBackdropFilter));r.useEffect((()=>()=>{H.hide()}),[S.pathname,S.search]),t((()=>(H.visible&&N(i(!1)),()=>{F&&N(i(!0))})),[H.visible,F]);const q=n("(prefers-color-scheme: dark)"),z=r.useMemo((()=>({body:{overflow:"hidden"===j?"hidden scroll":"visible",height:w,maxHeight:`calc(100vh - ${32+(h?4:2)*x}px)`,...u},content:{borderRadius:16,overflow:"hidden",padding:`${x}px ${C}px`,background:"auto"===U?q?`rgba(25,25,25,${X&&y||1})`:X?`rgba(255,255,255,${y||1})`:y?"rgb(235, 235, 235)":"rgb(255,255,255)":"light"===U?X?`rgba(255,255,255,${y||1})`:y?"rgb(235, 235, 235)":"rgb(255,255,255)":`rgba(25,25,25,${X&&y||1})`,...f}})),[j,w,h,x,u,C,U,q,y,f,X]),A=r.useMemo((()=>({maxWidth:"calc(100vw - 32px)",overflow:"visible",margin:v?16:void 0,...k})),[v,k]);return d.jsx(c,{width:p,title:h,open:H.visible,onOk:H.hide,onCancel:()=>{H.hide(),P&&P()},transitionName:$?"ant-zoom-big":"",maskClosable:I,mask:O,closable:T,closeIcon:T&&d.jsx(b,{}),classNames:{mask:M&&X?"backdrop-blur-sm":""},styles:z,style:A,centered:v,footer:m,destroyOnHidden:B,focusTriggerAfterClose:!1,children:g},"my-modal")}));export{h as M};
