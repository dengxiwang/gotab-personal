import{c as e,r as t,j as r,B as s,F as i,$ as o,a0 as l,o as n,l as a,a as m,n as c,v as d,Z as p}from"./requestIdleCallbackPolyfill-D5UXfOWp.js";import{u as j}from"./useFresh-DMCel_n6.js";import{r as h}from"./transformData-BUnDz3WY.js";import{M as u,R as f}from"./myTable-uza6LV4T.js";import{A as x}from"./addRecommendAppForm-CmduEc8X.js";import{C as y}from"./contentLayout-qjVol4Hl.js";import{F as k}from"./index-CiXMHzQl.js";import{I as g}from"./index-B3JXcSyU.js";import{R as w,a as b}from"./SearchOutlined-x-ldfOSX.js";import{T as _}from"./index-Bf49vDPw.js";import{R as C}from"./SortAscendingOutlined-CyxP_Vkq.js";import{I as S}from"./index-BWR76n7v.js";import{R as O}from"./UserOutlined-D17YGhfL.js";import"./index-BCVdynv9.js";import"./useForm-cby96dhC.js";import"./MailOutlined-Dn4ubatW.js";import"./Overflow-RDTyJatL.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DcFKkqxo.js";import"./getAllowClear-CLEcXxhr.js";import"./Input-mEqGoZsi.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-BmT7Lwvs.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-CoC-oOPI.js";import"./styleChecker-D0CsdC8y.js";import"./AlipayOutlined-Cfi0m4Fi.js";import"./AlipayOutlined-tZM3mGx9.js";import"./useUpdateEffect-ROFoULpi.js";import"./useBreakpoint-BwSRtPvM.js";import"./index-CULtT6eP.js";import"./ColorPicker-CjrZJ6-l.js";import"./index-DLosaacx.js";import"./index-B4ekvnKN.js";import"./CloudUploadOutlined-BrGodqJ3.js";import"./row-BT64AYT8.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./TextArea-BvATmHT6.js";import"./SortAscendingOutlined-8bEGxkuH.js";import"./LeftOutlined-D9Sp279J.js";function A(){const a=e.c(47),{key:m,refresh:c}=j(),[d]=k.useForm();let p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p={},a[0]=p):p=a[0];const[f,_]=t.useState(p);let C,S,O,A,U,L,z,B,P,Q;a[1]===Symbol.for("react.memo_cache_sentinel")?(C={title:"应用标题",key:"title",width:160,fixed:"left"},S={title:"状态",key:"status",width:120,render:T},O={title:"排序",key:"sort",width:80,render:N},A={title:"应用描述",key:"description",width:460},U={title:"图标",key:"icon",width:100,render:v},L={title:"链接",key:"link",width:120,render:R},z={title:"标签",width:120,render:I},B={title:"推荐人",key:"username",width:160,render:F},P={type:"time",title:"推荐时间",key:"createdTime",width:200},a[1]=C,a[2]=S,a[3]=O,a[4]=A,a[5]=U,a[6]=L,a[7]=z,a[8]=B,a[9]=P):(C=a[1],S=a[2],O=a[3],A=a[4],U=a[5],L=a[6],z=a[7],B=a[8],P=a[9]),a[10]!==c?(Q=[C,S,O,A,U,L,z,B,P,{title:"操作",fixed:"right",width:120,render:(e,t)=>r.jsx(M,{record:t,refresh:c})}],a[10]=c,a[11]=Q):Q=a[11];const q=Q;let K,Z,D,E,V,W,X,Y,$,G,H,J,ee,te,re,se,ie;return a[12]!==d?(K=()=>{const e=d.getFieldsValue();e[Math.random()]=!0,_(h(e))},a[12]=d,a[13]=K):K=a[13],a[14]===Symbol.for("react.memo_cache_sentinel")?(Z={gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gridTemplateRows:"32px"},a[14]=Z):Z=a[14],a[15]===Symbol.for("react.memo_cache_sentinel")?(D=r.jsx(k.Item,{name:"title",children:r.jsx(g,{placeholder:"标题"})}),a[15]=D):D=a[15],a[16]===Symbol.for("react.memo_cache_sentinel")?(E=r.jsxs("div",{className:"gap-3 flex-wrap grid w-full mb-3",style:Z,children:[D,r.jsx(k.Item,{name:"link",children:r.jsx(g,{placeholder:"链接"})})]}),a[16]=E):E=a[16],a[17]!==d?(V=()=>{d.submit()},a[17]=d,a[18]=V):V=a[18],a[19]===Symbol.for("react.memo_cache_sentinel")?(W=r.jsx(w,{}),a[19]=W):W=a[19],a[20]!==V?(X=r.jsx(s,{type:"primary",onClick:V,icon:W,children:"查询"}),a[20]=V,a[21]=X):X=a[21],a[22]!==d?(Y=()=>{d.resetFields();const e={};e[Math.random()]=!0,_(e)},a[22]=d,a[23]=Y):Y=a[23],a[24]===Symbol.for("react.memo_cache_sentinel")?($=r.jsx(b,{}),a[24]=$):$=a[24],a[25]!==Y?(G=r.jsx(s,{onClick:Y,icon:$,children:"重置"}),a[25]=Y,a[26]=G):G=a[26],a[27]!==X||a[28]!==G?(H=r.jsxs("div",{className:"flex flex-wrap gap-3",children:[X,G]}),a[27]=X,a[28]=G,a[29]=H):H=a[29],a[30]!==d||a[31]!==K||a[32]!==H?(J=r.jsxs(k,{className:"w-full",form:d,onFinish:K,children:[E,H]}),a[30]=d,a[31]=K,a[32]=H,a[33]=J):J=a[33],a[34]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(i,{className:"my-3"}),a[34]=ee):ee=a[34],a[35]!==c?(te=r.jsx("div",{className:"mb-3",children:r.jsx(s,{type:"primary",onClick:()=>{o.show(l,{title:"新增推荐",children:r.jsx(x,{refresh:c})})},children:"新增推荐"})}),a[35]=c,a[36]=te):te=a[36],a[37]!==f?(re={searchParams:f},a[37]=f,a[38]=re):re=a[38],a[39]!==q||a[40]!==m||a[41]!==re?(se=r.jsx(u,{columns:q,getListUrl:n.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:m,params:re}),a[39]=q,a[40]=m,a[41]=re,a[42]=se):se=a[42],a[43]!==J||a[44]!==te||a[45]!==se?(ie=r.jsxs(y,{children:[J,ee,te,se]}),a[43]=J,a[44]=te,a[45]=se,a[46]=ie):ie=a[46],ie}function F(e){return r.jsx(_,{color:e?"geekblue":"red",bordered:!1,icon:r.jsx(O,{}),children:e||"已注销"})}function I(e,t){return r.jsx(_,{color:t.tagColor,children:t.tagText||"-"})}function R(e){return r.jsx(s,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function v(e,t){return e?r.jsx(S,{src:e,width:"auto",height:32,className:"p-1 rounded-lg",style:{backgroundColor:t.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}function N(e){return r.jsx(_,{color:"gold",icon:r.jsx(C,{}),children:e||"-"})}function T(e){return r.jsx(_,{color:0===e?"blue":1===e?"green":"red",children:0===e?"待审核":1===e?"正常":"被驳回"})}const M=t.memo(i=>{const j=e.c(26),{record:h,refresh:u}=i;let x;j[0]===Symbol.for("react.memo_cache_sentinel")?(x=[],j[0]=x):x=j[0];const[y,k]=t.useState(x);let g;j[1]!==h||j[2]!==u?(g=function(){a(1,k);const e=m.getState().user.token;setTimeout(()=>{c({url:n.deleteRecommendApp,token:e,data:{id:h.id}}).then(e=>{200===e.code&&u()}).finally(()=>{d(1,k)})},500)},j[1]=h,j[2]=u,j[3]=g):g=j[3];const w=g;let b,_,C,S,O,A,F,I,R;return j[4]===Symbol.for("react.memo_cache_sentinel")?(b={width:"44px"},j[4]=b):b=j[4],j[5]!==h||j[6]!==u?(_=()=>{o.show(l,{title:"编辑推荐",children:r.jsx(U,{editItem:h,refresh:u})})},j[5]=h,j[6]=u,j[7]=_):_=j[7],j[8]!==y[0]?(C=y[0]?r.jsx(f,{}):"编辑",j[8]=y[0],j[9]=C):C=j[9],j[10]!==y[0]||j[11]!==_||j[12]!==C?(S=r.jsx(s,{type:"link",size:"small",disabled:y[0],style:b,onClick:_,children:C}),j[10]=y[0],j[11]=_,j[12]=C,j[13]=S):S=j[13],j[14]===Symbol.for("react.memo_cache_sentinel")?(O={width:"44px"},j[14]=O):O=j[14],j[15]!==y[1]?(A=y[1]?r.jsx(f,{}):"删除",j[15]=y[1],j[16]=A):A=j[16],j[17]!==y[1]||j[18]!==A?(F=r.jsx(s,{danger:!0,type:"link",size:"small",disabled:y[1],style:O,children:A}),j[17]=y[1],j[18]=A,j[19]=F):F=j[19],j[20]!==w||j[21]!==F?(I=r.jsx(p,{title:"是否确认删除该推荐？",onConfirm:w,children:F}),j[20]=w,j[21]=F,j[22]=I):I=j[22],j[23]!==S||j[24]!==I?(R=r.jsxs("div",{className:"flex flex-wrap",children:[S,I]}),j[23]=S,j[24]=I,j[25]=R):R=j[25],R}),U=t=>{const s=e.c(3),{editItem:i,refresh:o}=t;let l;return s[0]!==i||s[1]!==o?(l=r.jsx(r.Fragment,{children:r.jsx(x,{editItem:i,refresh:o,type:"edit"})}),s[0]=i,s[1]=o,s[2]=l):l=s[2],l};export{A as default};
