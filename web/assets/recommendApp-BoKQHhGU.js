import{x as e,j as t,e as i,B as r,ao as s,ah as o,a0 as l,af as n,ag as a,aj as m}from"./requestIdleCallbackPolyfill-BoNiFUcB.js";import{u as d}from"./useFresh-BHMdf25h.js";import{M as c,R as p}from"./myTable-BybW5Lsz.js";import{C as j}from"./contentLayout-Dpu8Yknl.js";import{R as u}from"./ReloadOutlined-Iyh5Wwl_.js";import{I as h}from"./index-B1-yPQsO.js";import{T as f}from"./index-f5jrm4o3.js";import{R as y}from"./UserOutlined-DTLJiztK.js";import{P as x}from"./main-UtFjy664.js";import"./MailOutlined-CDrHGAZ9.js";import"./Overflow-Czf6qX4S.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-Cn_j1pD5.js";import"./getAllowClear-CmTZZq-n.js";import"./Input-C7MCIp29.js";import"./transformData-BgNyRms4.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-DB94RllH.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-DX2dMTF-.js";import"./styleChecker-MbCMrSTe.js";import"./AlipayOutlined-CxMv-XIE.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-jAFEZtM_.js";import"./index-BdYAwYNh.js";import"./useBreakpoint-uadnSQd6.js";import"./index-Dy0ZQ-9_.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-D9Sp279J.js";function k(){const i=e.c(20),{key:l,refresh:n}=d();let a,m,p,h,f,y,x,k;i[0]===Symbol.for("react.memo_cache_sentinel")?(a={title:"应用标题",key:"title",width:160,fixed:"left"},m={title:"应用描述",key:"description",width:460},p={title:"图标",key:"icon",width:100,render:_},h={title:"链接",key:"link",width:120,render:g},f={title:"标签",width:120,render:b},y={title:"提交人",key:"username",width:160,render:w},x={type:"time",title:"提交时间",key:"createdTime",width:200},i[0]=a,i[1]=m,i[2]=p,i[3]=h,i[4]=f,i[5]=y,i[6]=x):(a=i[0],m=i[1],p=i[2],h=i[3],f=i[4],y=i[5],x=i[6]),i[7]!==n?(k=[a,m,p,h,f,y,x,{title:"操作",fixed:"right",width:180,render:(e,i)=>t.jsx(C,{record:i,refresh:n})}],i[7]=n,i[8]=k):k=i[8];const O=k;let S,A,R,T,v,L;return i[9]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(u,{}),i[9]=S):S=i[9],i[10]!==n?(A=t.jsx(r,{type:"primary",icon:S,onClick:()=>{n()},children:"刷新列表"}),i[10]=n,i[11]=A):A=i[11],i[12]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(s,{className:"my-3"}),i[12]=R):R=i[12],i[13]===Symbol.for("react.memo_cache_sentinel")?(T={searchParams:{status:0}},i[13]=T):T=i[13],i[14]!==O||i[15]!==l?(v=t.jsx(c,{columns:O,getListUrl:o.getAwaitingApprovalRecommendAppList,dataKey:"data.list",tableKey:l,params:T}),i[14]=O,i[15]=l,i[16]=v):v=i[16],i[17]!==v||i[18]!==A?(L=t.jsxs(j,{children:[A,R,v]}),i[17]=v,i[18]=A,i[19]=L):L=i[19],L}function w(e){return t.jsx(f,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(y,{}),children:e||"已注销"})}function b(e,i){return t.jsx(f,{color:i.tagColor,children:i.tagText||"-"})}function g(e){return t.jsx(r,{type:"link",size:"small",onClick:()=>{e&&window.open(e,"_blank")},children:e||"-"})}function _(e,i){return e?t.jsx(h,{src:e,width:"auto",height:32,className:"p-2 rounded-lg",style:{backgroundColor:i.iconBackground},preview:{maskClassName:"rounded-lg"}}):"-"}const C=i.memo((s=>{const d=e.c(42),{record:c,refresh:j}=s;let u;d[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],d[0]=u):u=d[0];const[h,f]=i.useState(u);let y;d[1]!==c||d[2]!==j?(y=function(){const e=l.getState().user.token;n(0,f),setTimeout((()=>{a({url:o.approveRecommendApp,token:e,data:{id:c.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(0,f)}))}),500)},d[1]=c,d[2]=j,d[3]=y):y=d[3];const k=y;let w;d[4]!==c||d[5]!==j?(w=function(e,t){n(t,f);const i=l.getState().user.token;setTimeout((()=>{a({url:"reject"===e?o.rejectRecommendApp:o.deleteRecommendApp,token:i,data:{id:c.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(t,f)}))}),500)},d[4]=c,d[5]=j,d[6]=w):w=d[6];const b=w;let g,_,C,O,S;d[7]===Symbol.for("react.memo_cache_sentinel")?(g={width:"44px"},d[7]=g):g=d[7],d[8]!==h[0]?(_=h[0]?t.jsx(p,{}):"通过",d[8]=h[0],d[9]=_):_=d[9],d[10]!==h[0]||d[11]!==_?(C=t.jsx(r,{type:"link",size:"small",disabled:h[0],style:g,children:_}),d[10]=h[0],d[11]=_,d[12]=C):C=d[12],d[13]!==k||d[14]!==C?(O=t.jsx(x,{title:"是否确认审核通过？",onConfirm:k,children:C}),d[13]=k,d[14]=C,d[15]=O):O=d[15],d[16]!==b?(S=()=>{b("reject",1)},d[16]=b,d[17]=S):S=d[17];const A=h[1]||h[2];let R,T,v,L,M;d[18]===Symbol.for("react.memo_cache_sentinel")?(R={width:"44px"},d[18]=R):R=d[18],d[19]!==h[1]?(T=h[1]?t.jsx(p,{}):"驳回",d[19]=h[1],d[20]=T):T=d[20],d[21]!==T||d[22]!==A?(v=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:A,style:R,children:T}),d[21]=T,d[22]=A,d[23]=v):v=d[23],d[24]!==v||d[25]!==S?(L=t.jsx(x,{title:"是否确认驳回申请",onConfirm:S,children:v}),d[24]=v,d[25]=S,d[26]=L):L=d[26],d[27]!==b?(M=()=>{b("delete",2)},d[27]=b,d[28]=M):M=d[28];const N=h[1]||h[2];let z,B,I,P,U;return d[29]===Symbol.for("react.memo_cache_sentinel")?(z={width:"44px"},d[29]=z):z=d[29],d[30]!==h[2]?(B=h[2]?t.jsx(p,{}):"删除",d[30]=h[2],d[31]=B):B=d[31],d[32]!==N||d[33]!==B?(I=t.jsx(r,{danger:!0,type:"link",size:"small",disabled:N,style:z,children:B}),d[32]=N,d[33]=B,d[34]=I):I=d[34],d[35]!==M||d[36]!==I?(P=t.jsx(x,{title:"是否确认删除该申请？",onConfirm:M,children:I}),d[35]=M,d[36]=I,d[37]=P):P=d[37],d[38]!==L||d[39]!==P||d[40]!==O?(U=t.jsxs("div",{className:"flex flex-wrap",children:[O,L,P]}),d[38]=L,d[39]=P,d[40]=O,d[41]=U):U=d[41],U}));export{k as default};
