import{x as e,e as s,j as a,B as t,af as l,a0 as o,at as n,aj as r,ag as i,w as c,ah as m}from"./requestIdleCallbackPolyfill-DVdtTnyH.js";import{C as u}from"./contentLayout-BiXaL5ck.js";import{F as d}from"./index-HltPkFWT.js";import{R as f}from"./index-3_wMreGH.js";import{S as h}from"./index-LyMllqsd.js";import{R as p}from"./QuestionCircleOutlined-DwFwqXJU.js";import"./row-wzIeTg14.js";import"./useBreakpoint-Bgav_ER7.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";function j(){const j=e.c(19),[x]=d.useForm();let y;j[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],j[0]=y):y=j[0];const[b,_]=s.useState(y);let S;j[1]!==x?(S=function(){l(0,_);const e=o.getState().user.token;n({url:m.getFunctionSwitch,token:e}).then((e=>{var s;e.data&&((null==(s=e.data)?void 0:s.cardPush)||(e.data.cardPush="close"),x.setFieldsValue(e.data))})).finally((()=>{r(0,_)}))},j[1]=x,j[2]=S):S=j[2];const w=S;let g,v,F;j[3]!==w?(g=()=>{w()},j[3]=w,j[4]=g):g=j[4],j[5]===Symbol.for("react.memo_cache_sentinel")?(v=[],j[5]=v):v=j[5],s.useEffect(g,v),j[6]===Symbol.for("react.memo_cache_sentinel")?(F=function(e){l(1,_);const s=o.getState().user.token;i({url:m.updateFunctionSwitch,token:s,data:e}).finally((()=>{r(1,_)}))},j[6]=F):F=j[6];const N=F;let k,P,C,q,O,Q,B;return j[7]===Symbol.for("react.memo_cache_sentinel")?(k=a.jsx(c,{type:"warning",description:a.jsxs(a.Fragment,{children:[a.jsx(p,{className:"mr-1"}),"当前配置项的状态受系统后台控制。管理员可通过权限管理或全局开关设置，动态决定该配置在新标签页中是否可见、可编辑或完全禁用。"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),j[7]=k):k=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(P={cardPush:"close"},j[8]=P):P=j[8],j[9]===Symbol.for("react.memo_cache_sentinel")?(C=[{required:!0,message:"请选择配置项的状态"}],j[9]=C):C=j[9],j[10]===Symbol.for("react.memo_cache_sentinel")?(q=a.jsx(d.Item,{name:"cardPush",label:"添加卡片时推送至资源库（仅限资源库中不存在的链接，审核后展示）",required:!0,rules:C,children:a.jsx(f.Group,{options:[{label:"开启且默认推送",value:"open"},{label:"开启但不默认推送",value:"openNotPush"},{label:"关闭",value:"close"}]})}),j[10]=q):q=j[10],j[11]!==b[1]?(O=a.jsx("div",{className:"w-full flex justify-center",children:a.jsx(t,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:b[1],children:"保存配置"})}),j[11]=b[1],j[12]=O):O=j[12],j[13]!==x||j[14]!==O?(Q=a.jsxs(d,{onFinish:N,form:x,className:"px-3 w-full",initialValues:P,children:[q,O]}),j[13]=x,j[14]=O,j[15]=Q):Q=j[15],j[16]!==b[0]||j[17]!==Q?(B=a.jsxs(u,{children:[k,a.jsx("div",{className:"w-full",children:a.jsx(h,{spinning:b[0],children:Q})})]}),j[16]=b[0],j[17]=Q,j[18]=B):B=j[18],B}export{j as default};
