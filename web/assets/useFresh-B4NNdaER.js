import{r as e,a6 as t,ar as n,aS as o,dV as r,W as a,e4 as i,ba as l,b1 as d,aj as s,a_ as c,b7 as u,a$ as p,a7 as f,a8 as g,e7 as v,e8 as h,a9 as y,ac as m,aa as b,e9 as k,bd as C,ap as x,al as w,aA as N,ae as E,aU as K,am as $,b3 as S,ea as O,bv as P,ay as D,dH as M,ak as R,bw as I,b2 as T,b0 as L,b4 as z,an as A,aM as H,ab as B,bu as j,B as V,bg as q,b9 as W,b6 as _,aZ as F,bl as G,eb as U,bc as X,ck as Y,bb as Q,dI as Z,aX as J,bq as ee,I as te,c as ne}from"./requestIdleCallbackPolyfill-CPe9lTcM.js";import{R as oe}from"./index-H5vT6yOi.js";import{M as re,O as ae,d as ie,f as le}from"./MailOutlined-BWjHQnOt.js";import{i as de,L as se}from"./index-DrLdoldb.js";import{a as ce,s as ue,c as pe,b as fe,i as ge}from"./Overflow-DzHFI1dW.js";var ve=n.ESC,he=n.TAB;var ye=e.forwardRef((function(t,n){var l=t.overlay,d=t.arrow,s=t.prefixCls,c=e.useMemo((function(){return"function"==typeof l?l():l}),[l]),u=o(n,r(c));return a.createElement(a.Fragment,null,d&&a.createElement("div",{className:"".concat(s,"-arrow")}),a.cloneElement(c,{ref:i(c)?u:void 0}))})),me={adjustX:1,adjustY:1},be=[0,0],ke={topLeft:{points:["bl","tl"],overflow:me,offset:[0,-4],targetOffset:be},top:{points:["bc","tc"],overflow:me,offset:[0,-4],targetOffset:be},topRight:{points:["br","tr"],overflow:me,offset:[0,-4],targetOffset:be},bottomLeft:{points:["tl","bl"],overflow:me,offset:[0,4],targetOffset:be},bottom:{points:["tc","bc"],overflow:me,offset:[0,4],targetOffset:be},bottomRight:{points:["tr","br"],overflow:me,offset:[0,4],targetOffset:be}},Ce=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function xe(n,f){var g,v=n.arrow,h=void 0!==v&&v,y=n.prefixCls,m=void 0===y?"rc-dropdown":y,b=n.transitionName,k=n.animation,C=n.align,x=n.placement,w=void 0===x?"bottomLeft":x,N=n.placements,E=void 0===N?ke:N,K=n.getPopupContainer,$=n.showAction,S=n.hideAction,O=n.overlayClassName,P=n.overlayStyle,D=n.visible,M=n.trigger,R=void 0===M?["hover"]:M,I=n.autoFocus,T=n.overlay,L=n.children,z=n.onVisibleChange,A=l(n,Ce),H=a.useState(),B=d(H,2),j=B[0],V=B[1],q="visible"in n?D:j,W=a.useRef(null),_=a.useRef(null),F=a.useRef(null);a.useImperativeHandle(f,(function(){return W.current}));var G=function(e){V(e),null==z||z(e)};!function(n){var o=n.visible,r=n.triggerRef,a=n.onVisibleChange,i=n.autoFocus,l=n.overlayRef,d=e.useRef(!1),s=function(){var e,t;o&&(null===(e=r.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e),null==a||a(!1))},c=function(){var e;return!(null===(e=l.current)||void 0===e||!e.focus||(l.current.focus(),d.current=!0,0))},u=function(e){switch(e.keyCode){case ve:s();break;case he:var t=!1;d.current||(t=c()),t?e.preventDefault():s()}};e.useEffect((function(){return o?(window.addEventListener("keydown",u),i&&t(c,3),function(){window.removeEventListener("keydown",u),d.current=!1}):function(){d.current=!1}}),[o])}({visible:q,triggerRef:F,onVisibleChange:G,autoFocus:I,overlayRef:_});var U,X,Y,Q=function(){return a.createElement(ye,{ref:_,overlay:T,prefixCls:m,arrow:h})},Z=a.cloneElement(L,{className:s(null===(g=L.props)||void 0===g?void 0:g.className,q&&(U=n.openClassName,void 0!==U?U:"".concat(m,"-open"))),ref:i(L)?o(F,r(L)):void 0}),J=S;return J||-1===R.indexOf("contextMenu")||(J=["click"]),a.createElement(c,u({builtinPlacements:E},A,{prefixCls:m,ref:W,popupClassName:s(O,p({},"".concat(m,"-show-arrow"),h)),popupStyle:P,action:R,showAction:$,hideAction:J,popupPlacement:w,popupAlign:C,popupTransitionName:b,popupAnimation:k,popupVisible:q,stretch:(X=n.minOverlayWidthMatchTrigger,Y=n.alignPoint,("minOverlayWidthMatchTrigger"in n?X:!Y)?"minWidth":""),popup:"function"==typeof T?Q:Q(),onPopupVisibleChange:G,onPopupClick:function(e){var t=n.onOverlayClick;V(!1),t&&t(e)},getPopupContainer:K}),Z)}const we=a.forwardRef(xe),Ne=e=>{const{componentCls:t,menuCls:n,colorError:o,colorTextLightSolid:r}=e,a=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${a}`]:{[`&${a}-danger:not(${a}-disabled)`]:{color:o,"&:hover":{color:r,backgroundColor:o}}}}}},Ee=e=>{const{componentCls:t,menuCls:n,zIndexPopup:o,dropdownArrowDistance:r,sizePopupArrow:a,antCls:i,iconCls:l,motionDurationMid:d,paddingBlock:s,fontSize:c,dropdownEdgeChildPadding:u,colorTextDisabled:p,fontSizeIcon:f,controlPaddingHorizontal:g,colorBgElevated:k}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:o,display:"block","&::before":{position:"absolute",insetBlock:e.calc(a).div(2).sub(r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${i}-btn`]:{[`& > ${l}-down, & > ${i}-btn-icon > ${l}-down`]:{fontSize:f}},[`${t}-wrap`]:{position:"relative",[`${i}-btn > ${l}-down`]:{fontSize:f},[`${l}-down::before`]:{transition:`transform ${d}`}},[`${t}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${i}-slide-down-enter${i}-slide-down-enter-active${t}-placement-bottomLeft,\n          &${i}-slide-down-appear${i}-slide-down-appear-active${t}-placement-bottomLeft,\n          &${i}-slide-down-enter${i}-slide-down-enter-active${t}-placement-bottom,\n          &${i}-slide-down-appear${i}-slide-down-appear-active${t}-placement-bottom,\n          &${i}-slide-down-enter${i}-slide-down-enter-active${t}-placement-bottomRight,\n          &${i}-slide-down-appear${i}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:fe},[`&${i}-slide-up-enter${i}-slide-up-enter-active${t}-placement-topLeft,\n          &${i}-slide-up-appear${i}-slide-up-appear-active${t}-placement-topLeft,\n          &${i}-slide-up-enter${i}-slide-up-enter-active${t}-placement-top,\n          &${i}-slide-up-appear${i}-slide-up-appear-active${t}-placement-top,\n          &${i}-slide-up-enter${i}-slide-up-enter-active${t}-placement-topRight,\n          &${i}-slide-up-appear${i}-slide-up-appear-active${t}-placement-topRight`]:{animationName:pe},[`&${i}-slide-down-leave${i}-slide-down-leave-active${t}-placement-bottomLeft,\n          &${i}-slide-down-leave${i}-slide-down-leave-active${t}-placement-bottom,\n          &${i}-slide-down-leave${i}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:ue},[`&${i}-slide-up-leave${i}-slide-up-leave-active${t}-placement-topLeft,\n          &${i}-slide-up-leave${i}-slide-up-leave-active${t}-placement-top,\n          &${i}-slide-up-leave${i}-slide-up-leave-active${t}-placement-topRight`]:{animationName:ce}}},v(e,k,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:o,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},y(e)),{[n]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:k,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},m(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${b(s)} ${b(g)}`,color:e.colorTextDescription,transition:`all ${d}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:c,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${d}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${b(s)} ${b(g)}`,color:e.colorText,fontWeight:"normal",fontSize:c,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${d}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},m(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:p,cursor:"not-allowed","&:hover":{color:p,backgroundColor:k,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${b(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:f,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${b(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(g).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:p,backgroundColor:k,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[ge(e,"slide-up"),ge(e,"slide-down"),de(e,"move-up"),de(e,"move-down"),h(e,"zoom-big")]]},Ke=f("Dropdown",(e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:o,componentCls:r}=e,a=g(e,{menuCls:`${r}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:o});return[Ee(a),Ne(a)]}),(e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},k({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),C(e))),{resetStyle:!1}),$e=t=>{var n;const{menu:o,arrow:r,prefixCls:a,children:i,trigger:l,disabled:d,dropdownRender:c,popupRender:u,getPopupContainer:p,overlayClassName:f,rootClassName:g,overlayStyle:v,open:h,onOpenChange:y,visible:m,onVisibleChange:b,mouseEnterDelay:k=.15,mouseLeaveDelay:C=.1,autoAdjustOverflow:I=!0,placement:T="",overlay:L,transitionName:z,destroyOnHidden:A,destroyPopupOnHide:H}=t,{getPopupContainer:B,getPrefixCls:j,direction:V,dropdown:q}=e.useContext(x),W=u||c;w();const _=e.useMemo((()=>{const e=j();return void 0!==z?z:T.includes("top")?`${e}-slide-down`:`${e}-slide-up`}),[j,T,z]),F=e.useMemo((()=>T?T.includes("Center")?T.slice(0,T.indexOf("Center")):T:"rtl"===V?"bottomRight":"bottomLeft"),[T,V]),G=j("dropdown",a),U=N(G),[X,Y,Q]=Ke(G,U),[,Z]=E(),J=e.Children.only("object"!=typeof(ee=i)&&"function"!=typeof ee||null===ee?e.createElement("span",null,i):i);var ee;const te=K(J,{className:s(`${G}-trigger`,{[`${G}-rtl`]:"rtl"===V},J.props.className),disabled:null!==(n=J.props.disabled)&&void 0!==n?n:d}),ne=d?[]:l,ie=!!(null==ne?void 0:ne.includes("contextMenu")),[le,de]=$(!1,{value:null!=h?h:m}),se=S((e=>{null==y||y(e,{source:"trigger"}),null==b||b(e),de(e)})),ce=s(f,g,Y,Q,U,null==q?void 0:q.className,{[`${G}-rtl`]:"rtl"===V}),ue=O({arrowPointAtCenter:"object"==typeof r&&r.pointAtCenter,autoAdjustOverflow:I,offset:Z.marginXXS,arrowWidth:r?Z.sizePopupArrow:0,borderRadius:Z.borderRadius}),pe=e.useCallback((()=>{(null==o?void 0:o.selectable)&&(null==o?void 0:o.multiple)||(null==y||y(!1,{source:"menu"}),de(!1))}),[null==o?void 0:o.selectable,null==o?void 0:o.multiple]),[fe,ge]=P("Dropdown",null==v?void 0:v.zIndex);let ve=e.createElement(we,Object.assign({alignPoint:ie},D(t,["rootClassName"]),{mouseEnterDelay:k,mouseLeaveDelay:C,visible:le,builtinPlacements:ue,arrow:!!r,overlayClassName:ce,prefixCls:G,getPopupContainer:p||B,transitionName:_,trigger:ne,overlay:()=>{let t;return t=(null==o?void 0:o.items)?e.createElement(re,Object.assign({},o)):"function"==typeof L?L():L,W&&(t=W(t)),t=e.Children.only("string"==typeof t?e.createElement("span",null,t):t),e.createElement(ae,{prefixCls:`${G}-menu`,rootClassName:s(Q,U),expandIcon:e.createElement("span",{className:`${G}-menu-submenu-arrow`},"rtl"===V?e.createElement(oe,{className:`${G}-menu-submenu-arrow-icon`}):e.createElement(R,{className:`${G}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:pe,validator:({mode:e})=>{}},t)},placement:F,onVisibleChange:se,overlayStyle:Object.assign(Object.assign(Object.assign({},null==q?void 0:q.style),v),{zIndex:fe}),autoDestroy:null!=A?A:H}),te);return fe&&(ve=e.createElement(M.Provider,{value:ge},ve)),X(ve)},Se=I($e,"align",void 0,"dropdown",(e=>e));function Oe(e,t){return e[t]}$e._InternalPanelDoNotUseOrYouWillBeFired=t=>e.createElement(Se,Object.assign({},t),e.createElement("span",null));var Pe=["children"];function De(e,t){return"".concat(e,"-").concat(t)}function Me(e,t){return null!=e?e:t}function Re(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function Ie(e){return function e(t){return H(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return z(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,o=t.props,r=o.children,a=l(o,Pe),i=L({key:n},a),d=e(r);return d.length&&(i.children=d),i})).filter((function(e){return e}))}(e)}function Te(e,t,n){var o=Re(n),r=o._title,a=o.key,i=o.children,l=new Set(!0===t?[]:t),d=[];return function e(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(s,c){for(var u,p=De(o?o.pos:"0",c),f=Me(s[a],p),g=0;g<r.length;g+=1){var v=r[g];if(void 0!==s[v]){u=s[v];break}}var h=Object.assign(D(s,[].concat(A(r),[a,i])),{title:u,key:f,parent:o,pos:p,children:null,data:s,isStart:[].concat(A(o?o.isStart:[]),[0===c]),isEnd:[].concat(A(o?o.isEnd:[]),[c===n.length-1])});return d.push(h),!0===t||l.has(f)?h.children=e(s[i]||[],h):h.children=[],h}))}(e),d}function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,o=t.processEntity,r=t.onProcessFinished,a=t.externalGetKey,i=t.childrenPropName,l=t.fieldNames,d=a||(arguments.length>2?arguments[2]:void 0),s={},c={},u={posEntities:s,keyEntities:c};return n&&(u=n(u)||u),function(e,t,n){var o,r=("object"===T(n)?n:{externalGetKey:n})||{},a=r.childrenPropName,i=r.externalGetKey,l=Re(r.fieldNames),d=l.key,s=l.children,c=a||s;i?"string"==typeof i?o=function(e){return e[i]}:"function"==typeof i&&(o=function(e){return i(e)}):o=function(e,t){return Me(e[d],t)},function n(r,a,i,l){var d=r?r[c]:e,s=r?De(i.pos,a):"0",u=r?[].concat(A(l),[r]):[];if(r){var p=o(r,s),f={node:r,index:a,pos:s,key:p,parentPos:i.node?i.pos:null,level:i.level+1,nodes:u};t(f)}d&&d.forEach((function(e,t){n(e,t,{node:r,pos:s,level:i?i.level+1:-1},u)}))}(null)}(e,(function(e){var t=e.node,n=e.index,r=e.pos,a=e.key,i=e.parentPos,l=e.level,d={node:t,nodes:e.nodes,index:n,key:a,pos:r,level:l},p=Me(a,r);s[r]=d,c[p]=d,d.parent=s[i],d.parent&&(d.parent.children=d.parent.children||[],d.parent.children.push(d)),o&&o(d,u)}),{externalGetKey:d,childrenPropName:i,fieldNames:l}),r&&r(u),u}function ze(e,t){var n=t.expandedKeys,o=t.selectedKeys,r=t.loadedKeys,a=t.loadingKeys,i=t.checkedKeys,l=t.halfCheckedKeys,d=t.dragOverNodeKey,s=t.dropPosition,c=Oe(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==l.indexOf(e),pos:String(c?c.pos:""),dragOver:d===e&&0===s,dragOverGapTop:d===e&&-1===s,dragOverGapBottom:d===e&&1===s}}function Ae(e){var t=e.data,n=e.expanded,o=e.selected,r=e.checked,a=e.loaded,i=e.loading,l=e.halfChecked,d=e.dragOver,s=e.dragOverGapTop,c=e.dragOverGapBottom,u=e.pos,p=e.active,f=e.eventKey,g=L(L({},t),{},{expanded:n,selected:o,checked:r,loaded:a,loading:i,halfChecked:l,dragOver:d,dragOverGapTop:s,dragOverGapBottom:c,pos:u,active:p,key:f});return"props"in g||Object.defineProperty(g,"props",{get:function(){return z(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),g}function He(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function Be(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,r=t.checkable;return!(!n&&!o)||!1===r}function je(e,t,n,o){var r,a=[];r=o||Be;var i,l=new Set(e.filter((function(e){var t=!!Oe(n,e);return t||a.push(e),t}))),d=new Map,s=0;return Object.keys(n).forEach((function(e){var t=n[e],o=t.level,r=d.get(o);r||(r=new Set,d.set(o,r)),r.add(t),s=Math.max(s,o)})),z(!a.length,"Tree missing follow keys: ".concat(a.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),i=!0===t?function(e,t,n,o){for(var r=new Set(e),a=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,i=void 0===a?[]:a;r.has(t)&&!o(n)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var l=new Set,d=n;d>=0;d-=1)(t.get(d)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!l.has(e.parent.key))if(o(e.parent.node))l.add(t.key);else{var i=!0,d=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),d||!n&&!a.has(t)||(d=!0)})),i&&r.add(t.key),d&&a.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(He(a,r))}}(l,d,s,r):function(e,t,n,o,r){for(var a=new Set(e),i=new Set(t),l=0;l<=o;l+=1)(n.get(l)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,l=void 0===o?[]:o;a.has(t)||i.has(t)||r(n)||l.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var d=new Set,s=o;s>=0;s-=1)(n.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!d.has(e.parent.key))if(r(e.parent.node))d.add(t.key);else{var o=!0,l=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);o&&!n&&(o=!1),l||!n&&!i.has(t)||(l=!0)})),o||a.delete(t.key),l&&i.add(t.key),d.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(He(i,a))}}(l,t.halfCheckedKeys,d,s,r),i}const Ve=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},y(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},y(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},y(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},B(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${b(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${b(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{"&":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorBorder}`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer}`,borderColor:`${e.colorPrimary}`}}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function qe(e,t){const n=g(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Ve(n)]}const We=f("Checkbox",((e,{prefixCls:t})=>[qe(t,e)]));var _e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"},Fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const Ge=t=>{const{getPopupContainer:n,getPrefixCls:o,direction:r}=e.useContext(x),{prefixCls:a,type:i="default",danger:l,disabled:d,loading:c,onClick:u,htmlType:p,children:f,className:g,menu:v,arrow:h,autoFocus:y,overlay:m,trigger:b,align:k,open:C,onOpenChange:w,placement:N,getPopupContainer:E,href:K,icon:$=e.createElement(ie,null),title:S,buttonsRender:O=e=>e,mouseEnterDelay:P,mouseLeaveDelay:D,overlayClassName:M,overlayStyle:R,destroyOnHidden:I,destroyPopupOnHide:T,dropdownRender:L,popupRender:z}=t,A=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(t,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyOnHidden","destroyPopupOnHide","dropdownRender","popupRender"]),H=o("dropdown",a),B=`${H}-button`,q={menu:v,arrow:h,autoFocus:y,align:k,disabled:d,trigger:d?[]:b,onOpenChange:w,getPopupContainer:E||n,mouseEnterDelay:P,mouseLeaveDelay:D,overlayClassName:M,overlayStyle:R,destroyOnHidden:I,popupRender:z||L},{compactSize:W,compactItemClassnames:_}=j(H,r),F=s(B,_,g);"destroyPopupOnHide"in t&&(q.destroyPopupOnHide=T),"overlay"in t&&(q.overlay=m),"open"in t&&(q.open=C),q.placement="placement"in t?N:"rtl"===r?"bottomLeft":"bottomRight";const G=e.createElement(V,{type:i,danger:l,disabled:d,loading:c,onClick:u,htmlType:p,href:K,title:S},f),U=e.createElement(V,{type:i,danger:l,icon:$}),[X,Y]=O([G,U]);return e.createElement(le.Compact,Object.assign({className:F,size:W,block:!0},A),X,e.createElement($e,Object.assign({},q),Y))};Ge.__ANT_BUTTON=!0;const Ue=$e;Ue.Button=Ge;var Xe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},Ye=function(t,n){return e.createElement(q,u({},t,{ref:n,icon:Xe}))},Qe=e.forwardRef(Ye),Ze={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"},Je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},et=function(t,n){return e.createElement(q,u({},t,{ref:n,icon:Je}))},tt=e.forwardRef(et),nt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 008-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0029.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 00-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"}}]},name:"idcard",theme:"outlined"},at={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},it=function(t,n){return e.createElement(q,u({},t,{ref:n,icon:at}))},lt=e.forwardRef(it),dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},st=function(t,n){return e.createElement(q,u({},t,{ref:n,icon:dt}))},ct=e.forwardRef(st),ut=e.createContext(null),pt=e.createContext({}),ft=function(t){for(var n=t.prefixCls,o=t.level,r=t.isStart,a=t.isEnd,i="".concat(n,"-indent-unit"),l=[],d=0;d<o;d+=1)l.push(e.createElement("span",{key:d,className:s(i,p(p({},"".concat(i,"-start"),r[d]),"".concat(i,"-end"),a[d]))}));return e.createElement("span",{"aria-hidden":"true",className:"".concat(n,"-indent")},l)};const gt=e.memo(ft);var vt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],ht="open",yt="close",mt=function(e){var t,n,o,r=e.eventKey,i=e.className,c=e.style,f=e.dragOver,g=e.dragOverGapTop,v=e.dragOverGapBottom,h=e.isLeaf,y=e.isStart,m=e.isEnd,b=e.expanded,k=e.selected,C=e.checked,x=e.halfChecked,w=e.loading,N=e.domRef,E=e.active,K=e.data,$=e.onMouseMove,S=e.selectable,O=l(e,vt),P=a.useContext(ut),D=a.useContext(pt),M=a.useRef(null),R=a.useState(!1),I=d(R,2),T=I[0],z=I[1],A=!!(P.disabled||e.disabled||null!==(t=D.nodeDisabled)&&void 0!==t&&t.call(D,K)),H=a.useMemo((function(){return!(!P.checkable||!1===e.checkable)&&P.checkable}),[P.checkable,e.checkable]),B=function(t){A||H&&!e.disableCheckbox&&P.onNodeCheck(t,Ae(e),!C)},j=a.useMemo((function(){return"boolean"==typeof S?S:P.selectable}),[S,P.selectable]),V=function(t){P.onNodeClick(t,Ae(e)),j?function(t){A||P.onNodeSelect(t,Ae(e))}(t):B(t)},q=function(t){P.onNodeDoubleClick(t,Ae(e))},_=function(t){P.onNodeMouseEnter(t,Ae(e))},F=function(t){P.onNodeMouseLeave(t,Ae(e))},G=function(t){P.onNodeContextMenu(t,Ae(e))},U=a.useMemo((function(){return!(!P.draggable||P.draggable.nodeDraggable&&!P.draggable.nodeDraggable(K))}),[P.draggable,K]),X=function(t){w||P.onNodeExpand(t,Ae(e))},Y=a.useMemo((function(){var e=(Oe(P.keyEntities,r)||{}).children;return Boolean((e||[]).length)}),[P.keyEntities,r]),Q=a.useMemo((function(){return!1!==h&&(h||!P.loadData&&!Y||P.loadData&&e.loaded&&!Y)}),[h,P.loadData,Y,e.loaded]);a.useEffect((function(){w||"function"!=typeof P.loadData||!b||Q||e.loaded||P.onNodeLoad(Ae(e))}),[w,P.loadData,P.onNodeLoad,b,Q,e]);var Z=a.useMemo((function(){var e;return null!==(e=P.draggable)&&void 0!==e&&e.icon?a.createElement("span",{className:"".concat(P.prefixCls,"-draggable-icon")},P.draggable.icon):null}),[P.draggable]),J=function(t){var n=e.switcherIcon||P.switcherIcon;return"function"==typeof n?n(L(L({},e),{},{isLeaf:t})):n},ee=a.useMemo((function(){if(!H)return null;var t="boolean"!=typeof H?H:null;return a.createElement("span",{className:s("".concat(P.prefixCls,"-checkbox"),p(p(p({},"".concat(P.prefixCls,"-checkbox-checked"),C),"".concat(P.prefixCls,"-checkbox-indeterminate"),!C&&x),"".concat(P.prefixCls,"-checkbox-disabled"),A||e.disableCheckbox)),onClick:B,role:"checkbox","aria-checked":x?"mixed":C,"aria-disabled":A||e.disableCheckbox,"aria-label":"Select ".concat("string"==typeof e.title?e.title:"tree node")},t)}),[H,C,x,A,e.disableCheckbox,e.title]),te=a.useMemo((function(){return Q?null:b?ht:yt}),[Q,b]),ne=a.useMemo((function(){return a.createElement("span",{className:s("".concat(P.prefixCls,"-iconEle"),"".concat(P.prefixCls,"-icon__").concat(te||"docu"),p({},"".concat(P.prefixCls,"-icon_loading"),w))})}),[P.prefixCls,te,w]),oe=a.useMemo((function(){var t=Boolean(P.draggable);return!e.disabled&&t&&P.dragOverNodeKey===r?P.dropIndicatorRender({dropPosition:P.dropPosition,dropLevelOffset:P.dropLevelOffset,indent:P.indent,prefixCls:P.prefixCls,direction:P.direction}):null}),[P.dropPosition,P.dropLevelOffset,P.indent,P.prefixCls,P.direction,P.draggable,P.dragOverNodeKey,P.dropIndicatorRender]),re=a.useMemo((function(){var t,n,o=e.title,r=void 0===o?"---":o,i="".concat(P.prefixCls,"-node-content-wrapper");if(P.showIcon){var l=e.icon||P.icon;t=l?a.createElement("span",{className:s("".concat(P.prefixCls,"-iconEle"),"".concat(P.prefixCls,"-icon__customize"))},"function"==typeof l?l(e):l):ne}else P.loadData&&w&&(t=ne);return n="function"==typeof r?r(K):P.titleRender?P.titleRender(K):r,a.createElement("span",{ref:M,title:"string"==typeof r?r:"",className:s(i,"".concat(i,"-").concat(te||"normal"),p({},"".concat(P.prefixCls,"-node-selected"),!A&&(k||T))),onMouseEnter:_,onMouseLeave:F,onContextMenu:G,onClick:V,onDoubleClick:q},t,a.createElement("span",{className:"".concat(P.prefixCls,"-title")},n),oe)}),[P.prefixCls,P.showIcon,e,P.icon,ne,P.titleRender,K,te,_,F,G,V,q]),ae=W(O,{aria:!0,data:!0}),ie=(Oe(P.keyEntities,r)||{}).level,le=m[m.length-1],de=!A&&U,se=P.draggingNodeKey===r,ce=void 0!==S?{"aria-selected":!!S}:void 0;return a.createElement("div",u({ref:N,role:"treeitem","aria-expanded":h?void 0:b,className:s(i,"".concat(P.prefixCls,"-treenode"),(o={},p(p(p(p(p(p(p(p(p(p(o,"".concat(P.prefixCls,"-treenode-disabled"),A),"".concat(P.prefixCls,"-treenode-switcher-").concat(b?"open":"close"),!h),"".concat(P.prefixCls,"-treenode-checkbox-checked"),C),"".concat(P.prefixCls,"-treenode-checkbox-indeterminate"),x),"".concat(P.prefixCls,"-treenode-selected"),k),"".concat(P.prefixCls,"-treenode-loading"),w),"".concat(P.prefixCls,"-treenode-active"),E),"".concat(P.prefixCls,"-treenode-leaf-last"),le),"".concat(P.prefixCls,"-treenode-draggable"),U),"dragging",se),p(p(p(p(p(p(p(o,"drop-target",P.dropTargetKey===r),"drop-container",P.dropContainerKey===r),"drag-over",!A&&f),"drag-over-gap-top",!A&&g),"drag-over-gap-bottom",!A&&v),"filter-node",null===(n=P.filterTreeNode)||void 0===n?void 0:n.call(P,Ae(e))),"".concat(P.prefixCls,"-treenode-leaf"),Q))),style:c,draggable:de,onDragStart:de?function(t){t.stopPropagation(),z(!0),P.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(n){}}:void 0,onDragEnter:U?function(t){t.preventDefault(),t.stopPropagation(),P.onNodeDragEnter(t,e)}:void 0,onDragOver:U?function(t){t.preventDefault(),t.stopPropagation(),P.onNodeDragOver(t,e)}:void 0,onDragLeave:U?function(t){t.stopPropagation(),P.onNodeDragLeave(t,e)}:void 0,onDrop:U?function(t){t.preventDefault(),t.stopPropagation(),z(!1),P.onNodeDrop(t,e)}:void 0,onDragEnd:U?function(t){t.stopPropagation(),z(!1),P.onNodeDragEnd(t,e)}:void 0,onMouseMove:$},ce,ae),a.createElement(gt,{prefixCls:P.prefixCls,level:ie,isStart:y,isEnd:m}),Z,function(){if(Q){var e=J(!0);return!1!==e?a.createElement("span",{className:s("".concat(P.prefixCls,"-switcher"),"".concat(P.prefixCls,"-switcher-noop"))},e):null}var t=J(!1);return!1!==t?a.createElement("span",{onClick:X,className:s("".concat(P.prefixCls,"-switcher"),"".concat(P.prefixCls,"-switcher_").concat(b?ht:yt))},t):null}(),ee,re)};function bt(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function kt(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function Ct(e){return e.split("-")}function xt(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var o=t.key,r=t.children;n.push(o),e(r)}))}(Oe(t,e).children),n}function wt(e){if(e.parent){var t=Ct(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Nt(e,t,n,o,r,a,i,l,d,s){var c,u=e.clientX,p=e.clientY,f=e.target.getBoundingClientRect(),g=f.top,v=f.height,h=(("rtl"===s?-1:1)*(((null==r?void 0:r.x)||0)-u)-12)/o,y=d.filter((function(e){var t;return null===(t=l[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length})),m=Oe(l,n.eventKey);if(p<g+v/2){var b=i.findIndex((function(e){return e.key===m.key})),k=i[b<=0?0:b-1].key;m=Oe(l,k)}var C=m.key,x=m,w=m.key,N=0,E=0;if(!y.includes(C))for(var K=0;K<h&&wt(m);K+=1)m=m.parent,E+=1;var $,S=t.data,O=m.node,P=!0;return $=Ct(m.pos),0===Number($[$.length-1])&&0===m.level&&p<g+v/2&&a({dragNode:S,dropNode:O,dropPosition:-1})&&m.key===n.eventKey?N=-1:(x.children||[]).length&&y.includes(w)?a({dragNode:S,dropNode:O,dropPosition:0})?N=0:P=!1:0===E?h>-1.5?a({dragNode:S,dropNode:O,dropPosition:1})?N=1:P=!1:a({dragNode:S,dropNode:O,dropPosition:0})?N=0:a({dragNode:S,dropNode:O,dropPosition:1})?N=1:P=!1:a({dragNode:S,dropNode:O,dropPosition:1})?N=1:P=!1,{dropPosition:N,dropLevelOffset:E,dropTargetKey:m.key,dropTargetPos:m.pos,dragOverNodeKey:w,dropContainerKey:0===N?null:(null===(c=m.parent)||void 0===c?void 0:c.key)||null,dropAllowed:P}}function Et(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function Kt(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==T(e))return z(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function $t(e,t){var n=new Set;function o(e){if(!n.has(e)){var r=Oe(t,e);if(r){n.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),A(n)}mt.isTreeNode=1;function St(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var Ot=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Pt=e.forwardRef((function(t,n){var o=t.className,r=t.style,a=t.motion,i=t.motionNodes,c=t.motionType,p=t.onMotionStart,f=t.onMotionEnd,g=t.active,v=t.treeNodeRequiredProps,h=l(t,Ot),y=e.useState(!0),m=d(y,2),b=m[0],k=m[1],C=e.useContext(ut).prefixCls,x=i&&"hide"!==c;_((function(){i&&x!==b&&k(x)}),[i]);var w=e.useRef(!1),N=function(){i&&!w.current&&(w.current=!0,f())};!function(t,n){var o=e.useState(!1),r=d(o,2),a=r[0],i=r[1];_((function(){if(a)return t(),function(){n()}}),[a]),_((function(){return i(!0),function(){i(!1)}}),[])}((function(){i&&p()}),N);return i?e.createElement(F,u({ref:n,visible:b},a,{motionAppear:"show"===c,onVisibleChanged:function(e){x===e&&N()}}),(function(t,n){var o=t.className,r=t.style;return e.createElement("div",{ref:n,className:s("".concat(C,"-treenode-motion"),o),style:r},i.map((function(t){var n=Object.assign({},(St(t.data),t.data)),o=t.title,r=t.key,a=t.isStart,i=t.isEnd;delete n.children;var l=ze(r,v);return e.createElement(mt,u({},n,l,{title:o,active:g,data:t.data,key:r,isStart:a,isEnd:i}))})))})):e.createElement(mt,u({domRef:n,className:o,style:r},h,{active:g}))}));function Dt(e,t,n){var o=e.findIndex((function(e){return e.key===n})),r=e[o+1],a=t.findIndex((function(e){return e.key===n}));if(r){var i=t.findIndex((function(e){return e.key===r.key}));return t.slice(a+1,i)}return t.slice(a+1)}var Mt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Rt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},It=function(){},Tt="RC_TREE_MOTION_".concat(Math.random()),Lt={key:Tt},zt={key:Tt,level:0,index:0,pos:"0",node:Lt,nodes:[Lt]},At={parent:null,children:[],pos:zt.pos,data:Lt,title:null,key:Tt,isStart:[],isEnd:[]};function Ht(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function Bt(e){return Me(e.key,e.pos)}var jt=e.forwardRef((function(t,n){var o=t.prefixCls,r=t.data;t.selectable,t.checkable;var a=t.expandedKeys,i=t.selectedKeys,s=t.checkedKeys,c=t.loadedKeys,p=t.loadingKeys,f=t.halfCheckedKeys,g=t.keyEntities,v=t.disabled,h=t.dragging,y=t.dragOverNodeKey,m=t.dropPosition,b=t.motion,k=t.height,C=t.itemHeight,x=t.virtual,w=t.scrollWidth,N=t.focusable,E=t.activeItem,K=t.focused,$=t.tabIndex,S=t.onKeyDown,O=t.onFocus,P=t.onBlur,D=t.onActiveChange,M=t.onListChangeStart,R=t.onListChangeEnd,I=l(t,Mt),T=e.useRef(null),L=e.useRef(null);e.useImperativeHandle(n,(function(){return{scrollTo:function(e){T.current.scrollTo(e)},getIndentWidth:function(){return L.current.offsetWidth}}}));var z=e.useState(a),A=d(z,2),H=A[0],B=A[1],j=e.useState(r),V=d(j,2),q=V[0],W=V[1],F=e.useState(r),G=d(F,2),U=G[0],X=G[1],Y=e.useState([]),Q=d(Y,2),Z=Q[0],J=Q[1],ee=e.useState(null),te=d(ee,2),ne=te[0],oe=te[1],re=e.useRef(r);function ae(){var e=re.current;W(e),X(e),J([]),oe(null),R()}re.current=r,_((function(){B(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(H,a);if(null!==e.key)if(e.add){var t=q.findIndex((function(t){return t.key===e.key})),n=Ht(Dt(q,r,e.key),x,k,C),o=q.slice();o.splice(t+1,0,At),X(o),J(n),oe("show")}else{var i=r.findIndex((function(t){return t.key===e.key})),l=Ht(Dt(r,q,e.key),x,k,C),d=r.slice();d.splice(i+1,0,At),X(d),J(l),oe("hide")}else q!==r&&(W(r),X(r))}),[a,r]),e.useEffect((function(){h||ae()}),[h]);var ie=b?U:r,le={expandedKeys:a,selectedKeys:i,loadedKeys:c,loadingKeys:p,checkedKeys:s,halfCheckedKeys:f,dragOverNodeKey:y,dropPosition:m,keyEntities:g};return e.createElement(e.Fragment,null,K&&E&&e.createElement("span",{style:Rt,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(E)),e.createElement("div",null,e.createElement("input",{style:Rt,disabled:!1===N||v,tabIndex:!1!==N?$:null,onKeyDown:S,onFocus:O,onBlur:P,value:"",onChange:It,"aria-label":"for screen reader"})),e.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},e.createElement("div",{className:"".concat(o,"-indent")},e.createElement("div",{ref:L,className:"".concat(o,"-indent-unit")}))),e.createElement(se,u({},I,{data:ie,itemKey:Bt,height:k,fullHeight:!1,virtual:x,itemHeight:C,scrollWidth:w,prefixCls:"".concat(o,"-list"),ref:T,role:"tree",onVisibleChange:function(e){e.every((function(e){return Bt(e)!==Tt}))&&ae()}}),(function(t){var n=t.pos,o=Object.assign({},(St(t.data),t.data)),r=t.title,a=t.key,i=t.isStart,l=t.isEnd,d=Me(a,n);delete o.key,delete o.children;var s=ze(d,le);return e.createElement(Pt,u({},o,s,{title:r,active:!!E&&a===E.key,pos:n,data:t.data,isStart:i,isEnd:l,motion:b,motionNodes:a===Tt?Z:null,motionType:ne,onMotionStart:M,onMotionEnd:ae,treeNodeRequiredProps:le,onMouseMove:function(){D(null)}}))})))})),Vt=function(t){G(r,t);var o=U(r);function r(){var t;X(this,r);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=o.call.apply(o,[this].concat(i)),p(Y(t),"destroyed",!1),p(Y(t),"delayedDragEnterLogic",void 0),p(Y(t),"loadingRetryTimes",{}),p(Y(t),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Re()}),p(Y(t),"dragStartMousePosition",null),p(Y(t),"dragNodeProps",null),p(Y(t),"currentMouseOverDroppableNodeKey",null),p(Y(t),"listRef",e.createRef()),p(Y(t),"onNodeDragStart",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,i=t.props.onDragStart,l=n.eventKey;t.dragNodeProps=n,t.dragStartMousePosition={x:e.clientX,y:e.clientY};var d=bt(r,l);t.setState({draggingNodeKey:l,dragChildrenKeys:xt(l,a),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(d),window.addEventListener("dragend",t.onWindowDragEnd),null==i||i({event:e,node:Ae(n)})})),p(Y(t),"onNodeDragEnter",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,i=o.dragChildrenKeys,l=o.flattenNodes,d=o.indent,s=t.props,c=s.onDragEnter,u=s.onExpand,p=s.allowDrop,f=s.direction,g=n.pos,v=n.eventKey;if(t.currentMouseOverDroppableNodeKey!==v&&(t.currentMouseOverDroppableNodeKey=v),t.dragNodeProps){var h=Nt(e,t.dragNodeProps,n,d,t.dragStartMousePosition,p,l,a,r,f),y=h.dropPosition,m=h.dropLevelOffset,b=h.dropTargetKey,k=h.dropContainerKey,C=h.dropTargetPos,x=h.dropAllowed,w=h.dragOverNodeKey;!i.includes(b)&&x?(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach((function(e){clearTimeout(t.delayedDragEnterLogic[e])})),t.dragNodeProps.eventKey!==n.eventKey&&(e.persist(),t.delayedDragEnterLogic[g]=window.setTimeout((function(){if(null!==t.state.draggingNodeKey){var o=A(r),i=Oe(a,n.eventKey);i&&(i.children||[]).length&&(o=kt(r,n.eventKey)),t.props.hasOwnProperty("expandedKeys")||t.setExpandedKeys(o),null==u||u(o,{node:Ae(n),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),t.dragNodeProps.eventKey!==b||0!==m?(t.setState({dragOverNodeKey:w,dropPosition:y,dropLevelOffset:m,dropTargetKey:b,dropContainerKey:k,dropTargetPos:C,dropAllowed:x}),null==c||c({event:e,node:Ae(n),expandedKeys:r})):t.resetDragState()):t.resetDragState()}else t.resetDragState()})),p(Y(t),"onNodeDragOver",(function(e,n){var o=t.state,r=o.dragChildrenKeys,a=o.flattenNodes,i=o.keyEntities,l=o.expandedKeys,d=o.indent,s=t.props,c=s.onDragOver,u=s.allowDrop,p=s.direction;if(t.dragNodeProps){var f=Nt(e,t.dragNodeProps,n,d,t.dragStartMousePosition,u,a,i,l,p),g=f.dropPosition,v=f.dropLevelOffset,h=f.dropTargetKey,y=f.dropContainerKey,m=f.dropTargetPos,b=f.dropAllowed,k=f.dragOverNodeKey;!r.includes(h)&&b&&(t.dragNodeProps.eventKey===h&&0===v?null===t.state.dropPosition&&null===t.state.dropLevelOffset&&null===t.state.dropTargetKey&&null===t.state.dropContainerKey&&null===t.state.dropTargetPos&&!1===t.state.dropAllowed&&null===t.state.dragOverNodeKey||t.resetDragState():g===t.state.dropPosition&&v===t.state.dropLevelOffset&&h===t.state.dropTargetKey&&y===t.state.dropContainerKey&&m===t.state.dropTargetPos&&b===t.state.dropAllowed&&k===t.state.dragOverNodeKey||t.setState({dropPosition:g,dropLevelOffset:v,dropTargetKey:h,dropContainerKey:y,dropTargetPos:m,dropAllowed:b,dragOverNodeKey:k}),null==c||c({event:e,node:Ae(n)}))}})),p(Y(t),"onNodeDragLeave",(function(e,n){t.currentMouseOverDroppableNodeKey!==n.eventKey||e.currentTarget.contains(e.relatedTarget)||(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var o=t.props.onDragLeave;null==o||o({event:e,node:Ae(n)})})),p(Y(t),"onWindowDragEnd",(function(e){t.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)})),p(Y(t),"onNodeDragEnd",(function(e,n){var o=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),null==o||o({event:e,node:Ae(n)}),t.dragNodeProps=null,window.removeEventListener("dragend",t.onWindowDragEnd)})),p(Y(t),"onNodeDrop",(function(e,n){var o,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.state,i=a.dragChildrenKeys,l=a.dropPosition,d=a.dropTargetKey,s=a.dropTargetPos;if(a.dropAllowed){var c=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),null!==d){var u=L(L({},ze(d,t.getTreeNodeRequiredProps())),{},{active:(null===(o=t.getActiveItem())||void 0===o?void 0:o.key)===d,data:Oe(t.state.keyEntities,d).node}),p=i.includes(d);z(!p,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var f=Ct(s),g={event:e,node:Ae(u),dragNode:t.dragNodeProps?Ae(t.dragNodeProps):null,dragNodesKeys:[t.dragNodeProps.eventKey].concat(i),dropToGap:0!==l,dropPosition:l+Number(f[f.length-1])};r||null==c||c(g),t.dragNodeProps=null}}})),p(Y(t),"cleanDragState",(function(){null!==t.state.draggingNodeKey&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null})),p(Y(t),"triggerExpandActionExpand",(function(e,n){var o=t.state,r=o.expandedKeys,a=o.flattenNodes,i=n.expanded,l=n.key;if(!(n.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var d=a.filter((function(e){return e.key===l}))[0],s=Ae(L(L({},ze(l,t.getTreeNodeRequiredProps())),{},{data:d.data}));t.setExpandedKeys(i?bt(r,l):kt(r,l)),t.onNodeExpand(e,s)}})),p(Y(t),"onNodeClick",(function(e,n){var o=t.props,r=o.onClick;"click"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)})),p(Y(t),"onNodeDoubleClick",(function(e,n){var o=t.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)})),p(Y(t),"onNodeSelect",(function(e,n){var o=t.state.selectedKeys,r=t.state,a=r.keyEntities,i=r.fieldNames,l=t.props,d=l.onSelect,s=l.multiple,c=n.selected,u=n[i.key],p=!c,f=(o=p?s?kt(o,u):[u]:bt(o,u)).map((function(e){var t=Oe(a,e);return t?t.node:null})).filter(Boolean);t.setUncontrolledState({selectedKeys:o}),null==d||d(o,{event:"select",selected:p,node:n,selectedNodes:f,nativeEvent:e.nativeEvent})})),p(Y(t),"onNodeCheck",(function(e,n,o){var r,a=t.state,i=a.keyEntities,l=a.checkedKeys,d=a.halfCheckedKeys,s=t.props,c=s.checkStrictly,u=s.onCheck,p=n.key,f={event:"check",node:n,checked:o,nativeEvent:e.nativeEvent};if(c){var g=o?kt(l,p):bt(l,p);r={checked:g,halfChecked:bt(d,p)},f.checkedNodes=g.map((function(e){return Oe(i,e)})).filter(Boolean).map((function(e){return e.node})),t.setUncontrolledState({checkedKeys:g})}else{var v=je([].concat(A(l),[p]),!0,i),h=v.checkedKeys,y=v.halfCheckedKeys;if(!o){var m=new Set(h);m.delete(p);var b=je(Array.from(m),{halfCheckedKeys:y},i);h=b.checkedKeys,y=b.halfCheckedKeys}r=h,f.checkedNodes=[],f.checkedNodesPositions=[],f.halfCheckedKeys=y,h.forEach((function(e){var t=Oe(i,e);if(t){var n=t.node,o=t.pos;f.checkedNodes.push(n),f.checkedNodesPositions.push({node:n,pos:o})}})),t.setUncontrolledState({checkedKeys:h},!1,{halfCheckedKeys:y})}null==u||u(r,f)})),p(Y(t),"onNodeLoad",(function(e){var n,o=e.key,r=Oe(t.state.keyEntities,o);if(null==r||null===(n=r.children)||void 0===n||!n.length){var a=new Promise((function(n,r){t.setState((function(a){var i=a.loadedKeys,l=void 0===i?[]:i,d=a.loadingKeys,s=void 0===d?[]:d,c=t.props,u=c.loadData,p=c.onLoad;return!u||l.includes(o)||s.includes(o)?null:(u(e).then((function(){var r=kt(t.state.loadedKeys,o);null==p||p(r,{event:"load",node:e}),t.setUncontrolledState({loadedKeys:r}),t.setState((function(e){return{loadingKeys:bt(e.loadingKeys,o)}})),n()})).catch((function(e){if(t.setState((function(e){return{loadingKeys:bt(e.loadingKeys,o)}})),t.loadingRetryTimes[o]=(t.loadingRetryTimes[o]||0)+1,t.loadingRetryTimes[o]>=10){var a=t.state.loadedKeys;z(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:kt(a,o)}),n()}r(e)})),{loadingKeys:kt(s,o)})}))}));return a.catch((function(){})),a}})),p(Y(t),"onNodeMouseEnter",(function(e,n){var o=t.props.onMouseEnter;null==o||o({event:e,node:n})})),p(Y(t),"onNodeMouseLeave",(function(e,n){var o=t.props.onMouseLeave;null==o||o({event:e,node:n})})),p(Y(t),"onNodeContextMenu",(function(e,n){var o=t.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:n}))})),p(Y(t),"onFocus",(function(){var e=t.props.onFocus;t.setState({focused:!0});for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)})),p(Y(t),"onBlur",(function(){var e=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)})),p(Y(t),"getTreeNodeRequiredProps",(function(){var e=t.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}})),p(Y(t),"setExpandedKeys",(function(e){var n=t.state,o=Te(n.treeData,e,n.fieldNames);t.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)})),p(Y(t),"onNodeExpand",(function(e,n){var o=t.state.expandedKeys,r=t.state,a=r.listChanging,i=r.fieldNames,l=t.props,d=l.onExpand,s=l.loadData,c=n.expanded,u=n[i.key];if(!a){var p=o.includes(u),f=!c;if(z(c&&p||!c&&!p,"Expand state not sync with index check"),o=f?kt(o,u):bt(o,u),t.setExpandedKeys(o),null==d||d(o,{node:n,expanded:f,nativeEvent:e.nativeEvent}),f&&s){var g=t.onNodeLoad(n);g&&g.then((function(){var e=Te(t.state.treeData,o,i);t.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=bt(t.state.expandedKeys,u);t.setExpandedKeys(e)}))}}})),p(Y(t),"onListChangeStart",(function(){t.setUncontrolledState({listChanging:!0})})),p(Y(t),"onListChangeEnd",(function(){setTimeout((function(){t.setUncontrolledState({listChanging:!1})}))})),p(Y(t),"onActiveChange",(function(e){var n=t.state.activeKey,o=t.props,r=o.onActiveChange,a=o.itemScrollOffset,i=void 0===a?0:a;n!==e&&(t.setState({activeKey:e}),null!==e&&t.scrollTo({key:e,offset:i}),null==r||r(e))})),p(Y(t),"getActiveItem",(function(){var e=t.state,n=e.activeKey,o=e.flattenNodes;return null===n?null:o.find((function(e){return e.key===n}))||null})),p(Y(t),"offsetActiveKey",(function(e){var n=t.state,o=n.flattenNodes,r=n.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=o.length);var i=o[a=(a+e+o.length)%o.length];if(i){var l=i.key;t.onActiveChange(l)}else t.onActiveChange(null)})),p(Y(t),"onKeyDown",(function(e){var o=t.state,r=o.activeKey,a=o.expandedKeys,i=o.checkedKeys,l=o.fieldNames,d=t.props,s=d.onKeyDown,c=d.checkable,u=d.selectable;switch(e.which){case n.UP:t.offsetActiveKey(-1),e.preventDefault();break;case n.DOWN:t.offsetActiveKey(1),e.preventDefault()}var p=t.getActiveItem();if(p&&p.data){var f=t.getTreeNodeRequiredProps(),g=!1===p.data.isLeaf||!!(p.data[l.children]||[]).length,v=Ae(L(L({},ze(r,f)),{},{data:p.data,active:!0}));switch(e.which){case n.LEFT:g&&a.includes(r)?t.onNodeExpand({},v):p.parent&&t.onActiveChange(p.parent.key),e.preventDefault();break;case n.RIGHT:g&&!a.includes(r)?t.onNodeExpand({},v):p.children&&p.children.length&&t.onActiveChange(p.children[0].key),e.preventDefault();break;case n.ENTER:case n.SPACE:!c||v.disabled||!1===v.checkable||v.disableCheckbox?c||!u||v.disabled||!1===v.selectable||t.onNodeSelect({},v):t.onNodeCheck({},v,!i.includes(r))}}null==s||s(e)})),p(Y(t),"setUncontrolledState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.destroyed){var r=!1,a=!0,i={};Object.keys(e).forEach((function(n){t.props.hasOwnProperty(n)?a=!1:(r=!0,i[n]=e[n])})),!r||n&&!a||t.setState(L(L({},i),o))}})),p(Y(t),"scrollTo",(function(e){t.listRef.current.scrollTo(e)})),t}return Q(r,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,o=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:o}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var t,n=this.state,o=n.focused,r=n.flattenNodes,a=n.keyEntities,i=n.draggingNodeKey,l=n.activeKey,d=n.dropLevelOffset,c=n.dropContainerKey,f=n.dropTargetKey,g=n.dropPosition,v=n.dragOverNodeKey,h=n.indent,y=this.props,m=y.prefixCls,b=y.className,k=y.style,C=y.showLine,x=y.focusable,w=y.tabIndex,N=void 0===w?0:w,E=y.selectable,K=y.showIcon,$=y.icon,S=y.switcherIcon,O=y.draggable,P=y.checkable,D=y.checkStrictly,M=y.disabled,R=y.motion,I=y.loadData,L=y.filterTreeNode,z=y.height,A=y.itemHeight,H=y.scrollWidth,B=y.virtual,j=y.titleRender,V=y.dropIndicatorRender,q=y.onContextMenu,_=y.onScroll,F=y.direction,G=y.rootClassName,U=y.rootStyle,X=W(this.props,{aria:!0,data:!0});O&&(t="object"===T(O)?O:"function"==typeof O?{nodeDraggable:O}:{});var Y={prefixCls:m,selectable:E,showIcon:K,icon:$,switcherIcon:S,draggable:t,draggingNodeKey:i,checkable:P,checkStrictly:D,disabled:M,keyEntities:a,dropLevelOffset:d,dropContainerKey:c,dropTargetKey:f,dropPosition:g,dragOverNodeKey:v,indent:h,direction:F,dropIndicatorRender:V,loadData:I,filterTreeNode:L,titleRender:j,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return e.createElement(ut.Provider,{value:Y},e.createElement("div",{className:s(m,b,G,p(p(p({},"".concat(m,"-show-line"),C),"".concat(m,"-focused"),o),"".concat(m,"-active-focused"),null!==l)),style:U},e.createElement(jt,u({ref:this.listRef,prefixCls:m,style:k,data:r,disabled:M,selectable:E,checkable:!!P,motion:R,dragging:null!==i,height:z,itemHeight:A,virtual:B,focusable:x,focused:o,tabIndex:N,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:q,onScroll:_,scrollWidth:H},this.getTreeNodeRequiredProps(),X))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,o=t.prevProps,r={prevProps:e};function a(t){return!o&&e.hasOwnProperty(t)||o&&o[t]!==e[t]}var i=t.fieldNames;if(a("fieldNames")&&(i=Re(e.fieldNames),r.fieldNames=i),a("treeData")?n=e.treeData:a("children")&&(z(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=Ie(e.children)),n){r.treeData=n;var l=Le(n,{fieldNames:i});r.keyEntities=L(p({},Tt,zt),l.keyEntities)}var d,s=r.keyEntities||t.keyEntities;if(a("expandedKeys")||o&&a("autoExpandParent"))r.expandedKeys=e.autoExpandParent||!o&&e.defaultExpandParent?$t(e.expandedKeys,s):e.expandedKeys;else if(!o&&e.defaultExpandAll){var c=L({},s);delete c[Tt];var u=[];Object.keys(c).forEach((function(e){var t=c[e];t.children&&t.children.length&&u.push(t.key)})),r.expandedKeys=u}else!o&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?$t(e.defaultExpandedKeys,s):e.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,n||r.expandedKeys){var f=Te(n||t.treeData,r.expandedKeys||t.expandedKeys,i);r.flattenNodes=f}if((e.selectable&&(a("selectedKeys")?r.selectedKeys=Et(e.selectedKeys,e):!o&&e.defaultSelectedKeys&&(r.selectedKeys=Et(e.defaultSelectedKeys,e))),e.checkable)&&(a("checkedKeys")?d=Kt(e.checkedKeys)||{}:!o&&e.defaultCheckedKeys?d=Kt(e.defaultCheckedKeys)||{}:n&&(d=Kt(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),d)){var g=d,v=g.checkedKeys,h=void 0===v?[]:v,y=g.halfCheckedKeys,m=void 0===y?[]:y;if(!e.checkStrictly){var b=je(h,!0,s);h=b.checkedKeys,m=b.halfCheckedKeys}r.checkedKeys=h,r.halfCheckedKeys=m}return a("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}]),r}(e.Component);p(Vt,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:r.top=0,r.left=-n*o;break;case 1:r.bottom=0,r.left=-n*o;break;case 0:r.bottom=0,r.left=o}return a.createElement("div",{style:r})},allowDrop:function(){return!0},expandAction:!1}),p(Vt,"TreeNode",mt);const qt=({treeCls:e,treeNodeCls:t,directoryNodeSelectedBg:n,directoryNodeSelectedColor:o,motionDurationMid:r,borderRadius:a,controlItemBgHover:i})=>({[`${e}${e}-directory ${t}`]:{[`${e}-node-content-wrapper`]:{position:"static",[`> *:not(${e}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${r}`,content:'""',borderRadius:a},"&:hover:before":{background:i}},[`${e}-switcher, ${e}-checkbox, ${e}-draggable-icon`]:{zIndex:1},"&-selected":{[`${e}-switcher, ${e}-draggable-icon`]:{color:o},[`${e}-node-content-wrapper`]:{color:o,background:"transparent","&:before, &:hover:before":{background:n}}}}}),Wt=new J("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),_t=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Ft=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${b(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Gt=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:r,titleHeight:a,indentSize:i,nodeSelectedBg:l,nodeHoverBg:d,colorTextQuaternary:s,controlItemBgActiveDisabled:c}=t;return{[n]:Object.assign(Object.assign({},y(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},B(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Wt,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[o]:{display:"flex",alignItems:"flex-start",marginBottom:r,lineHeight:b(a),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:r},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${o}-disabled${o}-selected ${n}-node-content-wrapper`]:{backgroundColor:c},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${o}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:a,textAlign:"center",visibility:"visible",color:s},[`&${o}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:i}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(a).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},_t(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:a,height:a,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(a).div(2).equal()).mul(.8).equal(),height:t.calc(a).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:a,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Ft(e,t)),{"&:hover":{backgroundColor:d},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:l},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${o}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(a).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${b(t.calc(a).div(2).equal())} !important`}})}},Ut=(e,t,n=!0)=>{const o=`.${e}`,r=`${o}-treenode`,a=t.calc(t.paddingXS).div(2).equal(),i=g(t,{treeCls:o,treeNodeCls:r,treeNodePadding:a});return[Gt(e,i),n&&qt(i)].filter(Boolean)},Xt=e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:o}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:o,nodeSelectedColor:e.colorText}},Yt=f("Tree",((e,{prefixCls:t})=>[{[e.componentCls]:qe(`${t}-checkbox`,e)},Ut(t,e),Z(e)]),(e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},Xt(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})})),Qt=t=>{const{prefixCls:n,switcherIcon:o,treeNodeProps:r,showLine:a,switcherLoadingIcon:i}=t,{isLeaf:l,expanded:d,loading:c}=r;if(c)return e.isValidElement(i)?i:e.createElement(ee,{className:`${n}-switcher-loading-icon`});let u;if(a&&"object"==typeof a&&(u=a.showLeafIcon),l){if(!a)return null;if("boolean"!=typeof u&&u){const t="function"==typeof u?u(r):u,o=`${n}-switcher-line-custom-icon`;return e.isValidElement(t)?K(t,{className:s(t.props.className||"",o)}):t}return u?e.createElement(tt,{className:`${n}-switcher-line-icon`}):e.createElement("span",{className:`${n}-switcher-leaf-line`})}const p=`${n}-switcher-icon`,f="function"==typeof o?o(r):o;return e.isValidElement(f)?K(f,{className:s(f.props.className||"",p)}):void 0!==f?f:a?d?e.createElement(lt,{className:`${n}-switcher-line-icon`}):e.createElement(ct,{className:`${n}-switcher-line-icon`}):e.createElement(Qe,{className:p})};function Zt(){return Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zt.apply(this,arguments)}const Jt=(t,n)=>e.createElement(te,Zt({},t,{ref:n,icon:Fe})),en=e.forwardRef(Jt);function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},tn.apply(this,arguments)}const nn=(t,n)=>e.createElement(te,tn({},t,{ref:n,icon:rt})),on=e.forwardRef(nn);var rn=function(t){e.useEffect(t,[])};function an(){const t=ne.c(3),[n,o]=e.useState(0);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{o(ln)},t[0]=r):r=t[0];const a=r;let i;return t[1]!==n?(i={key:n,refresh:a},t[1]=n,t[2]=i):i=t[2],i}function ln(e){return e+1}export{_e as C,Ue as D,nt as F,ot as H,rt as I,en as R,Qt as S,Vt as T,pt as U,je as a,bt as b,Le as c,kt as d,Yt as e,Re as f,$t as g,tt as h,Ie as i,mt as j,on as k,rn as l,we as m,qe as n,Fe as o,Xt as p,Ut as q,Ze as r,We as s,Qe as t,an as u,lt as v,ct as w};
