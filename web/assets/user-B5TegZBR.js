import{r as e,I as r,fu as t,c as n,j as a,B as l,l as o,n as s,o as i,v as c,m,u as d,cn as u,h as f,fv as h,a3 as p,cp as j,co as x,t as y,E as b,Q as g,Z as _,$ as w,a0 as v,q as S,U as P,d as C,k,F as E,a as z,fw as A,fx as N,O,K as I,cP as Z,cQ as T,cR as L,cS as F,cT as $,cU as q,cV as D,cW as U,cX as R,cZ as V,c_ as Q,c$ as W,cY as Y,cN as B,d0 as K}from"./requestIdleCallbackPolyfill-DuXR6Mmk.js";import{u as M,F as X}from"./index-BMudaHuW.js";import{I as J}from"./index-BrsrGf5j.js";import{R as G}from"./UserOutlined-CwFVHM6E.js";import{a as H}from"./MailOutlined-kR6rLhHd.js";import{C as ee,F as re,K as te,L as ne,S as ae,U as le,W as oe}from"./WarningOutlined-CBkhxb5r.js";import{T as se}from"./index-CBlsidtm.js";import{R as ie}from"./QuestionCircleOutlined-BiPPkPpK.js";import{A as ce,I as me,D as de,b as ue,d as fe,e as he,f as pe}from"./homePage-BMwq1FXb.js";import{T as je}from"./index-CeCo6Hjn.js";import{f as xe,m as ye}from"./assets-B8Bi78Vh.js";import{a as be}from"./PlusOutlined-BYc4BpPG.js";import{S as ge}from"./index-COg7AUHb.js";import{l as _e,R as we,C as ve}from"./useFresh-Do_Ws6bQ.js";import{D as Se}from"./sortableJsUtils-DI3fcbTj.js";import{e as Pe}from"./spinLoading-B6-A3G_X.js";import"./row-BxBkKylz.js";import"./useBreakpoint-BLWHdwqk.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./getAllowClear-BFzTGu2W.js";import"./Input-DeCKxNbM.js";import"./TextArea-Cr0GXhmp.js";import"./Overflow-BhMs7XL1.js";import"./index-mmVZs6--.js";import"./LeftOutlined-D9Sp279J.js";import"./fullSpin-Bu9E-UgA.js";import"./index-BR_vpJNT.js";import"./myDrawer2-tklTaCYh.js";import"./handleButton-Cvl2vIli.js";import"./myModal-BvN7GT0N.js";import"./submitForInclusion-_XyO0pW_.js";import"./CloudUploadOutlined-Clxird1Z.js";import"./ColorPicker-Byf6q6el.js";import"./index-CqnYxUI_.js";import"./index-CsFfv6FV.js";import"./iconBase-DcT7EL5-.js";import"./SearchOutlined-CzyPD-25.js";import"./LikeFilled-BjB1_RYz.js";import"./index-ffXlViMr.js";import"./ReloadOutlined-B00s2TmV.js";import"./LeftOutlined-DDnMjEWA.js";import"./styleChecker-Dktf464x.js";import"./sortable.esm-BbtDOPOV.js";import"./addRecommendAppForm-GN59AeeH.js";import"./markdownContent-fUeTi6R3.js";function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ce.apply(this,arguments)}const ke=(t,n)=>e.createElement(r,Ce({},t,{ref:n,icon:ee})),Ee=e.forwardRef(ke);function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ze.apply(this,arguments)}const Ae=(n,a)=>e.createElement(r,ze({},n,{ref:a,icon:t})),Ne=e.forwardRef(Ae);function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Oe.apply(this,arguments)}const Ie=(t,n)=>e.createElement(r,Oe({},t,{ref:n,icon:re})),Ze=e.forwardRef(Ie);function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Te.apply(this,arguments)}const Le=(t,n)=>e.createElement(r,Te({},t,{ref:n,icon:te})),Fe=e.forwardRef(Le);function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},$e.apply(this,arguments)}const qe=(t,n)=>e.createElement(r,$e({},t,{ref:n,icon:ne})),De=e.forwardRef(qe);function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ue.apply(this,arguments)}const Re=(t,n)=>e.createElement(r,Ue({},t,{ref:n,icon:ae})),Ve=e.forwardRef(Re);function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Qe.apply(this,arguments)}const We=(t,n)=>e.createElement(r,Qe({},t,{ref:n,icon:le})),Ye=e.forwardRef(We);function Be(){return Be=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Be.apply(this,arguments)}const Ke=(t,n)=>e.createElement(r,Be({},t,{ref:n,icon:oe})),Me=e.forwardRef(Ke);function Xe(e,r){return r?/^\d{1,6}$/.test(r)?Promise.resolve():Promise.reject(new Error("验证码只能包含数字")):Promise.reject(new Error("请输入验证码"))}function Je(e){return null==e?void 0:e.replace(/\D/g,"")}const Ge=e.memo((function(r){const t=n.c(38),{changeType:d}=r,[u]=M();let f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[0]=f):f=t[0];const[h,p]=e.useState(f);let j;t[1]!==d?(j=function(e){o(2,p),s({url:i.findPassword,data:e}).then((e=>{200===(null==e?void 0:e.code)&&d("login")})).finally((()=>{c(2,p)}))},t[1]=d,t[2]=j):j=t[2];const x=j;let y;t[3]!==u?(y=function(){const e=u.getFieldValue("username");if(!e||""===e)return void m.error("请输入用户名");if(!/^[a-zA-Z]/.test(e))return void m.error("用户名必须以字母开头");if(!/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(e))return void m.error("用户名只能包含字母、数字、下划线或短横线");if(e.length<3||e.length>20)return void m.error("用户名长度必须在3到20位之间");const r=u.getFieldValue("email");r&&""!==r?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)?(o(1,p),s({url:i.findPasswordEmailCode,data:{email:r,username:e}}).finally((()=>{c(1,p)}))):m.error("请输入有效的邮箱地址"):m.error("请输入邮箱")},t[3]=u,t[4]=y):y=t[4];const b=y;let g,_,w,v,S,P,C,k,E,z,A,N,O,I,Z,T,L,F,$,q;return t[5]===Symbol.for("react.memo_cache_sentinel")?(g={flex:"80px"},t[5]=g):g=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(_={maxWidth:360,margin:"auto"},t[6]=_):_=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(w=[{validator:(e,r)=>""!==r&&r?/^[a-zA-Z]/.test(r)?/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(r)?r.length<3||r.length>20?Promise.reject(new Error("用户名长度必须在3到20位之间")):Promise.resolve():Promise.reject(new Error("用户名只能包含字母、数字、下划线或短横线")):Promise.reject(new Error("用户名必须以字母开头")):Promise.reject(new Error("请输入用户名"))}],t[7]=w):w=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(X.Item,{name:"username",required:!0,rules:w,children:a.jsx(J,{prefix:a.jsx(G,{}),placeholder:"用户名",allowClear:!0,maxLength:20})}),t[8]=v):v=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(S=[{validator:(e,r)=>r?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)?Promise.resolve():Promise.reject(new Error("请输入有效的邮箱地址")):Promise.reject(new Error("请输入邮箱"))}],t[9]=S):S=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(P=a.jsx(X.Item,{name:"email",required:!0,className:"flex-auto",rules:S,children:a.jsx(J,{placeholder:"邮箱",prefix:a.jsx(H,{}),allowClear:!0,maxLength:255})}),t[10]=P):P=t[10],t[11]!==b||t[12]!==h[1]?(C=a.jsxs("div",{className:"flex gap-3 items-end",children:[P,a.jsx(l,{onClick:b,loading:h[1],className:"mb-6",children:"获取验证码"})]}),t[11]=b,t[12]=h[1],t[13]=C):C=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(k=[{validator:Xe}],t[14]=k):k=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(E={width:"100%"},t[15]=E):E=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsx(X.Item,{name:"emailCode",required:!0,normalize:Je,rules:k,children:a.jsx(J,{autoComplete:"new-password",style:E,placeholder:"验证码",allowClear:!0,maxLength:6,prefix:a.jsx(Ze,{})})}),t[16]=z):z=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(A=[{validator:(e,r)=>""!==r&&r?/^[a-zA-Z0-9_\-!@#$%^&*()+={}[\]:;"'<>.,?/~`|]+$/.test(r)?r.length<6||r.length>32?Promise.reject(new Error("密码长度必须在6到32位之间")):Promise.resolve():Promise.reject(new Error("密码只能包含字母、数字、下划线、短横线以及其他常用特殊字符")):Promise.reject(new Error("请输入密码"))}],t[17]=A):A=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(X.Item,{name:"newPassword",required:!0,rules:A,children:a.jsx(J.Password,{autoComplete:"new-password",prefix:a.jsx(De,{}),placeholder:"新密码",allowClear:!0,maxLength:32})}),t[18]=N):N=t[18],t[19]!==u?(O=[{validator(e,r){if(""===r||!r)return Promise.reject(new Error("请再次输入密码"));return r!==u.getFieldValue("newPassword")?Promise.reject(new Error("两次输入的密码不一致")):Promise.resolve()}}],t[19]=u,t[20]=O):O=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(I=a.jsx(J.Password,{autoComplete:"new-password",prefix:a.jsx(De,{}),placeholder:"二次确认密码",allowClear:!0,maxLength:32}),t[21]=I):I=t[21],t[22]!==O?(Z=a.jsx(X.Item,{name:"confirmPassword",required:!0,rules:O,children:I}),t[22]=O,t[23]=Z):Z=t[23],t[24]!==h[2]?(T=a.jsx(l,{type:"primary",className:"w-full",htmlType:"submit",loading:h[2],children:"找回密码"}),t[24]=h[2],t[25]=T):T=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(L=a.jsx(se,{className:" text-xs w-full m-0",icon:a.jsx(ie,{}),children:"多次发送验证码会存在收信失败的问题，请隔天重试"}),t[26]=L):L=t[26],t[27]!==d?(F=a.jsx(l,{type:"link",onClick:()=>{d("login")},children:"找到密码？返回登录"}),t[27]=d,t[28]=F):F=t[28],t[29]!==T||t[30]!==F?($=a.jsxs("div",{className:"flex gap-3 flex-col items-center",children:[T,L,F]}),t[29]=T,t[30]=F,t[31]=$):$=t[31],t[32]!==x||t[33]!==u||t[34]!==Z||t[35]!==$||t[36]!==C?(q=a.jsx(a.Fragment,{children:a.jsxs(X,{labelCol:g,form:u,name:"findPassword-form",autoComplete:"off",onFinish:x,style:_,children:[v,C,z,N,Z,$]})}),t[32]=x,t[33]=u,t[34]=Z,t[35]=$,t[36]=C,t[37]=q):q=t[37],q}));function He(e){return e.user.userInfo}const er=e.memo((function(r){const t=n.c(26),{changeType:m}=r,y=d(),{pullDataCompareTimestampClear:b}=u();let g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],t[0]=g):g=t[0];const[_,w]=e.useState(g),v=f(He);let S;t[1]!==y||t[2]!==b||t[3]!==v?(S=function(e){o(0,w),delete e.dataOption,s({url:i.login,data:e}).then((e=>{200===e.code&&e.data&&(y(h(e.data.token)),p(e.data.userInfo,v)||(y(j(e.data.userInfo)),y(x(!1))),b(void 0,void 0,e.data.token))})).finally((()=>{c(0,w)}))},t[1]=y,t[2]=b,t[3]=v,t[4]=S):S=t[4];const P=S;let C,k,E,z,A,N,O,I,Z,T,L,F;return t[5]===Symbol.for("react.memo_cache_sentinel")?(C={flex:"80px"},k={maxWidth:360,margin:"auto"},t[5]=C,t[6]=k):(C=t[5],k=t[6]),t[7]===Symbol.for("react.memo_cache_sentinel")?(E=[{validator(e,r){if(""===r||!r)return Promise.reject(new Error("请输入用户名/邮箱"));return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)?Promise.resolve():/^[a-zA-Z]/.test(r)?/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(r)?r.length<3||r.length>20?Promise.reject(new Error("用户名长度必须在3到20位之间")):Promise.resolve():Promise.reject(new Error("用户名只能包含字母、数字、下划线或短横线")):Promise.reject(new Error("用户名必须以字母开头"))}}],t[7]=E):E=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsx(X.Item,{name:"username",required:!0,rules:E,children:a.jsx(J,{prefix:a.jsx(G,{}),placeholder:"用户名/邮箱",allowClear:!0})}),t[8]=z):z=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(A=[{validator:(e,r)=>""!==r&&r?/^[a-zA-Z0-9_\-!@#$%^&*()+={}[\]:;"'<>.,?/~`|]+$/.test(r)?r.length<6||r.length>32?Promise.reject(new Error("密码长度必须在6到32位之间")):Promise.resolve():Promise.reject(new Error("密码只能包含字母、数字、下划线、短横线以及其他常用特殊字符")):Promise.reject(new Error("请输入密码"))}],t[9]=A):A=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(X.Item,{name:"password",required:!0,rules:A,children:a.jsx(J.Password,{prefix:a.jsx(De,{}),placeholder:"密码",maxLength:32,allowClear:!0})}),t[10]=N):N=t[10],t[11]!==_[0]?(O=a.jsx(l,{type:"primary",className:"w-full",htmlType:"submit",loading:_[0],children:"登录"}),t[11]=_[0],t[12]=O):O=t[12],t[13]!==m?(I=a.jsx(l,{type:"link",onClick:()=>{m("register")},className:"px-2",children:"没有账号？立即注册"}),t[13]=m,t[14]=I):I=t[14],t[15]!==m?(Z=a.jsx(l,{type:"link",onClick:()=>{m("findPassword")},className:"px-2",children:"找回密码"}),t[15]=m,t[16]=Z):Z=t[16],t[17]!==Z||t[18]!==I?(T=a.jsxs("div",{className:"flex flex-wrap gap-x-3 justify-between w-full",children:[I,Z]}),t[17]=Z,t[18]=I,t[19]=T):T=t[19],t[20]!==T||t[21]!==O?(L=a.jsxs("div",{className:"flex gap-3 flex-col items-center",children:[O,T]}),t[20]=T,t[21]=O,t[22]=L):L=t[22],t[23]!==P||t[24]!==L?(F=a.jsx(a.Fragment,{children:a.jsxs(X,{onFinish:P,autoComplete:"off",name:"login-form",labelCol:C,style:k,children:[z,N,L]})}),t[23]=P,t[24]=L,t[25]=F):F=t[25],F}));function rr(e,r){return r?/^\d{1,6}$/.test(r)?Promise.resolve():Promise.reject(new Error("验证码只能包含数字")):Promise.reject(new Error("请输入验证码"))}function tr(e){return null==e?void 0:e.replace(/\D/g,"")}const nr=e.memo((function(r){const t=n.c(32),{changeType:d}=r,[u]=M();let f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[0]=f):f=t[0];const[h,p]=e.useState(f);let j;t[1]!==d?(j=function(e){o(1,p),s({url:i.register,data:e}).then((e=>{200===(null==e?void 0:e.code)&&d("login")})).finally((()=>{c(1,p)}))},t[1]=d,t[2]=j):j=t[2];const x=j;let y;t[3]!==u?(y=function(){const e=u.getFieldValue("email");e&&""!==e?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?(o(0,p),s({url:i.emailCode,data:{email:e}}).finally((()=>{c(0,p)}))):m.error("请输入有效的邮箱地址"):m.error("请输入邮箱")},t[3]=u,t[4]=y):y=t[4];const b=y;let g,_,w,v,S,P,C,k,E,z,A,N,O,I,Z,T,L;return t[5]===Symbol.for("react.memo_cache_sentinel")?(g={flex:"80px"},t[5]=g):g=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(_={maxWidth:360,margin:"auto"},t[6]=_):_=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(w=[{validator:(e,r)=>""!==r&&r?/^[a-zA-Z]/.test(r)?/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(r)?r.length<3||r.length>20?Promise.reject(new Error("用户名长度必须在3到20位之间")):Promise.resolve():Promise.reject(new Error("用户名只能包含字母、数字、下划线或短横线")):Promise.reject(new Error("用户名必须以字母开头")):Promise.reject(new Error("请输入用户名"))}],t[7]=w):w=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(v=a.jsx(X.Item,{name:"username",required:!0,rules:w,children:a.jsx(J,{prefix:a.jsx(G,{}),placeholder:"用户名",allowClear:!0,maxLength:20})}),t[8]=v):v=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(S=[{validator:(e,r)=>""!==r&&r?/^[a-zA-Z0-9_\-!@#$%^&*()+={}[\]:;"'<>.,?/~`|]+$/.test(r)?r.length<6||r.length>32?Promise.reject(new Error("密码长度必须在6到32位之间")):Promise.resolve():Promise.reject(new Error("密码只能包含字母、数字、下划线、短横线以及其他常用特殊字符")):Promise.reject(new Error("请输入密码"))}],t[9]=S):S=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(P=a.jsx(X.Item,{name:"password",required:!0,rules:S,children:a.jsx(J.Password,{autoComplete:"new-password",prefix:a.jsx(De,{}),placeholder:"密码",allowClear:!0,maxLength:32})}),t[10]=P):P=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(C=[{validator(e,r){if(!r)return Promise.reject(new Error("请输入邮箱"));return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)?Promise.resolve():Promise.reject(new Error("请输入有效的邮箱地址"))}}],t[11]=C):C=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(k=a.jsx(X.Item,{name:"email",required:!0,className:"flex-auto",rules:C,children:a.jsx(J,{placeholder:"邮箱",prefix:a.jsx(H,{}),allowClear:!0})}),t[12]=k):k=t[12],t[13]!==b||t[14]!==h[0]?(E=a.jsxs("div",{className:"flex gap-3 items-end",children:[k,a.jsx(l,{onClick:b,loading:h[0],className:"mb-6",children:"获取验证码"})]}),t[13]=b,t[14]=h[0],t[15]=E):E=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(z=[{validator:rr}],t[16]=z):z=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(A={width:"100%"},t[17]=A):A=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(X.Item,{name:"emailCode",required:!0,normalize:tr,rules:z,children:a.jsx(J,{autoComplete:"new-password",style:A,placeholder:"验证码",allowClear:!0,maxLength:6,prefix:a.jsx(Ze,{})})}),t[18]=N):N=t[18],t[19]!==h[1]?(O=a.jsx(l,{type:"primary",className:"w-full",htmlType:"submit",loading:h[1],children:"注册"}),t[19]=h[1],t[20]=O):O=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(I=a.jsx(se,{className:" text-xs w-full m-0",icon:a.jsx(ie,{}),children:"多次发送验证码会存在收信失败的问题，请隔天重试"}),t[21]=I):I=t[21],t[22]!==d?(Z=a.jsx(l,{type:"link",onClick:()=>{d("login")},children:"已有账号？返回登录"}),t[22]=d,t[23]=Z):Z=t[23],t[24]!==O||t[25]!==Z?(T=a.jsxs("div",{className:"flex gap-3 flex-col items-center",children:[O,I,Z]}),t[24]=O,t[25]=Z,t[26]=T):T=t[26],t[27]!==u||t[28]!==x||t[29]!==E||t[30]!==T?(L=a.jsx(a.Fragment,{children:a.jsxs(X,{labelCol:g,form:u,name:"register-form",autoComplete:"off",onFinish:x,style:_,children:[v,P,E,N,T]})}),t[27]=u,t[28]=x,t[29]=E,t[30]=T,t[31]=L):L=t[31],L}));const ar=e.memo((function(){const r=n.c(14),[t,l]=e.useState("login"),{token:o}=y.useToken();let s;r[0]===Symbol.for("react.memo_cache_sentinel")?(s=function(e){l(e)},r[0]=s):s=r[0];const i=s;let c,m;r[1]!==t?(c=a.jsx("div",{className:"flex flex-col items-center m-3 gap-3",children:a.jsx(ce,{size:64,icon:"findPassword"===t?a.jsx(Fe,{}):"register"===t?a.jsx(Ye,{}):a.jsx(G,{})})}),r[1]=t,r[2]=c):c=r[2],r[3]!==o.colorPrimary?(m={color:o.colorPrimary},r[3]=o.colorPrimary,r[4]=m):m=r[4];const d="login"===t?"登录享有更多服务":"register"===t?"欢迎您的注册体验":"遗失密码？即刻找回";let u,f,h;return r[5]!==m||r[6]!==d?(u=a.jsx("p",{className:"font-medium text-lg mb-6 text-center",style:m,children:d}),r[5]=m,r[6]=d,r[7]=u):u=r[7],r[8]!==t?(f="login"===t?a.jsx(er,{changeType:i}):"register"===t?a.jsx(nr,{changeType:i}):a.jsx(Ge,{changeType:i}),r[8]=t,r[9]=f):f=r[9],r[10]!==c||r[11]!==u||r[12]!==f?(h=a.jsxs(a.Fragment,{children:[c,u,f]}),r[10]=c,r[11]=u,r[12]=f,r[13]=h):h=r[13],h}));function lr(e){return e.user.token}const or=e.memo((function(){const r=n.c(21),{getDefaultData:t}=u();let m;r[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],r[0]=m):m=r[0];const[d,h]=e.useState(m),p=f(lr);let j;r[1]!==p?(j=function(){o(0,h),s({url:i.setDefaultData,token:p,data:{data:b()}}).finally((()=>{c(0,h)}))},r[1]=p,r[2]=j):j=r[2];const x=j;let y,w,v,S,P,C,k,E,z;return r[3]===Symbol.for("react.memo_cache_sentinel")?(y=a.jsx(g,{message:"当前正处于编辑默认主页状态，保存的内容将替换用户首次进入网站时页面初始化的数据",banner:!0}),r[3]=y):y=r[3],r[4]===Symbol.for("react.memo_cache_sentinel")?(w=a.jsx(Ve,{}),r[4]=w):w=r[4],r[5]!==d[0]?(v=a.jsx(l,{type:"primary",icon:w,loading:d[0],children:"保存默认配置"}),r[5]=d[0],r[6]=v):v=r[6],r[7]!==x||r[8]!==v?(S=a.jsx(_,{title:"是否确认保存？",onConfirm:x,children:v}),r[7]=x,r[8]=v,r[9]=S):S=r[9],r[10]!==t?(P=()=>{t(1,h)},r[10]=t,r[11]=P):P=r[11],r[12]===Symbol.for("react.memo_cache_sentinel")?(C=a.jsx(Ne,{}),r[12]=C):C=r[12],r[13]!==d[1]?(k=a.jsx(l,{loading:d[1],icon:C,children:"获取默认配置"}),r[13]=d[1],r[14]=k):k=r[14],r[15]!==P||r[16]!==k?(E=a.jsx(_,{title:"是否确认获取？",onConfirm:P,children:k}),r[15]=P,r[16]=k,r[17]=E):E=r[17],r[18]!==S||r[19]!==E?(z=a.jsxs("main",{className:"flex flex-col gap-3 *:border *:p-3",children:[y,S,E]}),r[18]=S,r[19]=E,r[20]=z):z=r[20],z}));function sr(){w.hide(v)}function ir(e){return e.user.userInfo}function cr(e){return e.user.token}const mr=e.memo((function(){const r=n.c(17),t=d(),[o,c]=e.useState(!1),m=f(cr),u=f(ir);let h;r[0]!==t||r[1]!==m?(h=function(e){c(!0),s({url:i.submitAppellation,token:m,data:e}).then((e=>{200===e.code&&e.data&&(t(j(e.data)),w.hide(v))})).finally((()=>{c(!1)}))},r[0]=t,r[1]=m,r[2]=h):h=r[2];const p=h;let x,y,b,_,S,P,C;return r[3]===Symbol.for("react.memo_cache_sentinel")?(x=a.jsx(g,{message:a.jsx("p",{children:"称号是用户的一个额外信息，申请通过即可开启 VIP 标识！"}),className:"mb-3 py-1 px-3 text-xs font-medium",type:"warning"}),r[3]=x):x=r[3],r[4]!==u?(y=[{validator:(e,r)=>r&&""!==r?r.length>8?Promise.reject("称号名称不能超过8个字符"):r===u.appellation?Promise.reject("称号名称不能与当前称号相同"):Promise.resolve():Promise.reject("请输入称号名称")}],r[4]=u,r[5]=y):y=r[5],r[6]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(J,{placeholder:"称号名称",maxLength:8,allowClear:!0,showCount:!0}),r[6]=b):b=r[6],r[7]!==y?(_=a.jsx(X.Item,{label:"称号名称",required:!0,rules:y,name:"appellation",children:b}),r[7]=y,r[8]=_):_=r[8],r[9]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(l,{onClick:sr,children:"取消"}),r[9]=S):S=r[9],r[10]!==o?(P=a.jsxs("div",{className:"flex justify-end gap-3 flex-wrap items-center",children:[S,a.jsx(l,{type:"primary",htmlType:"submit",loading:o,children:"提交申请"})]}),r[10]=o,r[11]=P):P=r[11],r[12]!==p||r[13]!==_||r[14]!==P||r[15]!==u?(C=a.jsxs(a.Fragment,{children:[x,a.jsxs(X,{initialValues:u,onFinish:p,children:[_,P]})]}),r[12]=p,r[13]=_,r[14]=P,r[15]=u,r[16]=C):C=r[16],C}));function dr(){w.hide(v)}function ur(){w.hide(v)}function fr(){w.hide(v)}function hr(e,r){const t=new FileReader;let n=!1;const a=()=>{n||r(t.result)};t.addEventListener("loadend",a),t.readAsDataURL(e);return()=>{n=!0,t.removeEventListener("loadend",a),t.abort()}}function pr(e){return e.user.userInfo}function jr(e){return e.user.token}const xr=e.memo((function(){const r=n.c(31),t=d(),u=f(jr),h=f(pr);let p;r[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],r[0]=p):p=r[0];const[x,y]=e.useState(p),[b,g]=e.useState(),[_,w]=e.useState(null),[v,C]=e.useState(null);let k,E;r[1]!==v?(k=()=>()=>{v&&v()},E=[v],r[1]=v,r[2]=k,r[3]=E):(k=r[2],E=r[3]),e.useEffect(k,E);const z=hr;let A;r[4]!==t||r[5]!==u?(A=()=>{o(0,y),s({url:i.resetAvatar,token:u}).then((e=>{200===e.code&&e.data&&(t(j(e.data)),setTimeout(fr,0))})).finally((()=>{c(0,y)}))},r[4]=t,r[5]=u,r[6]=A):A=r[6];const N=A;let O;r[7]!==t||r[8]!==_||r[9]!==u||r[10]!==h?(O=()=>{_?(o(1,y),s({url:i.uploadAvatar,data:S({file:_}),token:u}).then((e=>{if(200===e.code&&e.data){const r={...h,avatar:e.data.avatar_url};t(j(r)),setTimeout(ur,0)}})).finally((()=>{c(1,y)}))):m.error("请先选择一个图片")},r[7]=t,r[8]=_,r[9]=u,r[10]=h,r[11]=O):O=r[11];const I=O;let Z,T,L,F,$,q,D,U,R;return r[12]!==v?(Z=()=>()=>{v&&v()},T=[v],r[12]=v,r[13]=Z,r[14]=T):(Z=r[13],T=r[14]),e.useEffect(Z,T),r[15]===Symbol.for("react.memo_cache_sentinel")?(L=e=>{if(e.size>512e3)return m.error("头像大小不能超过500KB！"),!1;const r=z(e,(r=>{g(r),w(e)}));return C((()=>r)),!1},r[15]=L):L=r[15],r[16]!==b?(F=a.jsx(me,{quality:.1,modalTitle:"裁剪图片",modalOk:"确定",modalCancel:"取消",children:a.jsx(P,{maxCount:1,accept:".png, .jpeg, .jpg",name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:L,children:b?a.jsx("img",{src:b,alt:"avatar",style:{width:"100%"}}):a.jsxs("button",{style:{border:0,background:"none"},type:"button",children:[a.jsx(be,{}),a.jsx("div",{style:{marginTop:8},children:"上传头像"})]})})}),r[16]=b,r[17]=F):F=r[17],r[18]===Symbol.for("react.memo_cache_sentinel")?($=a.jsx(l,{onClick:dr,children:"取消"}),r[18]=$):$=r[18],r[19]!==x[0]||r[20]!==N?(q=a.jsx(l,{loading:x[0],onClick:N,children:"恢复默认"}),r[19]=x[0],r[20]=N,r[21]=q):q=r[21],r[22]!==x[1]||r[23]!==I?(D=a.jsx(l,{type:"primary",onClick:I,loading:x[1],children:"保存头像"}),r[22]=x[1],r[23]=I,r[24]=D):D=r[24],r[25]!==q||r[26]!==D?(U=a.jsxs("div",{className:"flex flex-wrap gap-3 justify-end mt-3",children:[$,q,D]}),r[25]=q,r[26]=D,r[27]=U):U=r[27],r[28]!==U||r[29]!==F?(R=a.jsxs(a.Fragment,{children:[F,U]}),r[28]=U,r[29]=F,r[30]=R):R=r[30],R}));function yr(){w.hide(v)}function br(e,r){if(!r)return Promise.reject(new Error("请输入密码"));return/^[a-zA-Z0-9_\-!@#$%^&*()+={}[\]:;"'<>.,?/~`|]+$/.test(r)?r.length<6||r.length>32?Promise.reject(new Error("密码长度必须在6到32位之间")):Promise.resolve():Promise.reject(new Error("密码只能包含字母、数字、下划线、短横线以及其他常用特殊字符"))}function gr(e){200===e.code&&w.hide(v)}function _r(e){return e.user.token}const wr=e.memo((function(){const r=n.c(19),[t]=M();let m;r[0]===Symbol.for("react.memo_cache_sentinel")?(m=[],r[0]=m):m=r[0];const[d,u]=e.useState(m),h=f(_r);let p;r[1]!==h?(p=function(e){o(0,u),s({url:i.changePassword,data:e,token:h}).then(gr).finally((()=>{c(0,u)}))},r[1]=h,r[2]=p):p=r[2];const j=p,x=br;let y,b,g,_,w,v,S,P,C;return r[3]===Symbol.for("react.memo_cache_sentinel")?(y={flex:"80px"},r[3]=y):y=r[3],r[4]===Symbol.for("react.memo_cache_sentinel")?(b=a.jsx(X.Item,{label:"原密码",required:!0,name:"oldPassword",rules:[{validator:x}],children:a.jsx(J.Password,{autoComplete:"new-password",placeholder:"原密码",maxLength:32,allowClear:!0})}),r[4]=b):b=r[4],r[5]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsx(X.Item,{label:"新密码",required:!0,name:"newPassword",rules:[{validator:x}],children:a.jsx(J.Password,{autoComplete:"new-password",placeholder:"新密码",maxLength:32,allowClear:!0})}),r[5]=g):g=r[5],r[6]!==t?(_=[{validator(e,r){if(""===r||!r)return Promise.reject(new Error("请再次输入密码"));return r!==t.getFieldValue("newPassword")?Promise.reject(new Error("两次输入的密码不一致")):Promise.resolve()}}],r[6]=t,r[7]=_):_=r[7],r[8]===Symbol.for("react.memo_cache_sentinel")?(w=a.jsx(J.Password,{autoComplete:"new-password",placeholder:"重新输入新密码",maxLength:32,allowClear:!0}),r[8]=w):w=r[8],r[9]!==_?(v=a.jsx(X.Item,{label:"确认密码",required:!0,name:"confirmPassword",rules:_,children:w}),r[9]=_,r[10]=v):v=r[10],r[11]===Symbol.for("react.memo_cache_sentinel")?(S=a.jsx(l,{onClick:yr,children:"取消"}),r[11]=S):S=r[11],r[12]!==d[0]?(P=a.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[S,a.jsx(l,{type:"primary",htmlType:"submit",loading:d[0],children:"确定"})]}),r[12]=d[0],r[13]=P):P=r[13],r[14]!==j||r[15]!==t||r[16]!==v||r[17]!==P?(C=a.jsx(a.Fragment,{children:a.jsxs(X,{form:t,autoComplete:"off",name:"edit-user-form",onFinish:j,labelCol:y,children:[b,g,v,P]})}),r[14]=j,r[15]=t,r[16]=v,r[17]=P,r[18]=C):C=r[18],C}));function vr(){w.hide(v)}function Sr(e,r){return r&&r.length>20&&r.length>20?Promise.reject(new Error("昵称长度不能超过20个字符")):Promise.resolve()}function Pr(e){return e.user.userInfo}function Cr(e){return e.user.token}const kr=e.memo((function(r){const t=n.c(23),{initialValues:m}=r,u=d();let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[0]=h):h=t[0];const[x,y]=e.useState(h),b=f(Cr),g=f(Pr);let _;t[1]!==u||t[2]!==b||t[3]!==g?(_=function(e){o(0,y),""!==e.birthday&&e.birthday||delete e.birthday,s({url:i.editUserInfo,data:e,token:b}).then((e=>{200===e.code&&e.data&&(p(e.data,g)||u(j(e.data)),w.hide(v))})).finally((()=>{c(0,y)}))},t[1]=u,t[2]=b,t[3]=g,t[4]=_):_=t[4];const S=_;let P,k,E,z,A,N,O,I,Z,T,L;return t[5]!==m.birthday?(P=m.birthday&&C(m.birthday,"YYYY-MM-DD"),t[5]=m.birthday,t[6]=P):P=t[6],t[7]!==m||t[8]!==P?(k={...m,birthday:P},t[7]=m,t[8]=P,t[9]=k):k=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(E={flex:"72px"},t[10]=E):E=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(z=a.jsx(X.Item,{name:"username",label:"用户名",required:!0,rules:[{validator:(e,r)=>""!==r&&r?/^[a-zA-Z]/.test(r)?/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(r)?r.length<3||r.length>20?Promise.reject(new Error("用户名长度必须在3到20位之间")):Promise.resolve():Promise.reject(new Error("用户名只能包含字母、数字、下划线或短横线")):Promise.reject(new Error("用户名必须以字母开头")):Promise.reject(new Error("请输入用户名"))}],children:a.jsx(J,{placeholder:"用户名",allowClear:!0,maxLength:20})}),t[11]=z):z=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(A=a.jsx(X.Item,{name:"nickname",label:"昵称",rules:[{validator:Sr}],children:a.jsx(J,{placeholder:"昵称",maxLength:20,showCount:!0,allowClear:!0})}),t[12]=A):A=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(X.Item,{name:"sex",label:"性别",required:!0,children:a.jsx(ge,{placeholder:"性别",options:[{label:"男",value:0},{label:"女",value:1}]})}),t[13]=N):N=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(O=a.jsx(X.Item,{name:"phone",label:"手机号",rules:[{validator(e,r){if(""===r||!r)return Promise.resolve();return/^1[3-9]\d{9}$/.test(r)?Promise.resolve():Promise.reject(new Error("请输入正确的手机号码"))}}],children:a.jsx(J,{placeholder:"手机号",maxLength:11,allowClear:!0})}),t[14]=O):O=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(I=a.jsx(X.Item,{name:"birthday",label:"生日",children:a.jsx(de,{placeholder:"生日",allowClear:!0})}),t[15]=I):I=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(Z=a.jsx(l,{onClick:vr,children:"取消"}),t[16]=Z):Z=t[16],t[17]!==x[0]?(T=a.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[Z,a.jsx(l,{type:"primary",htmlType:"submit",loading:x[0],children:"确定"})]}),t[17]=x[0],t[18]=T):T=t[18],t[19]!==S||t[20]!==T||t[21]!==k?(L=a.jsx(a.Fragment,{children:a.jsxs(X,{autoComplete:"off",initialValues:k,name:"edit-user-form",onFinish:S,labelCol:E,children:[z,A,N,O,I,T]})}),t[19]=S,t[20]=T,t[21]=k,t[22]=L):L=t[22],L}));function Er(){w.hide(v)}function zr(e,r){return r?/^\d{1,6}$/.test(r)?Promise.resolve():Promise.reject(new Error("验证码只能包含数字")):Promise.reject(new Error("请输入验证码"))}function Ar(e){return null==e?void 0:e.replace(/\D/g,"")}function Nr(e){return e.user.userInfo}function Or(e){return e.user.token}const Ir=e.memo((function(){const r=n.c(22),t=d(),[u]=M();let h;r[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],r[0]=h):h=r[0];const[x,y]=e.useState(h),b=f(Or),g=f(Nr);let _;r[1]!==u?(_=function(){const e=u.getFieldValue("email");e&&""!==e?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)?(o(0,y),s({url:i.emailCode,data:{email:e}}).finally((()=>{c(0,y)}))):m.error("请输入有效的邮箱地址"):m.error("请输入邮箱")},r[1]=u,r[2]=_):_=r[2];const S=_;let P;r[3]!==t||r[4]!==b||r[5]!==g?(P=function(e){o(1,y),s({url:i.bindEmail,data:e,token:b}).then((e=>{200===e.code&&e.data&&(p(e.data,g)||t(j(e.data)),w.hide(v))})).finally((()=>{c(1,y)}))},r[3]=t,r[4]=b,r[5]=g,r[6]=P):P=r[6];const C=P;let k,E,z,A,N,O,I,Z;return r[7]===Symbol.for("react.memo_cache_sentinel")?(k={flex:"72px"},r[7]=k):k=r[7],r[8]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(X.Item,{name:"email",required:!0,className:"flex-auto",label:"新邮箱",rules:[{validator:(e,r)=>r?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r)?Promise.resolve():Promise.reject(new Error("请输入有效的邮箱地址")):Promise.reject(new Error("请输入邮箱"))}],children:a.jsx(J,{placeholder:"邮箱",allowClear:!0,maxLength:255})}),r[8]=E):E=r[8],r[9]!==S||r[10]!==x[0]?(z=a.jsxs("div",{className:"flex gap-3 items-end",children:[E,a.jsx(l,{onClick:S,loading:x[0],className:"mb-6",children:"获取验证码"})]}),r[9]=S,r[10]=x[0],r[11]=z):z=r[11],r[12]===Symbol.for("react.memo_cache_sentinel")?(A=[{validator:zr}],r[12]=A):A=r[12],r[13]===Symbol.for("react.memo_cache_sentinel")?(N=a.jsx(X.Item,{name:"emailCode",required:!0,label:"验证码",normalize:Ar,rules:A,children:a.jsx(J,{autoComplete:"new-password",style:{width:"100%"},placeholder:"验证码",allowClear:!0,maxLength:6})}),r[13]=N):N=r[13],r[14]===Symbol.for("react.memo_cache_sentinel")?(O=a.jsx(l,{onClick:Er,children:"取消"}),r[14]=O):O=r[14],r[15]!==x[1]?(I=a.jsxs("div",{className:"flex flex-wrap justify-end gap-3",children:[O,a.jsx(l,{type:"primary",htmlType:"submit",loading:x[1],children:"确定"})]}),r[15]=x[1],r[16]=I):I=r[16],r[17]!==C||r[18]!==u||r[19]!==z||r[20]!==I?(Z=a.jsx(a.Fragment,{children:a.jsxs(X,{form:u,onFinish:C,name:"user-email-form",labelCol:k,autoComplete:"off",children:[z,N,I]})}),r[17]=C,r[18]=u,r[19]=z,r[20]=I,r[21]=Z):Z=r[21],Z}));function Zr(){w.show(v,{title:"注销账户",children:a.jsx(Rr,{})})}function Tr(){w.show(v,{title:"退出登录",children:a.jsx(Ur,{})})}function Lr(){w.show(v,{title:"修改密码",children:a.jsx(wr,{}),onClosedUseTabListen:!1})}function Fr(){m.success("数据合并完成")}function $r(){w.show(v,{title:"头像设置",children:a.jsx(xr,{}),onClosedUseTabListen:!1})}function qr(e){return e.user.userInfo}const Dr=e.memo((function(){var r,t;const o=n.c(92),{pullData:s,pushData:i,getDefaultDataClear:c}=u(),d=f(qr);let h;o[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],o[0]=h):h=o[0];const[p,j]=e.useState(h);let x,y,b,g,S,P,C,z;o[1]!==d.avatar||o[2]!==d.sex?(x=(null==d?void 0:d.avatar)?k(d.avatar):1===(null==d?void 0:d.sex)?xe:ye,o[1]=d.avatar,o[2]=d.sex,o[3]=x):x=o[3],o[4]!==x?(y=a.jsx("div",{className:"p-[2px] border-dashed border rounded-full hover:border-blue-400 cursor-pointer transition-main",onClick:$r,children:a.jsx(ce,{size:72,src:x})}),o[4]=x,o[5]=y):y=o[5],o[6]!==d.appellation||o[7]!==d.appellationStatus?(b=d.appellation&&1===d.appellationStatus?a.jsx(ue,{}):a.jsx(_e,{}),o[6]=d.appellation,o[7]=d.appellationStatus,o[8]=b):b=o[8],o[9]!==d.appellation||o[10]!==d.appellationStatus||o[11]!==d.userType?(g=d.appellation&&1===d.appellationStatus?"volcano":null==(r=fe.find((e=>e.userType===d.userType)))?void 0:r.color,o[9]=d.appellation,o[10]=d.appellationStatus,o[11]=d.userType,o[12]=g):g=o[12],o[13]!==d.appellation||o[14]!==d.appellationStatus||o[15]!==d.userType?(S=d.appellation&&1===d.appellationStatus?d.appellation:null==(t=fe.find((e=>e.userType===d.userType)))?void 0:t.text,o[13]=d.appellation,o[14]=d.appellationStatus,o[15]=d.userType,o[16]=S):S=o[16],o[17]!==b||o[18]!==g||o[19]!==S?(P=a.jsx(se,{icon:b,className:"m-0 flex items-center gap-1",color:g,children:S}),o[17]=b,o[18]=g,o[19]=S,o[20]=P):P=o[20],o[21]!==y||o[22]!==P?(C=a.jsxs("div",{className:"flex flex-col items-center m-3 gap-3",children:[y,P]}),o[21]=y,o[22]=P,o[23]=C):C=o[23],o[24]===Symbol.for("react.memo_cache_sentinel")?(z={label:{padding:"8px 16px"},content:{padding:"8px 16px",textAlign:"end"}},o[24]=z):z=o[24];const A=d.username||"-";let N;o[25]!==A?(N={label:"用户名",children:A},o[25]=A,o[26]=N):N=o[26];const O=d.nickname||"-";let I;o[27]!==O?(I={label:"昵称",children:O},o[27]=O,o[28]=I):I=o[28];const Z=1===d.sex?"女":"男";let T;o[29]!==Z?(T={label:"性别",children:Z},o[29]=Z,o[30]=T):T=o[30];const L=d.email||"-";let F;o[31]!==L?(F={label:"邮箱",children:L},o[31]=L,o[32]=F):F=o[32];const $=d.phone||"-";let q;o[33]!==$?(q={label:"手机号",children:$},o[33]=$,o[34]=q):q=o[34];const D=d.birthday||"-";let U;o[35]!==D?(U={label:"生日",children:D},o[35]=D,o[36]=U):U=o[36];const R=d.registerTime||"-";let V,Q,W,Y,B,K,M,X,J,G,ee,re,te;o[37]!==R?(V={label:"注册时间",children:R},o[37]=R,o[38]=V):V=o[38],o[39]!==i?(Q=()=>{"1"===localStorage.getItem("focusPulling")?m.warning("数据自动同步中，请稍后再试"):i(0,j)},o[39]=i,o[40]=Q):Q=o[40],o[41]!==p[0]||o[42]!==Q?(W=a.jsx(l,{type:"link",size:"small",onClick:Q,loading:p[0],children:"上传"}),o[41]=p[0],o[42]=Q,o[43]=W):W=o[43],o[44]===Symbol.for("react.memo_cache_sentinel")?(Y=a.jsx(E,{type:"vertical"}),o[44]=Y):Y=o[44],o[45]!==s?(B=()=>{"1"===localStorage.getItem("focusPulling")?m.warning("数据自动同步中，请稍后再试"):s(1,j,void 0,!0)},o[45]=s,o[46]=B):B=o[46],o[47]!==p[1]||o[48]!==B?(K=a.jsx(l,{type:"link",size:"small",onClick:B,loading:p[1],children:"拉取"}),o[47]=p[1],o[48]=B,o[49]=K):K=o[49],o[50]!==W||o[51]!==K?(M={label:"数据管理",children:a.jsxs("div",{className:"flex justify-end flex-wrap *:p-0 items-center",children:[W,Y,K]})},o[50]=W,o[51]=K,o[52]=M):M=o[52],o[53]!==c?(X=()=>{c(void 0,void 0,Fr,!0)},o[53]=c,o[54]=X):X=o[54],o[55]===Symbol.for("react.memo_cache_sentinel")?(J=a.jsx(l,{type:"link",size:"small",className:"p-0",children:"合并数据"}),o[55]=J):J=o[55],o[56]!==X?(G={label:"主页初始化数据",children:a.jsx(a.Fragment,{children:a.jsx(_,{title:"将与本地数据差异化合并",onConfirm:X,children:J})})},o[56]=X,o[57]=G):G=o[57],o[58]!==N||o[59]!==I||o[60]!==T||o[61]!==F||o[62]!==q||o[63]!==U||o[64]!==V||o[65]!==M||o[66]!==G?(ee=a.jsx(Se,{bordered:!0,column:1,className:"w-full mt-6",styles:z,items:[N,I,T,F,q,U,V,M,G]}),o[58]=N,o[59]=I,o[60]=T,o[61]=F,o[62]=q,o[63]=U,o[64]=V,o[65]=M,o[66]=G,o[67]=ee):ee=o[67],o[68]===Symbol.for("react.memo_cache_sentinel")?(re=a.jsx(je,{}),o[68]=re):re=o[68],o[69]!==d.appellation||o[70]!==d.appellationStatus?(te=()=>{w.show(v,{title:a.jsxs("div",{className:"flex items-center gap-2",children:[d.appellation&&1===d.appellationStatus?"变更称号":"申请称号",a.jsxs(se,{color:0===d.appellationStatus?"":1===d.appellationStatus?"green":"red",icon:0===d.appellationStatus?a.jsx(we,{}):1===d.appellationStatus?a.jsx(he,{}):a.jsx(Ee,{}),children:["称号状态：",0===d.appellationStatus?d.appellation?"申请中":"待申请":1===d.appellationStatus?"已荣获":"被拒绝"]})]}),children:a.jsx(mr,{}),onClosedUseTabListen:!1})},o[69]=d.appellation,o[70]=d.appellationStatus,o[71]=te):te=o[71];const ne=0===d.appellationStatus?d.appellation?"称号管理":"申请称号":1===d.appellationStatus?"变更称号":"重新申请";let ae,le,oe,ie,me,de,be,ge,ve,Ce;return o[72]!==te||o[73]!==ne?(ae=a.jsx(l,{icon:re,onClick:te,children:ne}),o[72]=te,o[73]=ne,o[74]=ae):ae=o[74],o[75]===Symbol.for("react.memo_cache_sentinel")?(le=a.jsx(Pe,{}),o[75]=le):le=o[75],o[76]!==d?(oe=a.jsx(l,{icon:le,onClick:()=>{w.show(v,{title:"更新资料",children:a.jsx(kr,{initialValues:d}),onClosedUseTabListen:!1})},children:"更新资料"}),o[76]=d,o[77]=oe):oe=o[77],o[78]===Symbol.for("react.memo_cache_sentinel")?(ie=a.jsx(l,{icon:a.jsx(Fe,{}),onClick:Lr,children:"修改密码"}),o[78]=ie):ie=o[78],o[79]===Symbol.for("react.memo_cache_sentinel")?(me=a.jsx(H,{}),o[79]=me):me=o[79],o[80]!==d.email?(de=a.jsx(l,{icon:me,onClick:()=>{w.show(v,{title:`绑定邮箱（原邮箱：${d.email||"无"}）`,children:a.jsx(Ir,{}),onClosedUseTabListen:!1})},children:"绑定邮箱"}),o[80]=d.email,o[81]=de):de=o[81],o[82]===Symbol.for("react.memo_cache_sentinel")?(be=a.jsx(l,{icon:a.jsx(pe,{}),danger:!0,onClick:Tr,children:"退出登录"}),o[82]=be):be=o[82],o[83]===Symbol.for("react.memo_cache_sentinel")?(ge=a.jsx(l,{icon:a.jsx(Me,{}),type:"text",danger:!0,size:"small",className:"text-xs",onClick:Zr,children:"注销账户？请慎重操作！"}),o[83]=ge):ge=o[83],o[84]!==ae||o[85]!==oe||o[86]!==de?(ve=a.jsxs("div",{className:"flex flex-col mt-6 gap-3",children:[ae,oe,ie,de,be,ge]}),o[84]=ae,o[85]=oe,o[86]=de,o[87]=ve):ve=o[87],o[88]!==ee||o[89]!==ve||o[90]!==C?(Ce=a.jsxs(a.Fragment,{children:[C,ee,ve]}),o[88]=ee,o[89]=ve,o[90]=C,o[91]=Ce):Ce=o[91],Ce})),Ur=()=>{const r=n.c(19),t=d(),{getDefaultDataClear:o}=u(),s=f(Vr),[c,p]=e.useState(!0);let y;r[0]!==c||r[1]!==t||r[2]!==o||r[3]!==s?(y=function(){if(t(h("")),t(j({})),t(x(!1)),O({url:i.logout,token:s}),m.success("退出成功"),w.hide(v),c){o(10,void 0,(e=>{I(e)&&(t(Z()),t(T()),t(L()),t(F()),t($()),t(q()),t(D()),t(U()),t(R()),t(V()),t(Q()),t(W()),t(Y()),t(B()))})),K();const e=z.getState().stateUtils.mySwiper;if(e){z.getState().swiper.loop?null==e||e.slideToLoop(0):null==e||e.slideTo(0)}}},r[0]=c,r[1]=t,r[2]=o,r[3]=s,r[4]=y):y=r[4];const b=y;let _,S,P,C,k,E,A,M;return r[5]===Symbol.for("react.memo_cache_sentinel")?(_=a.jsx(g,{message:"退出后将停止在不同设备或浏览器间同步数据。",type:"error",showIcon:!0,banner:!0,icon:a.jsx(N,{}),className:"rounded-md"}),r[5]=_):_=r[5],r[6]!==c?(S=()=>{p(!c)},P=a.jsx(ve,{checked:c,className:"pointer-events-none"}),r[6]=c,r[7]=S,r[8]=P):(S=r[7],P=r[8]),r[9]===Symbol.for("react.memo_cache_sentinel")?(C=a.jsx("p",{children:"退出清空本地数据"}),r[9]=C):C=r[9],r[10]!==S||r[11]!==P?(k=a.jsxs("div",{className:"flex gap-2 items-center pointer-events-auto cursor-pointer w-fit",onClick:S,children:[P,C]}),r[10]=S,r[11]=P,r[12]=k):k=r[12],r[13]===Symbol.for("react.memo_cache_sentinel")?(E=a.jsx(l,{onClick:Qr,children:"取消"}),r[13]=E):E=r[13],r[14]!==b?(A=a.jsxs("div",{className:"flex gap-3 justify-end",children:[E,a.jsx(l,{danger:!0,type:"primary",onClick:b,children:"确定"})]}),r[14]=b,r[15]=A):A=r[15],r[16]!==k||r[17]!==A?(M=a.jsxs("div",{className:"flex flex-col gap-4",children:[_,k,A]}),r[16]=k,r[17]=A,r[18]=M):M=r[18],M},Rr=()=>{const r=n.c(7),t=d(),[o,s]=e.useState(!1);let c;r[0]!==t?(c=function(){s(!0);const e=z.getState().user.token;A({url:i.logOff,token:e}).then((e=>{200===e.code&&(t(h("")),t(j({})),t(x(!1)),w.hide(v))})).finally((()=>{s(!1)}))},r[0]=t,r[1]=c):c=r[1];const m=c;let u,f,p;return r[2]===Symbol.for("react.memo_cache_sentinel")?(u=a.jsx(g,{message:"是否确认注销账户？注销后账户数据将被完全清理，请您慎重操作，如有问题，欢迎联系管理员！",type:"error",showIcon:!0,banner:!0,icon:a.jsx(N,{}),className:"rounded-md"}),r[2]=u):u=r[2],r[3]===Symbol.for("react.memo_cache_sentinel")?(f=a.jsx(l,{onClick:Wr,children:"取消"}),r[3]=f):f=r[3],r[4]!==o||r[5]!==m?(p=a.jsxs("div",{className:"flex flex-col gap-4",children:[u,a.jsxs("div",{className:"flex gap-3 justify-end",children:[f,a.jsx(l,{danger:!0,type:"primary",onClick:m,loading:o,children:"确定"})]})]}),r[4]=o,r[5]=m,r[6]=p):p=r[6],p};function Vr(e){return e.user.token}function Qr(){w.hide(v)}function Wr(){w.hide(v)}function Yr(){const r=n.c(11),t=d(),l=f(Mr),o=f(Kr),s=f(Br);let c;r[0]!==t||r[1]!==l||r[2]!==o?(c=function(){O({url:i.getUserInfo,token:l}).then((e=>{200===e.code&&e.data&&(p(e.data,o)||t(j(e.data)))}))},r[0]=t,r[1]=l,r[2]=o,r[3]=c):c=r[3];const m=c;let u,h,x;return r[4]!==m||r[5]!==l?(u=()=>{l&&m()},r[4]=m,r[5]=l,r[6]=u):u=r[6],r[7]===Symbol.for("react.memo_cache_sentinel")?(h=[],r[7]=h):h=r[7],e.useEffect(u,h),r[8]!==s||r[9]!==l?(x=a.jsx("div",{className:"p-6",children:l?s?a.jsx(or,{}):a.jsx(Dr,{}):a.jsx(ar,{})}),r[8]=s,r[9]=l,r[10]=x):x=r[10],x}function Br(e){return e.user.isSettingDefaultData}function Kr(e){return e.user.userInfo}function Mr(e){return e.user.token}export{Yr as default};
