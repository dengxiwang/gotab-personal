import{x as e,e as r,j as s,B as l,af as t,a0 as a,at as o,aj as n,aw as i,H as m,ag as c,w as u,ao as f,ah as d}from"./requestIdleCallbackPolyfill-CT2Uunzs.js";import{T as p}from"./TextArea-CCBBim-V.js";import{C as j}from"./contentLayout-odUVCfUr.js";import{F as x}from"./index-B5l_nge6.js";import{I as h}from"./index-Dgw5cqVQ.js";import{S as _}from"./index-kmb97xVR.js";import{R as y}from"./QuestionCircleOutlined-B3JZlZLh.js";import"./getAllowClear-BfnEnRnP.js";import"./row-DFvObsCi.js";import"./useBreakpoint-DKl-R_5q.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./Input-BiSwrENd.js";function b(){const b=e.c(22),[w]=x.useForm();let g;b[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],b[0]=g):g=b[0];const[S,C]=r.useState(g);let I;b[1]!==w?(I=function(){t(0,C);const e=a.getState().user.token;o({url:d.getInfoConfig,token:e}).then((e=>{w.setFieldsValue(e.data)})).finally((()=>{n(0,C)}))},b[1]=w,b[2]=I):I=b[2];const q=I;let v,k,F;b[3]!==q?(v=()=>{q()},b[3]=q,b[4]=v):v=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(k=[],b[5]=k):k=b[5],r.useEffect(v,k),b[6]===Symbol.for("react.memo_cache_sentinel")?(F=function(e){if(e.server_url&&!i(e.server_url))return void m.error("后台服务地址必须以http或https开头");t(1,C);const r=a.getState().user.token;c({url:d.updateInfoConfig,token:r,data:e}).finally((()=>{n(1,C)}))},b[6]=F):F=b[6];const N=F;let O,Q,R,T,A,B,E,H,z,G;return b[7]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(u,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(y,{className:"mr-1"}),"更新网页的标题、描述等项目基础信息，别的信息可以自行更改项目文件，达到更改目的！或联系作者：dengxiwang@aliyun.com"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),b[7]=O):O=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(Q={flex:"120px"},b[8]=Q):Q=b[8],b[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(x.Item,{label:"网站标题",required:!0,name:"web_title",rules:[{required:!0}],children:s.jsx(h,{placeholder:"网站标题",allowClear:!0})}),b[9]=R):R=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(T=[{required:!0}],b[10]=T):T=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(x.Item,{label:"网站描述",required:!0,name:"web_description",rules:T,children:s.jsx(p,{autoSize:{minRows:3,maxRows:3},allowClear:!0,placeholder:"网站描述，head头部中的description信息"})}),A=s.jsx(f,{}),b[11]=A,b[12]=B):(A=b[11],B=b[12]),b[13]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(x.Item,{label:"后台服务地址",required:!0,name:"server_url",rules:[{required:!0}],children:s.jsx(h,{allowClear:!0,placeholder:"后台服务地址，如：https://web.gotab.cn"})}),b[13]=E):E=b[13],b[14]!==S[1]?(H=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(l,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:S[1],children:"保存配置"})}),b[14]=S[1],b[15]=H):H=b[15],b[16]!==w||b[17]!==H?(z=s.jsxs(x,{form:w,className:"w-full",labelCol:Q,onFinish:N,children:[R,B,A,E,H]}),b[16]=w,b[17]=H,b[18]=z):z=b[18],b[19]!==S[0]||b[20]!==z?(G=s.jsxs(j,{children:[O,s.jsx("div",{className:"w-full",children:s.jsx(_,{spinning:S[0],children:z})})]}),b[19]=S[0],b[20]=z,b[21]=G):G=b[21],G}export{b as default};
