import{x as e,e as r,j as s,B as l,af as a,a0 as t,at as o,aj as n,ag as m,w as i,ah as c}from"./main-Drts11_7.js";import{r as u}from"./transformData-4xpszoeT.js";import{C as d}from"./contentLayout-zuNNcUeR.js";import{F as f}from"./index-DdMyc5Cn.js";import{I as p}from"./index-zfgypH5w.js";import{S as j}from"./index-B6TAr31U.js";import{T as x}from"./index-BXPExOGF.js";import{S as h}from"./index-Dv1_3i3f.js";import{R as S}from"./QuestionCircleOutlined-DQc37oRK.js";import"./row-DcPNg0q0.js";import"./useBreakpoint-DFlb7uCR.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./getAllowClear-CAqcmJNw.js";import"./Input-C1mipumm.js";import"./TextArea-CXkQ_emr.js";import"./Overflow-BDgtIXVY.js";function b(){const b=e.c(23),[_]=f.useForm();let y;b[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],b[0]=y):y=b[0];const[w,T]=r.useState(y);let g;b[1]!==_?(g=function(){a(0,T);const e=t.getState().user.token;o({url:c.getSmtpConfig,token:e}).then((e=>{_.setFieldsValue(u(e.data))})).finally((()=>{n(0,T)}))},b[1]=_,b[2]=g):g=b[2];const q=g;let C,I,L;b[3]!==q?(C=()=>{q()},b[3]=q,b[4]=C):C=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(I=[],b[5]=I):I=b[5],r.useEffect(C,I),b[6]===Symbol.for("react.memo_cache_sentinel")?(L=function(e){a(1,T);const r=t.getState().user.token;m({url:c.updateSmtpConfig,token:r,data:e}).finally((()=>{n(1,T)}))},b[6]=L):L=b[6];const N=L;let v,F,k,A,B,O,Q,R,D,E,U;return b[7]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(i,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(S,{className:"mr-1"}),"更新用于用户注册的邮箱验证码发送验证的邮件服务器配置，推荐使用：阿里企业邮箱或者微信企业邮箱"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),b[7]=v):v=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(F={flex:"120px"},b[8]=F):F=b[8],b[9]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(f.Item,{label:"服务器地址",required:!0,name:"host",rules:[{required:!0}],children:s.jsx(p,{placeholder:"服务器地址"})}),b[9]=k):k=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(A=[{required:!0}],b[10]=A):A=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(f.Item,{label:"加密方式",required:!0,name:"encryption",rules:A,children:s.jsx(j,{placeholder:"加密方式",options:[{value:"None",label:"不加密"},{value:"SSL/TLS",label:"SSL/TLS"},{value:"STARTTLS",label:"STARTTLS"}]})}),b[11]=B):B=b[11],b[12]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(f.Item,{label:"端口",required:!0,name:"port",rules:[{required:!0}],children:s.jsx(x,{placeholder:"端口"})}),b[12]=O):O=b[12],b[13]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(f.Item,{label:"用户名",required:!0,name:"username",rules:[{required:!0}],children:s.jsx(p,{placeholder:"用户名"})}),b[13]=Q):Q=b[13],b[14]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(f.Item,{label:"密码",required:!0,name:"password",rules:[{required:!0}],children:s.jsx(p.Password,{autoComplete:"new-password",placeholder:"密码"})}),b[14]=R):R=b[14],b[15]!==w[1]?(D=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(l,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:w[1],children:"保存配置"})}),b[15]=w[1],b[16]=D):D=b[16],b[17]!==_||b[18]!==D?(E=s.jsxs(f,{autoComplete:"off",form:_,className:"w-full",labelCol:F,onFinish:N,children:[k,B,O,Q,R,D]}),b[17]=_,b[18]=D,b[19]=E):E=b[19],b[20]!==w[0]||b[21]!==E?(U=s.jsxs(d,{children:[v,s.jsx("div",{className:"w-full",children:s.jsx(h,{spinning:w[0],children:E})})]}),b[20]=w[0],b[21]=E,b[22]=U):U=b[22],U}export{b as default};
