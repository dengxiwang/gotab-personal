import{c as e,r as s,j as t,B as a,l,a as o,O as n,v as r,n as i,Q as c,o as m}from"./requestIdleCallbackPolyfill-wjnfvn2_.js";import{C as u}from"./contentLayout-C0qFlHlT.js";import{F as d}from"./index-BqvcN-Xw.js";import{R as f}from"./index-Fol5n8-j.js";import{S as h}from"./index-DOvZnzeO.js";import{R as p}from"./QuestionCircleOutlined-C7m1-xAr.js";import"./row-CTOnRWv6.js";import"./useBreakpoint-8Vx3Jbgo.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";function j(){const j=e.c(19),[x]=d.useForm();let y;j[0]===Symbol.for("react.memo_cache_sentinel")?(y=[],j[0]=y):y=j[0];const[b,_]=s.useState(y);let S;j[1]!==x?(S=function(){l(0,_);const e=o.getState().user.token;n({url:m.getFunctionSwitch,token:e}).then((e=>{var s;e.data&&((null==(s=e.data)?void 0:s.cardPush)||(e.data.cardPush="close"),x.setFieldsValue(e.data))})).finally((()=>{r(0,_)}))},j[1]=x,j[2]=S):S=j[2];const w=S;let g,v,F;j[3]!==w?(g=()=>{w()},j[3]=w,j[4]=g):g=j[4],j[5]===Symbol.for("react.memo_cache_sentinel")?(v=[],j[5]=v):v=j[5],s.useEffect(g,v),j[6]===Symbol.for("react.memo_cache_sentinel")?(F=function(e){l(1,_);const s=o.getState().user.token;i({url:m.updateFunctionSwitch,token:s,data:e}).finally((()=>{r(1,_)}))},j[6]=F):F=j[6];const N=F;let P,k,Q,C,q,O,B;return j[7]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(c,{type:"warning",description:t.jsxs(t.Fragment,{children:[t.jsx(p,{className:"mr-1"}),"当前配置项的状态受系统后台控制。管理员可通过权限管理或全局开关设置，动态决定该配置在新标签页中是否可见、可编辑或完全禁用。"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),j[7]=P):P=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(k={cardPush:"close"},j[8]=k):k=j[8],j[9]===Symbol.for("react.memo_cache_sentinel")?(Q=[{required:!0,message:"请选择配置项的状态"}],j[9]=Q):Q=j[9],j[10]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(d.Item,{name:"cardPush",label:"添加卡片时推送至资源库（仅限资源库中不存在的链接，审核后展示）",required:!0,rules:Q,children:t.jsx(f.Group,{options:[{label:"开启且默认推送",value:"open"},{label:"开启但不默认推送",value:"openNotPush"},{label:"关闭",value:"close"}]})}),j[10]=C):C=j[10],j[11]!==b[1]?(q=t.jsx("div",{className:"w-full flex justify-center",children:t.jsx(a,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:b[1],children:"保存配置"})}),j[11]=b[1],j[12]=q):q=j[12],j[13]!==x||j[14]!==q?(O=t.jsxs(d,{onFinish:N,form:x,className:"px-3 w-full",initialValues:k,children:[C,q]}),j[13]=x,j[14]=q,j[15]=O):O=j[15],j[16]!==b[0]||j[17]!==O?(B=t.jsxs(u,{children:[P,t.jsx("div",{className:"w-full",children:t.jsx(h,{spinning:b[0],children:O})})]}),j[16]=b[0],j[17]=O,j[18]=B):B=j[18],B}export{j as default};
