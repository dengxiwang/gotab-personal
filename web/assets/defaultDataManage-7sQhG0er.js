import{x as e,j as t,e as i,B as s,w as r,ao as o,ah as a,af as l,a0 as n,ag as d,aj as m}from"./main-RpejCBsR.js";import{u as c}from"./useFresh-CPnGAo4P.js";import{M as j,R as u}from"./myTable-CRFfBxBV.js";import{C as p}from"./contentLayout-CYjexQz9.js";import{R as f}from"./ReloadOutlined-COIWZ7Ds.js";import{R as x}from"./QuestionCircleOutlined-Bb3cuZKo.js";import{T as y}from"./index-mJdixdnj.js";import{R as h}from"./UserOutlined-BSR-I-QH.js";import{P as _}from"./main-Bz7X3OC0.js";import"./index-D5IqMKmB.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-DYvhoNUM.js";import"./Overflow-BCh9wkGD.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-DEv9k294.js";import"./getAllowClear-BYRQBlOI.js";import"./Input-B4rSyk4X.js";import"./transformData-hq2czZI8.js";import"./assets-CmvcfQKP.js";import"./MoneyCollectOutlined-BEJwuBNw.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-DhcLARst.js";import"./styleChecker-65ImXUxL.js";import"./AlipayOutlined-7zTy6hzu.js";import"./AlipayOutlined-tZM3mGx9.js";import"./index-nJJZPdRt.js";import"./useBreakpoint-DfVTHTv0.js";import"./index-BOGE8Tfq.js";import"./ReloadOutlined-B00s2TmV.js";import"./QuestionCircleOutlined-DSm95oJP.js";function k(){const i=e.c(16),{key:l,refresh:n}=c();let d,m,u,y;i[0]===Symbol.for("react.memo_cache_sentinel")?(d={title:"用户名",key:"username",width:160,fixed:"left",render:g},m={title:"状态",key:"deleted_at",width:80,render:b},u={type:"time",title:"更新时间",key:"updated_at",width:200},i[0]=d,i[1]=m,i[2]=u):(d=i[0],m=i[1],u=i[2]),i[3]!==n?(y=[d,m,u,{title:"操作",fixed:"right",width:120,render:(e,i)=>t.jsx(w,{record:i,refresh:n})}],i[3]=n,i[4]=y):y=i[4];const h=y;let _,k,O,C,D,S;return i[5]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(f,{}),i[5]=_):_=i[5],i[6]!==n?(k=t.jsx(s,{type:"primary",icon:_,onClick:()=>{n()},children:"刷新列表"}),i[6]=n,i[7]=k):k=i[7],i[8]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(r,{type:"warning",description:t.jsxs(t.Fragment,{children:[t.jsx(x,{className:"mr-1"}),"默认数据为最新的启用数据，且数据会随着管理员在主页设置默认主页数据而更新！管理员保存新的默认数据后，所有先前启用数据均会禁用！"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),C=t.jsx(o,{className:"my-3"}),i[8]=O,i[9]=C):(O=i[8],C=i[9]),i[10]!==h||i[11]!==l?(D=t.jsx(j,{columns:h,getListUrl:a.getDefaultDataList,dataKey:"data.list",tableKey:l}),i[10]=h,i[11]=l,i[12]=D):D=i[12],i[13]!==k||i[14]!==D?(S=t.jsxs(p,{children:[k,O,C,D]}),i[13]=k,i[14]=D,i[15]=S):S=i[15],S}function b(e){return t.jsx(y,{color:e?"red":"green",children:e?"禁用":"启用"})}function g(e){return t.jsx(y,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(h,{}),children:e||"已注销"})}const w=i.memo((r=>{const o=e.c(33),{record:c,refresh:j}=r;let p;o[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],o[0]=p):p=o[0];const[f,x]=i.useState(p);let y;o[1]!==c.id||o[2]!==j?(y=function(){l(0,x);const e=n.getState().user.token;setTimeout((()=>{d({url:a.enableDefaultData,token:e,data:{id:c.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(0,x)}))}),500)},o[1]=c.id,o[2]=j,o[3]=y):y=o[3];const h=y;let k;o[4]!==c.id||o[5]!==j?(k=function(){l(0,x);const e=n.getState().user.token;setTimeout((()=>{d({url:a.disableDefaultData,token:e,data:{id:c.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(0,x)}))}),500)},o[4]=c.id,o[5]=j,o[6]=k):k=o[6];const b=k;let g;o[7]!==c.id||o[8]!==j?(g=function(){l(1,x);const e=n.getState().user.token;setTimeout((()=>{d({url:a.deleteDefaultData,token:e,data:{id:c.id}}).then((e=>{200===e.code&&j()})).finally((()=>{m(1,x)}))}),500)},o[7]=c.id,o[8]=j,o[9]=g):g=o[9];const w=g,O=c.deleted_at?"是否确认恢复？":"是否确认禁用？",C=c.deleted_at?h:b;let D,S,R,T,M,N,A,L,U;return o[10]===Symbol.for("react.memo_cache_sentinel")?(D={width:"44px"},o[10]=D):D=o[10],o[11]!==f[0]||o[12]!==c.deleted_at?(S=f[0]?t.jsx(u,{}):c.deleted_at?"恢复":"禁用",o[11]=f[0],o[12]=c.deleted_at,o[13]=S):S=o[13],o[14]!==f[0]||o[15]!==S?(R=t.jsx(s,{type:"link",size:"small",disabled:f[0],style:D,children:S}),o[14]=f[0],o[15]=S,o[16]=R):R=o[16],o[17]!==O||o[18]!==C||o[19]!==R?(T=t.jsx(_,{title:O,onConfirm:C,children:R}),o[17]=O,o[18]=C,o[19]=R,o[20]=T):T=o[20],o[21]===Symbol.for("react.memo_cache_sentinel")?(M={width:"44px"},o[21]=M):M=o[21],o[22]!==f[1]?(N=f[1]?t.jsx(u,{}):"删除",o[22]=f[1],o[23]=N):N=o[23],o[24]!==f[1]||o[25]!==N?(A=t.jsx(s,{danger:!0,type:"link",size:"small",disabled:f[1],style:M,children:N}),o[24]=f[1],o[25]=N,o[26]=A):A=o[26],o[27]!==w||o[28]!==A?(L=t.jsx(_,{title:"是否确认删除？",onConfirm:w,children:A}),o[27]=w,o[28]=A,o[29]=L):L=o[29],o[30]!==L||o[31]!==T?(U=t.jsxs("div",{className:"flex flex-wrap",children:[T,L]}),o[30]=L,o[31]=T,o[32]=U):U=o[32],U}));export{k as default};
