import{c as e,r,j as l,B as s,l as t,a,O as o,v as n,X as i,m,n as c,Q as u,F as d,o as f}from"./requestIdleCallbackPolyfill-CMQytVNM.js";import{T as p}from"./TextArea-BVdfYhal.js";import{C as j}from"./contentLayout-B2xkFxBg.js";import{F as h}from"./index-an0ecRUG.js";import{I as x}from"./index-DFvvIZw7.js";import{S as _}from"./index-C0VI32OI.js";import{R as b}from"./QuestionCircleOutlined-C86UCUjM.js";import"./getAllowClear-CQL-qcwH.js";import"./row-u25p8zFA.js";import"./useBreakpoint-FgAGqyY3.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./Input-BxBpiWMo.js";function y(){const y=e.c(22),[w]=h.useForm();let g;y[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],y[0]=g):g=y[0];const[S,C]=r.useState(g);let I;y[1]!==w?(I=function(){t(0,C);const e=a.getState().user.token;o({url:f.getInfoConfig,token:e}).then((e=>{w.setFieldsValue(e.data)})).finally((()=>{n(0,C)}))},y[1]=w,y[2]=I):I=y[2];const q=I;let v,k,F;y[3]!==q?(v=()=>{q()},y[3]=q,y[4]=v):v=y[4],y[5]===Symbol.for("react.memo_cache_sentinel")?(k=[],y[5]=k):k=y[5],r.useEffect(v,k),y[6]===Symbol.for("react.memo_cache_sentinel")?(F=function(e){if(e.server_url&&!i(e.server_url))return void m.error("后台服务地址必须以http或https开头");t(1,C);const r=a.getState().user.token;c({url:f.updateInfoConfig,token:r,data:e}).finally((()=>{n(1,C)}))},y[6]=F):F=y[6];const N=F;let Q,O,R,T,A,B,P,z,E,L;return y[7]===Symbol.for("react.memo_cache_sentinel")?(Q=l.jsx(u,{type:"warning",description:l.jsxs(l.Fragment,{children:[l.jsx(b,{className:"mr-1"}),"更新网页的标题、描述等项目基础信息，别的信息可以自行更改项目文件，达到更改目的！或联系作者：dengxiwang@aliyun.com"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),y[7]=Q):Q=y[7],y[8]===Symbol.for("react.memo_cache_sentinel")?(O={flex:"120px"},y[8]=O):O=y[8],y[9]===Symbol.for("react.memo_cache_sentinel")?(R=l.jsx(h.Item,{label:"网站标题",required:!0,name:"web_title",rules:[{required:!0}],children:l.jsx(x,{placeholder:"网站标题",allowClear:!0})}),y[9]=R):R=y[9],y[10]===Symbol.for("react.memo_cache_sentinel")?(T=[{required:!0}],y[10]=T):T=y[10],y[11]===Symbol.for("react.memo_cache_sentinel")?(B=l.jsx(h.Item,{label:"网站描述",required:!0,name:"web_description",rules:T,children:l.jsx(p,{autoSize:{minRows:3,maxRows:3},allowClear:!0,placeholder:"网站描述，head头部中的description信息"})}),A=l.jsx(d,{}),y[11]=A,y[12]=B):(A=y[11],B=y[12]),y[13]===Symbol.for("react.memo_cache_sentinel")?(P=l.jsx(h.Item,{label:"后台服务地址",required:!0,name:"server_url",rules:[{required:!0}],children:l.jsx(x,{allowClear:!0,placeholder:"后台服务地址，如：https://web.gotab.cn"})}),y[13]=P):P=y[13],y[14]!==S[1]?(z=l.jsx("div",{className:"w-full flex justify-center",children:l.jsx(s,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:S[1],children:"保存配置"})}),y[14]=S[1],y[15]=z):z=y[15],y[16]!==w||y[17]!==z?(E=l.jsxs(h,{form:w,className:"w-full",labelCol:O,onFinish:N,children:[R,B,A,P,z]}),y[16]=w,y[17]=z,y[18]=E):E=y[18],y[19]!==S[0]||y[20]!==E?(L=l.jsxs(j,{children:[Q,l.jsx("div",{className:"w-full",children:l.jsx(_,{spinning:S[0],children:E})})]}),y[19]=S[0],y[20]=E,y[21]=L):L=y[21],L}export{y as default};
