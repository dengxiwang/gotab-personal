import{z as e,e as l,C as a,bH as t,bG as n,b9 as s,aX as r,f as o,dZ as i,bN as u,v as c,aO as d}from"./main-CZICg_9p.js";import{t as p,v as f,w as m}from"./useFresh-DWLFEA7P.js";const v=e.createContext(null);const b=(e,c)=>{var d;const{prefixCls:b,className:g,rootClassName:C,children:y,indeterminate:O=!1,style:h,onMouseEnter:x,onMouseLeave:E,skipGroup:N=!1,disabled:j}=e,k=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a}(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:w,direction:$,checkbox:P}=l.useContext(a),V=l.useContext(v),{isFormItemInput:M}=l.useContext(t),S=l.useContext(n),I=null!==(d=(null==V?void 0:V.disabled)||j)&&void 0!==d?d:S,G=l.useRef(k.value),R=l.useRef(null),L=s(c,R);l.useEffect((()=>{null==V||V.registerValue(k.value)}),[]),l.useEffect((()=>{if(!N)return k.value!==G.current&&(null==V||V.cancelValue(G.current),null==V||V.registerValue(k.value),G.current=k.value),()=>null==V?void 0:V.cancelValue(k.value)}),[k.value]),l.useEffect((()=>{var e;(null===(e=R.current)||void 0===e?void 0:e.input)&&(R.current.input.indeterminate=O)}),[O]);const _=w("checkbox",b),q=r(_),[F,H,X]=p(_,q),z=Object.assign({},k);V&&!N&&(z.onChange=(...e)=>{k.onChange&&k.onChange.apply(k,e),V.toggleOption&&V.toggleOption({label:y,value:k.value})},z.name=V.name,z.checked=V.value.includes(k.value));const A=o(`${_}-wrapper`,{[`${_}-rtl`]:"rtl"===$,[`${_}-wrapper-checked`]:z.checked,[`${_}-wrapper-disabled`]:I,[`${_}-wrapper-in-form-item`]:M},null==P?void 0:P.className,g,C,X,q,H),B=o({[`${_}-indeterminate`]:O},i,H),[K,T]=f(z.onClick);return F(l.createElement(u,{component:"Checkbox",disabled:I},l.createElement("label",{className:A,style:Object.assign(Object.assign({},null==P?void 0:P.style),h),onMouseEnter:x,onMouseLeave:E,onClick:K},l.createElement(m,Object.assign({},z,{onClick:T,prefixCls:_,className:B,disabled:I,ref:L})),null!=y&&l.createElement("span",{className:`${_}-label`},y))))},g=l.forwardRef(b);const C=l.forwardRef(((e,t)=>{const{defaultValue:n,children:s,options:i=[],prefixCls:u,className:f,rootClassName:m,style:b,onChange:C}=e,y=function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a}(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:h}=l.useContext(a),[x,E]=l.useState(y.value||n||[]),[N,j]=l.useState([]);l.useEffect((()=>{"value"in y&&E(y.value||[])}),[y.value]);const k=l.useMemo((()=>i.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[i]),w=e=>{j((l=>l.filter((l=>l!==e))))},$=e=>{j((l=>[].concat(d(l),[e])))},P=e=>{const l=x.indexOf(e.value),a=d(x);-1===l?a.push(e.value):a.splice(l,1),"value"in y||E(a),null==C||C(a.filter((e=>N.includes(e))).sort(((e,l)=>k.findIndex((l=>l.value===e))-k.findIndex((e=>e.value===l)))))},V=O("checkbox",u),M=`${V}-group`,S=r(V),[I,G,R]=p(V,S),L=c(y,["value","disabled"]),_=i.length?k.map((e=>l.createElement(g,{prefixCls:V,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:x.includes(e.value),onChange:e.onChange,className:o(`${M}-item`,e.className),style:e.style,title:e.title,id:e.id,required:e.required},e.label))):s,q=l.useMemo((()=>({toggleOption:P,value:x,disabled:y.disabled,name:y.name,registerValue:$,cancelValue:w})),[P,x,y.disabled,y.name,$,w]),F=o(M,{[`${M}-rtl`]:"rtl"===h},f,m,R,S,G);return I(l.createElement("div",Object.assign({className:F,style:b},L,{ref:t}),l.createElement(v.Provider,{value:q},_)))})),y=g;y.Group=C,y.__ANT_CHECKBOX=!0;export{y as C};
