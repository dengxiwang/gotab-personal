import{Z as e,ca as o,u as s,cb as a,h as l,r,aE as t,c1 as i,bT as n,j as d,cc as c,a1 as b}from"./requestIdleCallbackPolyfill-CMQytVNM.js";const h=e.create((e=>{const{title:h,children:g,footer:m=null,width:p,bodyStyle:u,contentStyle:f,style:k,centered:v=!0,backgroundOpacity:y,height:w,contentPaddingY:x=20,contentPaddingX:C=24,transition:$=!0,maskBlur:M=!0,overflowX:T="hidden",showMask:j=!0,showCloseIcon:O=!0,maskToClose:I=!0,onClose:P,destroyOnClose:B=!0,onClosedUseTabListen:E=!0}=e,H=o(),N=s(),S=a(),X=l((e=>e.wallpaperTheme.themeMode)),q=l((e=>e.card.bgBackdropFilter));r.useEffect((()=>()=>{H.hide()}),[S.pathname,S.search]),t((()=>(H.visible&&N(i(!1)),()=>{E&&N(i(!0))})),[H.visible,E]);const z=n("(prefers-color-scheme: dark)"),A=r.useMemo((()=>({body:{overflow:"hidden"===T?"hidden scroll":"visible",height:w,maxHeight:`calc(100vh - ${32+(h?4:2)*x}px)`,...u},content:{borderRadius:16,overflow:"hidden",padding:`${x}px ${C}px`,background:"auto"===X?z?`rgba(25,25,25,${q&&y||1})`:q?`rgba(255,255,255,${y||1})`:y?"rgb(235, 235, 235)":"rgb(255,255,255)":"light"===X?q?`rgba(255,255,255,${y||1})`:y?"rgb(235, 235, 235)":"rgb(255,255,255)":`rgba(25,25,25,${q&&y||1})`,...f}})),[T,w,h,x,u,C,X,z,y,f,q]),F=r.useMemo((()=>({maxWidth:"calc(100vw - 32px)",overflow:"visible",margin:v?16:void 0,...k})),[v,k]);return d.jsx(c,{width:p,title:h,open:H.visible,onOk:H.hide,onCancel:()=>{H.hide(),P&&P()},transitionName:$?"ant-zoom-big":"",maskClosable:I,mask:j,closable:O,closeIcon:O&&d.jsx(b,{}),classNames:{mask:M&&q?"backdrop-blur-sm":""},styles:A,style:F,centered:v,footer:m,destroyOnHidden:B,focusTriggerAfterClose:!1,children:g},"my-modal")}));export{h as M};
