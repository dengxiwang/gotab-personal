import{c as e,j as t,r as s,B as i,Q as r,F as l,o,l as n,a,n as d,v as m,Z as c}from"./requestIdleCallbackPolyfill-DuXR6Mmk.js";import{u as j}from"./useFresh-Do_Ws6bQ.js";import{M as u,R as p}from"./myTable-CbbjE3E6.js";import{C as f}from"./contentLayout-OdI3Fib5.js";import{R as x}from"./ReloadOutlined-CFFAt0_1.js";import{R as y}from"./QuestionCircleOutlined-BiPPkPpK.js";import{T as h}from"./index-CBlsidtm.js";import{R as _}from"./UserOutlined-CwFVHM6E.js";import"./index-ffXlViMr.js";import"./index-mmVZs6--.js";import"./LeftOutlined-D9Sp279J.js";import"./MailOutlined-kR6rLhHd.js";import"./Overflow-BhMs7XL1.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./index-COg7AUHb.js";import"./getAllowClear-BFzTGu2W.js";import"./Input-DeCKxNbM.js";import"./transformData-LnL-S5OD.js";import"./assets-B8Bi78Vh.js";import"./MoneyCollectOutlined-CdqS2ql2.js";import"./MoneyCollectOutlined-4QlEwa2l.js";import"./index-BA4fhmwH.js";import"./styleChecker-Dktf464x.js";import"./AlipayOutlined-CoKdvoez.js";import"./AlipayOutlined-tZM3mGx9.js";import"./useBreakpoint-BLWHdwqk.js";import"./index-BR_vpJNT.js";import"./ReloadOutlined-B00s2TmV.js";import"./QuestionCircleOutlined-DSm95oJP.js";function k(){const s=e.c(16),{key:n,refresh:a}=j();let d,m,c,p;s[0]===Symbol.for("react.memo_cache_sentinel")?(d={title:"用户名",key:"username",width:160,fixed:"left",render:g},m={title:"状态",key:"deleted_at",width:80,render:b},c={type:"time",title:"更新时间",key:"updated_at",width:200},s[0]=d,s[1]=m,s[2]=c):(d=s[0],m=s[1],c=s[2]),s[3]!==a?(p=[d,m,c,{title:"操作",fixed:"right",width:120,render:(e,s)=>t.jsx(O,{record:s,refresh:a})}],s[3]=a,s[4]=p):p=s[4];const h=p;let _,k,w,C,S,D;return s[5]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(x,{}),s[5]=_):_=s[5],s[6]!==a?(k=t.jsx(i,{type:"primary",icon:_,onClick:()=>{a()},children:"刷新列表"}),s[6]=a,s[7]=k):k=s[7],s[8]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(r,{type:"warning",description:t.jsxs(t.Fragment,{children:[t.jsx(y,{className:"mr-1"}),"默认数据为最新的启用数据，且数据会随着管理员在主页设置默认主页数据而更新！管理员保存新的默认数据后，所有先前启用数据均会禁用！"]}),className:"mt-3 p-1 px-3 text-xs font-normal w-full"}),C=t.jsx(l,{className:"my-3"}),s[8]=w,s[9]=C):(w=s[8],C=s[9]),s[10]!==h||s[11]!==n?(S=t.jsx(u,{columns:h,getListUrl:o.getDefaultDataList,dataKey:"data.list",tableKey:n}),s[10]=h,s[11]=n,s[12]=S):S=s[12],s[13]!==k||s[14]!==S?(D=t.jsxs(f,{children:[k,w,C,S]}),s[13]=k,s[14]=S,s[15]=D):D=s[15],D}function b(e){return t.jsx(h,{color:e?"red":"green",children:e?"禁用":"启用"})}function g(e){return t.jsx(h,{color:e?"geekblue":"red",bordered:!1,icon:t.jsx(_,{}),children:e||"已注销"})}const O=s.memo((r=>{const l=e.c(33),{record:j,refresh:u}=r;let f;l[0]===Symbol.for("react.memo_cache_sentinel")?(f=[],l[0]=f):f=l[0];const[x,y]=s.useState(f);let h;l[1]!==j.id||l[2]!==u?(h=function(){n(0,y);const e=a.getState().user.token;setTimeout((()=>{d({url:o.enableDefaultData,token:e,data:{id:j.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(0,y)}))}),500)},l[1]=j.id,l[2]=u,l[3]=h):h=l[3];const _=h;let k;l[4]!==j.id||l[5]!==u?(k=function(){n(0,y);const e=a.getState().user.token;setTimeout((()=>{d({url:o.disableDefaultData,token:e,data:{id:j.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(0,y)}))}),500)},l[4]=j.id,l[5]=u,l[6]=k):k=l[6];const b=k;let g;l[7]!==j.id||l[8]!==u?(g=function(){n(1,y);const e=a.getState().user.token;setTimeout((()=>{d({url:o.deleteDefaultData,token:e,data:{id:j.id}}).then((e=>{200===e.code&&u()})).finally((()=>{m(1,y)}))}),500)},l[7]=j.id,l[8]=u,l[9]=g):g=l[9];const O=g,w=j.deleted_at?"是否确认恢复？":"是否确认禁用？",C=j.deleted_at?_:b;let S,D,R,Q,T,L,M,N,v;return l[10]===Symbol.for("react.memo_cache_sentinel")?(S={width:"44px"},l[10]=S):S=l[10],l[11]!==x[0]||l[12]!==j.deleted_at?(D=x[0]?t.jsx(p,{}):j.deleted_at?"恢复":"禁用",l[11]=x[0],l[12]=j.deleted_at,l[13]=D):D=l[13],l[14]!==x[0]||l[15]!==D?(R=t.jsx(i,{type:"link",size:"small",disabled:x[0],style:S,children:D}),l[14]=x[0],l[15]=D,l[16]=R):R=l[16],l[17]!==w||l[18]!==C||l[19]!==R?(Q=t.jsx(c,{title:w,onConfirm:C,children:R}),l[17]=w,l[18]=C,l[19]=R,l[20]=Q):Q=l[20],l[21]===Symbol.for("react.memo_cache_sentinel")?(T={width:"44px"},l[21]=T):T=l[21],l[22]!==x[1]?(L=x[1]?t.jsx(p,{}):"删除",l[22]=x[1],l[23]=L):L=l[23],l[24]!==x[1]||l[25]!==L?(M=t.jsx(i,{danger:!0,type:"link",size:"small",disabled:x[1],style:T,children:L}),l[24]=x[1],l[25]=L,l[26]=M):M=l[26],l[27]!==O||l[28]!==M?(N=t.jsx(c,{title:"是否确认删除？",onConfirm:O,children:M}),l[27]=O,l[28]=M,l[29]=N):N=l[29],l[30]!==N||l[31]!==Q?(v=t.jsxs("div",{className:"flex flex-wrap",children:[Q,N]}),l[30]=N,l[31]=Q,l[32]=v):v=l[32],v}));export{k as default};
