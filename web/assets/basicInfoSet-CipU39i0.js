import{x as e,e as r,j as s,B as t,af as a,a0 as l,at as o,aj as n,aw as i,H as m,ag as c,w as u,ao as f,ah as d}from"./main-CZICg_9p.js";import{T as p}from"./TextArea-DyCsfJsB.js";import{C as j}from"./contentLayout-CFQB4wx2.js";import{F as x}from"./index-DAZDoWYi.js";import{I as h}from"./index-tClK7lS-.js";import{S as _}from"./index-DfRqCMfV.js";import{R as w}from"./QuestionCircleOutlined-DHLBxQPL.js";import"./getAllowClear-DQxosAX4.js";import"./row-DrpsAKvZ.js";import"./useBreakpoint-BZb4ldvf.js";import"./mediaQueryUtil-DPPPwwPM.js";import"./QuestionCircleOutlined-DSm95oJP.js";import"./Input-7K40gA8S.js";function b(){const b=e.c(22),[y]=x.useForm();let g;b[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],b[0]=g):g=b[0];const[S,C]=r.useState(g);let I;b[1]!==y?(I=function(){a(0,C);const e=l.getState().user.token;o({url:d.getInfoConfig,token:e}).then((e=>{y.setFieldsValue(e.data)})).finally((()=>{n(0,C)}))},b[1]=y,b[2]=I):I=b[2];const q=I;let v,F,N;b[3]!==q?(v=()=>{q()},b[3]=q,b[4]=v):v=b[4],b[5]===Symbol.for("react.memo_cache_sentinel")?(F=[],b[5]=F):F=b[5],r.useEffect(v,F),b[6]===Symbol.for("react.memo_cache_sentinel")?(N=function(e){if(e.server_url&&!i(e.server_url))return void m.error("后台服务地址必须以http或https开头");a(1,C);const r=l.getState().user.token;c({url:d.updateInfoConfig,token:r,data:e}).finally((()=>{n(1,C)}))},b[6]=N):N=b[6];const k=N;let B,Q,R,T,A,E,H,L,O,z;return b[7]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(u,{type:"warning",description:s.jsxs(s.Fragment,{children:[s.jsx(w,{className:"mr-1"}),"更新网页的标题、描述等项目基础信息，别的信息可以自行更改项目文件，达到更改目的！或联系作者：dengxiwang@aliyun.com"]}),className:"mb-4 p-1 px-3 text-xs font-normal w-full"}),b[7]=B):B=b[7],b[8]===Symbol.for("react.memo_cache_sentinel")?(Q={flex:"120px"},b[8]=Q):Q=b[8],b[9]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx(x.Item,{label:"网站标题",required:!0,name:"web_title",rules:[{required:!0}],children:s.jsx(h,{placeholder:"网站标题",allowClear:!0})}),b[9]=R):R=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(T=[{required:!0}],b[10]=T):T=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsx(x.Item,{label:"网站描述",required:!0,name:"web_description",rules:T,children:s.jsx(p,{autoSize:{minRows:3,maxRows:3},allowClear:!0,placeholder:"网站描述，head头部中的description信息"})}),A=s.jsx(f,{}),b[11]=A,b[12]=E):(A=b[11],E=b[12]),b[13]===Symbol.for("react.memo_cache_sentinel")?(H=s.jsx(x.Item,{label:"后台服务地址",required:!0,name:"server_url",rules:[{required:!0}],children:s.jsx(h,{allowClear:!0,placeholder:"后台服务地址，如：https://web.gotab.cn"})}),b[13]=H):H=b[13],b[14]!==S[1]?(L=s.jsx("div",{className:"w-full flex justify-center",children:s.jsx(t,{htmlType:"submit",type:"primary",className:"w-full max-w-64",loading:S[1],children:"保存配置"})}),b[14]=S[1],b[15]=L):L=b[15],b[16]!==y||b[17]!==L?(O=s.jsxs(x,{form:y,className:"w-full",labelCol:Q,onFinish:k,children:[R,E,A,H,L]}),b[16]=y,b[17]=L,b[18]=O):O=b[18],b[19]!==S[0]||b[20]!==O?(z=s.jsxs(j,{children:[B,s.jsx("div",{className:"w-full",children:s.jsx(_,{spinning:S[0],children:O})})]}),b[19]=S[0],b[20]=O,b[21]=z):z=b[21],z}export{b as default};
